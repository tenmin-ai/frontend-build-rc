"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2868],{28529:function(e,t,n){n.d(t,{MI:function(){return x},nQ:function(){return u}});var r=n(57437),s=n(2265),a=n(61273),l=n(22744),i=n(80434),o=n(32859),c=n(84436);let u=e=>{let{profilePicture:t,message:n,translation:a,isPlaying:u=!1,onTap:d,onTTSPlay:x,onTTSStop:m,onTranslate:f,defaultShowTranslation:h=!0}=e,[v,p]=(0,s.useState)(h);return(0,r.jsxs)("div",{className:"mb-6 mr-6 pb-3 pt-4",onClick:d,children:["string"==typeof t?(0,r.jsx)("img",{src:t,className:"mb-2 h-6 w-6 rounded-full"}):t,(0,r.jsx)("div",{className:"prose text-[0.975rem] font-normal",children:void 0===n?(0,r.jsxs)("div",{className:"mb-4 flex flex-col gap-2",children:[(0,r.jsx)("div",{className:"h-2 w-full rounded-full bg-gray-200"}),(0,r.jsx)("div",{className:"h-2 w-2/3 rounded-full bg-gray-200"})]}):(0,r.jsx)(c.U,{children:(0,i.f)(n)})}),(0,r.jsx)("div",{className:"transition-max-height overflow-hidden text-sm text-black/30 duration-700 ease-in-out ".concat(v?"max-h-40 opacity-100":"max-h-0 opacity-0"),children:a}),(0,r.jsxs)("div",{className:"mt-2 flex gap-0",children:[x&&(0,r.jsx)("button",{className:"py-1 pr-1",onClick:e=>{e.stopPropagation(),u?null==m||m():x()},children:(0,r.jsx)(o.J,{icon:u?l.H6t:l.hwG,className:"text-xl text-black/30"})}),f&&(0,r.jsx)("button",{className:"p-1",onClick:e=>{e.stopPropagation(),f(!v),p(!v)},children:(0,r.jsx)(l.mp2,{className:"text-xl text-black/30"})})]})]})},d=["No Mistake","Punctuation","Spelling"],x=e=>{let t,n,l,{message:i,translation:o,correction:c,onTap:u,onTranslate:x,onRedo:m,defaultShowTranslation:f=!0}=e,[h,v]=(0,s.useState)(f),p="flex-initial bg-[#2552F4]/5 font-base ring-1 rounded-2xl py-4 px-4 ring-[#2552F4]/20 text-[#2552F4]";c?"Grammar"===c.mistake||"Phrasing"===c.mistake?(t=(0,r.jsx)("div",{className:"font-normal text-red-600 line-through",children:i}),n=(0,r.jsx)("div",{className:"text-green-600",children:c.correct_version})):d.includes(c.mistake)?(p="relative flex-initial bg-green-500/5 ring-1 rounded-lg pt-4 pb-3 px-4 ring-green-600/20",t=(0,r.jsx)("div",{className:"font-normal text-green-600",children:i}),l=(0,r.jsx)(a.ETl,{className:"absolute -bottom-2 -right-2 text-xl text-green-600"})):t=(0,r.jsx)("div",{className:"font-normal",children:i}):t="\uD83D\uDD0A"===i?(0,r.jsx)("img",{src:"soundwaves.svg",alt:"Soundwaves",className:"py-1 opacity-60"}):(0,r.jsx)("div",{className:"font-normal",children:i});let y=o&&h&&(0,r.jsx)("div",{className:"text-sm text-black/30",children:o});return(0,r.jsxs)("div",{className:"mb-6 ml-14 flex flex-wrap-reverse items-center justify-end gap-y-3",children:[c&&c.explanation&&!d.includes(c.mistake)&&(0,r.jsxs)("div",{className:"-ml-10 mr-3 grow basis-32 text-xs",children:[(0,r.jsxs)("p",{className:"font-bold",children:[c.mistake,(0,r.jsx)(a.EQK,{className:"mx-1 inline-block"})]}),(0,r.jsx)("p",{className:"italic",children:c.explanation})]}),m&&(0,r.jsx)("button",{className:"py-1 pr-5 text-black/30",onClick:e=>{e.stopPropagation(),m()},children:(0,r.jsx)(a.YRv,{className:"-rotate-45"})}),(0,r.jsxs)("div",{className:p,onClick:u,children:[t,n,y,(0,r.jsx)("div",{className:"-mb-2 mt-2 flex items-center gap-2 text-sm text-black/30"}),l]})]})};t.ZP=x},33344:function(e,t,n){n.d(t,{GI:function(){return o},PA:function(){return f},ax:function(){return c},bi:function(){return u},iy:function(){return l},rs:function(){return x}});var r=n(52274),s=n(19856);let a=(e,t,n)=>{var r;let a={_id:e,baseUrl:(null!==(r=null==t?void 0:t.client)&&void 0!==r?r:s.Lp).getConfig().baseUrl};return n&&(a._infinite=n),(null==t?void 0:t.body)&&(a.body=t.body),(null==t?void 0:t.headers)&&(a.headers=t.headers),(null==t?void 0:t.path)&&(a.path=t.path),(null==t?void 0:t.query)&&(a.query=t.query),a},l=()=>({mutationFn:async e=>{let{data:t}=await (0,s.H4)({...e,throwOnError:!0});return t}}),i=e=>[a("userMyData",e)],o=e=>(0,r.C)({queryFn:async t=>{let{queryKey:n}=t,{data:r}=await (0,s.It)({...e,...n[0],throwOnError:!0});return r},queryKey:i(e)}),c=()=>({mutationFn:async e=>{let{data:t}=await (0,s._5)({...e,throwOnError:!0});return t}}),u=()=>({mutationFn:async e=>{let{data:t}=await (0,s._G)({...e,throwOnError:!0});return t}}),d=e=>[a("tutoringGetAll",e)],x=e=>(0,r.C)({queryFn:async t=>{let{queryKey:n}=t,{data:r}=await (0,s.zW)({...e,...n[0],throwOnError:!0});return r},queryKey:d(e)}),m=e=>[a("tutoringGetLeaderboard",e)],f=e=>(0,r.C)({queryFn:async t=>{let{queryKey:n}=t,{data:r}=await (0,s.Vz)({...e,...n[0],throwOnError:!0});return r},queryKey:m(e)})},68171:function(e,t,n){n.d(t,{y:function(){return o}});var r=n(57437),s=n(2265),a=e=>{let{onStartPress:t,onEndPress:n,onCancel:a,onTap:l,cancelButtonRef:i,children:o}=e,[c,u]=(0,s.useState)(!1),d=(0,s.useRef)({x:0,y:0}),x=(0,s.useRef)(0),[m,f]=(0,s.useState)(!1);(0,s.useEffect)(()=>{if(console.log("useEffect isActive",c),c)x.current=Date.now();else{let e=Date.now()-x.current;console.log("duration ",e),e<200&&l()}},[c]),(0,s.useEffect)(()=>{let e=e=>{" "!==e.key&&"Spacebar"!==e.key&&32!==e.keyCode||(e.preventDefault(),c||(u(!0),t()))},r=e=>{(" "===e.key||"Spacebar"===e.key||32===e.keyCode)&&(e.preventDefault(),c&&(u(!1),n()))};return window.addEventListener("keydown",e),window.addEventListener("keyup",r),()=>{window.removeEventListener("keydown",e),window.removeEventListener("keyup",r)}},[c,t,n,l]);let h=e=>{if(i.current){let t=i.current.getBoundingClientRect();return e.x>=t.left&&e.x<=t.right&&e.y>=t.top&&e.y<=t.bottom}return!1};return(0,s.useEffect)(()=>{let e=e=>{var t,n;if(!c)return;let r=e.touches[0];h({x:r.clientX,y:r.clientY})?null===(t=i.current)||void 0===t||t.classList.add("scale-110","bg-red-300"):null===(n=i.current)||void 0===n||n.classList.remove("scale-110","bg-red-300")};return window.addEventListener("touchmove",e,{passive:!1}),()=>{window.removeEventListener("touchmove",e)}},[c,i]),(0,r.jsx)("button",{onTouchStart:e=>{f(!0),e.stopPropagation(),e.preventDefault(),u(!0),t();let n=e.touches[0];d.current={x:n.clientX,y:n.clientY}},onTouchEnd:e=>{e.stopPropagation(),e.preventDefault(),u(!1);let t=e.changedTouches[0];h({x:t.clientX,y:t.clientY})?a():n()},onMouseDown:e=>{m||(e.preventDefault(),u(!0),t(),d.current={x:e.clientX,y:e.clientY})},onMouseUp:e=>{m||(e.preventDefault(),u(!1),h({x:e.clientX,y:e.clientY})?a():n())},onContextMenu:e=>e.preventDefault(),className:"microphoneButton touch-none",children:o?o(c):"Press and Hold"})},l=n(61273),i=n(32859);let o=e=>{let{onStartPress:t,onEndPress:n,onCancel:o,onTap:c,leftToggle:u,rightToggle:d}=e,[x,m]=(0,s.useState)(!1),f=(0,s.useRef)(null);return(0,r.jsxs)("div",{className:"flex w-full items-center justify-center gap-6",children:[!x&&u,x&&(0,r.jsx)("button",{ref:f,className:"flex h-14 w-14 items-center justify-center rounded-full bg-red-200 text-2xl text-red-600 ring-2 ring-red-600/50 transition-transform duration-200 ease-in-out hover:scale-110",children:(0,r.jsx)(l._0w,{})}),(0,r.jsx)(a,{onStartPress:()=>{m(!0),t()},onEndPress:()=>{m(!1),n()},onTap:c,onCancel:()=>{m(!1),o()},cancelButtonRef:f,children:e=>(0,r.jsx)("div",{className:"".concat(e?"bg-[#0039FF]/20 text-[#2552F4] ring-2 ring-[#2552F4]/40":"bg-[#2552F4] text-white"," rounded-full px-12 py-6 text-3xl"),children:(0,r.jsx)(i.J,{icon:e?l.ZTc:l.uYL})})}),!x&&d,x&&(0,r.jsx)("div",{className:"w-12"})]})}},89403:function(e,t,n){n.d(t,{f:function(){return s}});var r=n(53974);let s=()=>{let[e,t]=(0,r.useLocalStorage)("token");return{token:e,saveToken:t}}},32859:function(e,t,n){n.d(t,{J:function(){return s}});var r=n(57437);n(2265);let s=e=>{let{icon:t,className:n,...s}=e;return(0,r.jsx)(t,{className:n,...s})}},80434:function(e,t,n){n.d(t,{f:function(){return r}});let r=e=>e||"â€‹"}}]);
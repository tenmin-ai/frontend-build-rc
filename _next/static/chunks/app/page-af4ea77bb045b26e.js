(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1931],{8478:function(e){function t(e){return Promise.resolve().then(function(){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}t.keys=function(){return[]},t.resolve=t,t.id=8478,e.exports=t},3958:function(e,t,s){Promise.resolve().then(s.bind(s,2364))},5276:function(e,t,s){"use strict";s.d(t,{BackendProvider:function(){return u},h:function(){return m}});var l=s(7437),n=s(2265),a=s(3974),r=s(9856),i=s(946),o=s(9827),c=s(9376);r.Lp.setConfig({baseUrl:"https://backend-us-rc.tenmin.ai"}),r.Lp.interceptors.request.use((e,t)=>{let s=localStorage.getItem("token");return s&&e.headers.set("Authorization","Bearer "+JSON.parse(s)),e});let d=new i.S,x=(0,n.createContext)(void 0),u=e=>{let{children:t}=e,s=(0,a.useIsClient)(),i=(0,c.useRouter)(),u=(0,c.usePathname)(),[m,h]=(0,n.useState)(null);return((0,n.useEffect)(()=>{if(s){let e=localStorage.getItem("token");h(e),console.log(u),e||"/login"===u||i.push("/onboarding")}},[s,i]),s)?(0,l.jsx)(x.Provider,{value:{authedClient:r.Lp,isLoggedIn:!!localStorage.getItem("token"),saveToken:e=>{localStorage.setItem("token",JSON.stringify(e)),h(e)}},children:(0,l.jsx)(o.aH,{client:d,children:t})}):(0,l.jsx)("main",{className:"bg-[#0039FF] h-screen-safe w-screen flex justify-center items-center",children:(0,l.jsx)("img",{src:"tenmin_new_logo_white.svg",alt:"",className:"w-10"})})},m=()=>{let e=(0,n.useContext)(x);if(!e)throw Error("useAuthContext must be used within an AuthProvider");return e}},2364:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return P}});var l=s(7437),n=s(3920),a=s.n(n),r=s(2265),i=s(1273),o=s(9376),c=s(5276),d=s(3069),x=s(8079),u=s(16),m=s(3344),h=s(3974),g=s(718),f=s.n(g);let v=e=>{let{color:t="currentColor",strokeColor:s="white",size:n=20}=e;return(0,l.jsxs)("svg",{width:n,height:n,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,l.jsx)("path",{d:"M19.2177 18.9323C19.2177 19.2155 19.1053 19.4871 18.905 19.6873C18.7048 19.8875 18.4332 20 18.1501 20H1.06765C0.784493 20 0.512932 19.8875 0.312708 19.6873C0.112485 19.4871 2.56995e-07 19.2155 2.56995e-07 18.9323V7.71132C-0.00011262 7.54863 0.0369591 7.38806 0.108384 7.24188C0.179808 7.0957 0.283697 6.96777 0.412114 6.86788L8.95333 0.224948C9.14075 0.0791549 9.37142 0 9.60887 0C9.84631 0 10.077 0.0791549 10.2644 0.224948L18.8056 6.86788C18.934 6.96777 19.0379 7.0957 19.1094 7.24188C19.1808 7.38806 19.2178 7.54863 19.2177 7.71132V18.9323Z",fill:t}),(0,l.jsx)("path",{d:"M14.5853 14.6666C14.1709 14.8873 13.4676 15.0761 12.5643 15.2091C11.661 15.3421 10.5982 15.4133 9.51045 15.4138C8.42265 15.4142 7.35868 15.3439 6.45306 15.2117C5.54744 15.0794 4.84087 14.8912 4.42267 14.6709",stroke:s,strokeWidth:"2",strokeLinecap:"round"})]})};v.propTypes={color:f().string,strokeColor:f().string,size:f().number};var p=s(3621),b=s(7140),j=s(5449),F=e=>{let{options:t,defaultValue:s,onSegmentChange:n}=e,[a,i]=(0,r.useState)(s||t[0].value);return(0,l.jsx)(j.cJ,{value:a,onIonChange:e=>{let t=e.detail.value;i(t),n&&n(t)},mode:"ios",children:t.map(e=>(0,l.jsx)(j.GO,{value:e.value,children:(0,l.jsx)(j.Q$,{className:"font-medium py-1",children:e.label})},e.value))})},w=s(386),N=s(4272),k=s(3399),y=s(1755);let C=[{id:1,text:"Text 1",translation:"Translation 1",type:"Saved"},{id:2,text:"Text 2",translation:"Translation 2",type:"All"},{id:3,text:"Text 3",translation:"Translation 3",type:"Saved"},{id:4,text:"Text 4",translation:"Translation 4",type:"All"},{id:5,text:"Text 5",translation:"Translation 5",type:"Saved"}];var A=()=>{let[e,t]=(0,r.useState)("Saved"),[s,n]=(0,r.useState)([]),[a,i]=(0,r.useState)(null),[o,c]=(0,r.useState)(""),{startRecording:d,stopRecording:x,playRecording:u,stopPlayback:m,isPracticeRecording:h,isPlayingAudio:g}=(0,y.I)(),f=(0,N.MV)("TTS",{volumeMultiplier:1}),{startSpeaker:v,isPlaying:p,latestAudioId:b,latestCharIndex:j}=(0,k.Z)({onPlaybackChange:(e,t)=>{f.sendAction({type:e?"PLAYBACK_STARTED":"PLAYBACK_FINISHED",id:t})},volume:f.volumeMultiplier,speed:1});return(0,r.useEffect)(()=>n(C.filter(t=>"All"===e||t.type===e)),[e]),(0,l.jsxs)("div",{className:"w-full h-full flex flex-col justify-start items-center gap-2 mb-5 px-7 py-7",children:[(0,l.jsx)(w.e,{isOpen:null!==a,onClose:()=>i(null),detailedTranslation:"number"==typeof a?{wordForWord:[{original:"wordForWord",translation:"translation"}],translation:C[a].translation}:a,isTTSPlaying:p&&"e"==b,onTTSPlay:e=>{v(),console.log(o),o&&f.sendAction({type:"SAY",text_stream:null!=e?e:o,id:"e"})},isPracticeRecording:h,setPracticeRecording:e=>{e?d():x()},isPracticePlaying:g,setPracticePlaying:e=>{e?u():m()}}),(0,l.jsx)(F,{options:[{value:"Saved",label:"Saved"},{value:"All",label:"All"}],onSegmentChange:e=>{t(e)}}),(0,l.jsx)("div",{className:"w-full flex flex-col gap-2 mt-4",children:s.map(e=>(0,l.jsxs)("div",{className:"w-full h-auto bg-white p-4 rounded-lg flex flex-col items-center border-[1px] border-[#DADADA]",onClick:()=>{c(e.text),i({wordForWord:[{original:"wordForWord",translation:"translation"}],translation:e.translation})},children:[(0,l.jsx)("div",{className:"w-full overflow-hidden overflow-ellipsis whitespace-nowrap text-sm",children:e.text}),(0,l.jsx)("div",{className:"w-full text-black/30 overflow-hidden overflow-ellipsis whitespace-nowrap text-sm",children:e.translation})]},e.id))})]})};let S={en:["English (US)","us United States of America usa.svg"],"en-GB":["English (UK)","gb United Kingdom uk.svg"],"en-AU":["English (Australia)","au Australia.svg"],de:["German","de Germany.svg"],es:["Spanish (Spain)","es Spain.svg"],ko:["Korean","kr South Korea.svg"],fr:["French (France)","fr France.svg"],ja:["Japanese","jp Japan.svg"],zh:["Chinese (China)","cn China.svg"],"zh-TW":["Chinese (Taiwan)","tw Taiwan.svg"],hi:["Hindi","in India.svg"],pt:["Portuguese (Brazil)","br Brazil.svg"],"pt-PT":["Portuguese (Portugal)","pt Portugal.svg"],it:["Italian","it Italy.svg"],id:["Indonesian","id Indonesia.svg"],nl:["Dutch","nl Netherlands.svg"],tr:["Turkish","tr Turkey.svg"],pl:["Polish","pl Poland.svg"],sv:["Swedish","se Sweden.svg"],bg:["Bulgarian","bg Bulgaria.svg"],ro:["Romanian","ro Romania.svg"],ar:["Arabic (Saudi Arabia)","sa Saudi Arabia.svg"],cs:["Czech","cz Czech Republic.svg"],el:["Greek","gr Greece.svg"],fi:["Finnish","fi Finland.svg"],hu:["Hungarian","hu Hungary.svg"],no:["Norwegian","no Norway.svg"],vi:["Vietnamese","vn Vietnam.svg"],sk:["Slovak","sk Slovakia.svg"],ru:["Russian","ru Russia.svg"],uk:["Ukrainian","ua Ukraine.svg"],ms:["Malay","my Malaysia.svg"],da:["Danish","dk Denmark.svg"]};function P(){var e,t,s,n;let[g,f]=(0,r.useState)("Home"),[j,F]=(0,r.useState)(!1),[w,N]=(0,h.useLocalStorage)("language","en"),k=(0,r.useRef)(),y=(0,o.useRouter)();(0,c.h)();let{data:C,isLoading:P}=(0,u.a)({...(0,m.rs)({query:{language:w}})}),{data:T}=(0,u.a)({queryKey:["userMyProfile"],queryFn:()=>(0,x.dA)()}),D=null==T?void 0:null===(e=T.data)||void 0===e?void 0:e.profiles[w],_=Object.entries(C||{}),B=_.length>0&&(null===(t=_[0][1])||void 0===t?void 0:t.streak)?null===(s=_[0][1])||void 0===s?void 0:s.streak:0,I=(e,t)=>{y.push("/customizeLesson?tutoring_id="+e+"&lesson_id="+t)},[E,L]=(0,r.useState)({"The Essentials":!0});return(0,l.jsxs)("main",{className:"flex flex-col bg-[#FAFBFF] h-screen-safe pt-5 justify-between tracking-[-0.02em]",children:[(0,l.jsxs)(d.y,{ref:k,isOpen:j,onClose:()=>F(!1),detent:"full-height",tweenConfig:{ease:"easeInOut",duration:.3},disableDrag:!0,children:[(0,l.jsxs)(d.y.Container,{style:{background:"#FAFBFF"},children:[(0,l.jsx)(d.y.Header,{}),(0,l.jsx)("p",{className:"font-semibold text-xl px-8 py-5",children:"What would you like to learn?"}),(0,l.jsx)(d.y.Content,{style:{backgroundColor:"#FAFBFF",paddingBottom:"25px"},children:(0,l.jsx)(d.y.Scroller,{draggableAt:"top",children:(0,l.jsx)("div",{className:"px-8 pb-16 text-black",children:(0,l.jsx)("div",{className:"flex flex-col",children:Object.entries(S).map(e=>{let[t,s]=e;return(0,l.jsxs)("button",{className:"text-lg border-[1px] border-black/10 p-4 rounded-lg mb-4 bg-white flex items-center",onClick:()=>{N(t),F(!1)},children:[(0,l.jsx)("img",{src:"flags/".concat(s[1]),alt:"",className:"h-5 border-[#DADADA] border-[1px] rounded-md mr-3"}),s[0]]},t)})})})})})]}),(0,l.jsx)(d.y.Backdrop,{onTap:()=>{F(!1)}})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between mx-1 px-7",children:[(0,l.jsx)("button",{className:"flex items-center",onClick:()=>F(!0),children:(0,l.jsx)("div",{className:"text-black font-bold text-3xl mr-2",children:(0,l.jsx)("img",{src:"flags/".concat(S[w][1]),alt:"",className:"h-7 border-[#DADADA] border-[1px] rounded-md"})})}),(0,l.jsx)("div",{className:"flex items-center gap-5",children:(0,l.jsxs)("button",{className:"flex",onClick:()=>{y.push("/streak")},children:[(0,l.jsx)(p.Z,{rectColor:B>0?"#FFC801":"#FFFFFF",pathColor:B>0?"#FF9600":"#DADADA"}),(0,l.jsx)("div",{className:"".concat(a().className," font-black ml-0.5 ").concat(B>0?"text-[#FF9600]":"text-[#DADADA]"),children:B>0?B:"-"})]})})]}),"Practice"===g&&(0,l.jsx)(A,{}),"Profile"===g&&(0,l.jsxs)("div",{className:"w-full h-full flex flex-col justify-center items-center gap-2 mb-5 px-7",children:[(0,l.jsx)("div",{className:"bg-[#0039FF]/10 text-[#0039FF]/30 text-4xl font-bold h-24 w-24 flex justify-center items-center rounded-full border-[#0039FF]/10 border-2",children:null==D?void 0:null===(n=D.nickname)||void 0===n?void 0:n[0]}),(0,l.jsx)("div",{className:"font-semibold text-2xl mt-2",children:null==D?void 0:D.nickname}),(0,l.jsx)("div",{className:"text-lg text-black/30",children:"Free trial"}),(0,l.jsxs)("button",{onClick:()=>window.open("https://discord.gg/B9Syxz3mVA","_blank"),className:"flex items-center text-[#0039FF] bg-[#0039FF]/5 py-1 px-2 rounded-lg border-[#0039FF]/20 border-[1px] text-sm mt-2",children:[(0,l.jsx)(i.j2d,{className:"mr-2"}),"Join our discord"]})]}),"Home"===g&&(0,l.jsx)(l.Fragment,{children:_.length>0?_.map(e=>{var t;let[s,n]=e;return(0,l.jsx)("div",{className:"h-full flex flex-col px-7 justify-center items-center",children:(0,l.jsxs)("div",{className:"font-medium mt-16 text-center text-2xl",children:[null===(t=b.M.find(e=>e.code===w))||void 0===t?void 0:t.greeting,", ",null==D?void 0:D.nickname,"! ",(0,l.jsx)("br",{}),"Letâ€™s learn"," ",S[w][0].split(" (")[0],"."]})},s)}):!P&&(0,l.jsx)("div",{className:"px-7 flex-1 overflow-y-auto mt-8 scrollbar-hide pb-20 flex flex-col justify-center",children:(0,l.jsxs)("div",{className:"bg-white flex flex-col justify-center rounded-xl items-center border-black/10 border-[1px] transition-all duration-500 pointer-events-auto py-10 px-8 w-full",children:[(0,l.jsx)(i.EQK,{className:"text-[#0039FF]/30 text-4xl"}),(0,l.jsxs)("p",{className:"mt-7 font-light text-black text-base text-center",children:["You have not started learning"," ",S[w][0].split(" (")[0]," yet. Please redo the onboarding to add"," ",S[w][0].split(" (")[0],"."]}),(0,l.jsx)("button",{className:"bg-[#0039FF] text-white py-3 w-full rounded-full mt-4 font-semibold",onClick:()=>y.push("/onboarding?learn=".concat(w)),children:(0,l.jsxs)("div",{className:"font-medium",children:["Start learning"," ",S[w][0].split(" (")[0]]})})]})})}),"Home"===g&&_.length>0&&_.map(e=>{let[t,s]=e;return(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("div",{className:"flex mb-6 gap-2 overflow-x-auto overscroll-y-contain scrollbar-hide px-7",children:s.available_lessons.map((e,s)=>(0,l.jsxs)("div",{className:"border-[1px] border-[#DADADA] bg-white min-w-32 flex flex-col gap-2 justify-between items-end rounded-xl p-4",onClick:()=>I(t,e.id),children:[(0,l.jsx)("div",{className:"w-full text-sm",children:e.info.title}),(0,l.jsx)("div",{className:"text-2xl",children:e.info.emoji})]},s))}),(0,l.jsxs)("div",{className:"px-7 w-full flex flex-col items-center pb-2",children:[(0,l.jsx)("div",{className:"w-full",children:(0,l.jsx)("div",{className:"border-t-[1px] border-[#DADADA] mx-4"})}),(0,l.jsx)("div",{className:"absolute transform -translate-y-1/2 bg-[#FAFBFF] text-sm px-4 text-black/30 text-center",children:"or"})]}),(0,l.jsx)("div",{className:"px-7 w-full mt-1",children:(0,l.jsx)("button",{className:"text-white bg-[#0039FF] mt-4 py-4 w-full rounded-full flex items-center justify-center",onClick:()=>{y.push("/customizeLesson?tutoring_id="+t+"&lesson_id=673289b281b336ee5f36d93c")},children:(0,l.jsx)("p",{className:"text-base font-semibold",children:"Start lesson"})})})]},t)}),(0,l.jsxs)("div",{className:"flex justify-around items-center bg-[#FAFBFF] backdrop-blur-xl shadow-md pt-3 text-md pb-10",children:[(0,l.jsxs)("button",{className:"flex flex-col items-center ".concat("Home"===g?"text-[#0039FF]":" text-[#959595]"),onClick:()=>f("Home"),children:[(0,l.jsx)(v,{}),(0,l.jsx)("span",{className:"text-[0.65rem] mt-1",children:"Home"})]}),(0,l.jsxs)("button",{className:"flex flex-col items-center ".concat("Practice"===g?"text-[#0039FF]":" text-[#959595]"),onClick:()=>f("Practice"),children:[(0,l.jsx)(i.nGB,{className:"text-2xl"}),(0,l.jsx)("span",{className:"text-[0.65rem] mt-1",children:"Practice"})]}),(0,l.jsxs)("button",{className:"flex flex-col items-center ".concat("Profile"===g?"text-[#0039FF]":" text-[#959595]"),onClick:()=>f("Profile"),children:[(0,l.jsx)(i.Xws,{className:"text-xl"}),(0,l.jsx)("span",{className:"text-[0.65rem] mt-1",children:"Profile"})]})]})]})}(0,j.bg)({})}},function(e){e.O(0,[3845,7240,6051,254,2278,946,6990,4272,3188,3069,3665,8079,958,3386,2971,2117,1744],function(){return e(e.s=3958)}),_N_E=e.O()}]);
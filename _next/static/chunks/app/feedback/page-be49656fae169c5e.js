(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9525],{56672:function(e,t,n){Promise.resolve().then(n.bind(n,55898))},28529:function(e,t,n){"use strict";n.d(t,{MI:function(){return g},nQ:function(){return c}});var a=n(57437),r=n(2265),l=n(61273),s=n(22744),i=n(80434),u=n(32859),o=n(84436);let c=e=>{let{profilePicture:t,message:n,translation:l,isPlaying:c=!1,onTap:d,onTTSPlay:g,onTTSStop:f,onTranslate:m,defaultShowTranslation:p=!0}=e,[x,v]=(0,r.useState)(p);return(0,a.jsxs)("div",{className:"mb-6 mr-6 pb-3 pt-4",onClick:d,children:["string"==typeof t?(0,a.jsx)("img",{src:t,className:"mb-2 h-6 w-6 rounded-full"}):t,(0,a.jsx)("div",{className:"prose text-[0.975rem] font-normal",children:void 0===n?(0,a.jsxs)("div",{className:"mb-4 flex flex-col gap-2",children:[(0,a.jsx)("div",{className:"h-2 w-full rounded-full bg-gray-200"}),(0,a.jsx)("div",{className:"h-2 w-2/3 rounded-full bg-gray-200"})]}):(0,a.jsx)(o.U,{children:(0,i.f)(n)})}),(0,a.jsx)("div",{className:"transition-max-height overflow-hidden text-sm text-black/30 duration-700 ease-in-out ".concat(x?"max-h-40 opacity-100":"max-h-0 opacity-0"),children:l}),(0,a.jsxs)("div",{className:"mt-2 flex gap-0",children:[g&&(0,a.jsx)("button",{className:"py-1 pr-1",onClick:e=>{e.stopPropagation(),c?null==f||f():g()},children:(0,a.jsx)(u.J,{icon:c?s.H6t:s.hwG,className:"text-xl text-black/30"})}),m&&(0,a.jsx)("button",{className:"p-1",onClick:e=>{e.stopPropagation(),m(!x),v(!x)},children:(0,a.jsx)(s.mp2,{className:"text-xl text-black/30"})})]})]})},d=["No Mistake","Punctuation","Spelling"],g=e=>{let t,n,s,{message:i,translation:u,correction:o,onTap:c,onTranslate:g,onRedo:f,defaultShowTranslation:m=!0}=e,[p,x]=(0,r.useState)(m),v="flex-initial bg-[#2552F4]/5 font-base ring-1 rounded-2xl py-4 px-4 ring-[#2552F4]/20 text-[#2552F4]";o?"Grammar"===o.mistake||"Phrasing"===o.mistake?(t=(0,a.jsx)("div",{className:"font-normal text-red-600 line-through",children:i}),n=(0,a.jsx)("div",{className:"text-green-600",children:o.correct_version})):d.includes(o.mistake)?(v="relative flex-initial bg-green-500/5 ring-1 rounded-lg pt-4 pb-3 px-4 ring-green-600/20",t=(0,a.jsx)("div",{className:"font-normal text-green-600",children:i}),s=(0,a.jsx)(l.ETl,{className:"absolute -bottom-2 -right-2 text-xl text-green-600"})):t=(0,a.jsx)("div",{className:"font-normal",children:i}):t="\uD83D\uDD0A"===i?(0,a.jsx)("img",{src:"soundwaves.svg",alt:"Soundwaves",className:"py-1 opacity-60"}):(0,a.jsx)("div",{className:"font-normal",children:i});let h=u&&p&&(0,a.jsx)("div",{className:"text-sm text-black/30",children:u});return(0,a.jsxs)("div",{className:"mb-6 ml-14 flex flex-wrap-reverse items-center justify-end gap-y-3",children:[o&&o.explanation&&!d.includes(o.mistake)&&(0,a.jsxs)("div",{className:"-ml-10 mr-3 grow basis-32 text-xs",children:[(0,a.jsxs)("p",{className:"font-bold",children:[o.mistake,(0,a.jsx)(l.EQK,{className:"mx-1 inline-block"})]}),(0,a.jsx)("p",{className:"italic",children:o.explanation})]}),f&&(0,a.jsx)("button",{className:"py-1 pr-5 text-black/30",onClick:e=>{e.stopPropagation(),f()},children:(0,a.jsx)(l.YRv,{className:"-rotate-45"})}),(0,a.jsxs)("div",{className:v,onClick:c,children:[t,n,h,(0,a.jsx)("div",{className:"-mb-2 mt-2 flex items-center gap-2 text-sm text-black/30"}),s]})]})};t.ZP=g},55898:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return j}});var a=n(57437),r=n(51189),l=n.n(r),s=n(2265),i=n(99376),u=n(61273),o=n(49677),c=n(74272),d=n(53974),g=n(14438),f=n(89403);function m(e){let{children:t}=e,n=(0,d.useIsClient)(),{token:r}=(0,f.f)(),l=(0,i.useSearchParams)().get("session_id");return l?n?(0,a.jsx)(c.eA,{url:"".concat("wss://backend-us-rc.tenmin.ai","/ws/feedback/").concat(l,"?token=").concat(r),label:"Feedback",toast:g.A,autoconnect:!0,wsAuth:!0,binaryType:"arraybuffer",children:t}):null:(0,a.jsx)("div",{children:"Invalid lesson"})}var p=n(68171);let x=e=>{let{initialValue:t,viewMode:n,editMode:a,onSave:r}=e,[l,i]=(0,s.useState)(!1),[u,o]=(0,s.useState)(t),c=(0,s.useCallback)(()=>{i(!1),r(u)},[u,r]),d=(0,s.useCallback)(()=>{i(!1),o(t)},[t]);return(0,s.useEffect)(()=>{o(t)},[t]),l?a(u,o,c,d):n(t,()=>i(!0))};var v=n(28529),h=n(67140),D=n(16593),b=n(33344);let y=()=>{var e,t,n,r;let f=(0,i.useRouter)(),m=(0,s.useContext)(c.Dm),[y,j]=(0,s.useState)("");(0,s.useEffect)(()=>{let e=setInterval(()=>{j(JSON.stringify(m,null,2))},500);return()=>clearInterval(e)},[]),(0,c.$o)(m,g.A);let C=(0,c.MV)("FEEDBACK",{info:{},feedback:[]}),w=(0,c.MV)("STT",{totalTranscript:"",currTranscript:"",tempTranscript:""}),{startRecording:k,stopRecording:N,cancelRecording:F}=(0,o.Z)({onAudioData:e=>{0!=e.byteLength&&(console.log("sending audio",e.byteLength),w.sendBinary({type:"STREAM_MIC"},e))},onRecordingStart:()=>{console.log("recording start"),w.sendAction({type:"PTT_PRESSED"})},onRecordingStop:e=>{e?w.sendAction({type:"PTT_CANCELLED"}):(console.log("recording stop"),w.sendAction({type:"PTT_RELEASED"}))},onSpeechStart:()=>{console.log("speech start"),w.sendAction({type:"VAD_CHANGED",detected:!0})},onSpeechEnd:()=>{console.log("speech end"),w.sendAction({type:"VAD_CHANGED",detected:!1})},recordingChunkSize:100}),E=h.Mj.find(e=>{var t,n;return e.code==(null==C?void 0:null===(n=C.info)||void 0===n?void 0:null===(t=n.student)||void 0===t?void 0:t.fallback_language)}),[_]=(0,d.useLocalStorage)("language"),{data:S}=(0,D.a)({...(0,b.rs)({query:{language:_}})}),A=Object.entries(S||{}),P=Math.min(A.length>0&&(null===(e=A[0][1])||void 0===e?void 0:e.streak)||0,7),T=["Su","Mo","Tu","We","Th","Fr","Sa"],O=new Date().getDay(),R=Array.from({length:P},(e,t)=>(O-P+t+1+7)%7),B=[...R.map(e=>T[e]),...T.filter((e,t)=>!R.includes(t))];return(0,s.useEffect)(()=>{let e=new Audio("fanfare_achievement.mp3");e.volume=.5,e.play()},[]),(0,s.useEffect)(()=>{setTimeout(()=>{let e=document.getElementById("CHAT_BOTTOM");e&&e.scrollIntoView({behavior:"smooth"})},3e3)},[]),(0,a.jsxs)("div",{className:"flex h-full flex-col",children:[(0,a.jsx)("div",{className:"flex w-full flex-col items-center px-7 pb-6",children:(0,a.jsxs)("div",{className:"flex w-full items-center justify-between px-1",children:[(0,a.jsx)("button",{className:"flex h-12 items-center justify-center self-start rounded-full text-black",onClick:()=>{f.replace("/")},children:(0,a.jsx)(u._0w,{className:"text-xl"})}),(0,a.jsx)("div",{className:"pt-1 font-medium",children:"Great Job!"}),(0,a.jsx)("button",{className:"flex h-12 items-center justify-center self-start rounded-full text-black/30",onClick:()=>{},children:(0,a.jsx)(u.kvo,{className:"text-xl"})})]})}),(0,a.jsxs)("div",{className:"h-full overflow-y-auto",children:[(0,a.jsxs)("div",{className:"mb-16 flex flex-col items-center justify-center",children:[(0,a.jsx)("img",{src:"streak_fire.svg",alt:"Streak Fire",className:"relative z-10 w-16"}),(0,a.jsx)("div",{className:"h-5 w-5 -translate-y-4 scale-x-[2] transform rounded-full bg-[#FFC801]/50"}),(0,a.jsx)("div",{className:"".concat(l().className," mt-4 bg-gradient-to-b from-[#FFB201] to-[#FF9600] bg-clip-text text-6xl font-bold text-transparent"),children:P}),(0,a.jsx)("div",{className:"mt-2 text-xl font-semibold text-[#FF9600]",children:"day streak"}),(0,a.jsxs)("div",{className:"mt-10 flex w-full flex-col items-center rounded-md border-[1px] border-[#DADADA] px-4 py-4",children:[(0,a.jsx)("div",{className:"flex w-full justify-between px-2 font-medium text-black/30",children:B.map((e,t)=>(0,a.jsxs)("div",{className:"flex flex-col items-center ".concat(t<P?"text-[#FF9600]":"text-black/30"),children:[(0,a.jsx)("div",{children:e}),(0,a.jsx)(u.ETl,{className:"text-xl ".concat(t<P?"text-[#FF9600]":"text-[#DADADA]")})]},e))}),(0,a.jsx)("div",{className:"my-4 w-full border-t-[1px] border-[#DADADA]"}),(0,a.jsx)("div",{className:"text-medium text-black/30",children:"Practice daily to grow your streak!"})]})]}),(0,a.jsxs)("div",{className:"flex h-full w-full flex-col px-7",children:[(0,a.jsx)("div",{className:"mt-1 self-start",children:E&&(0,a.jsx)(v.nQ,{profilePicture:(0,a.jsxs)("div",{className:"-mt-1 mb-1 flex h-8 w-fit items-center justify-center gap-1 overflow-visible rounded-xl bg-blue-200 p-2",children:[(0,a.jsx)("img",{src:"/tenmin_new_logo.svg",className:"aspect-square h-full"}),(0,a.jsx)("p",{children:"Tenmin"})]}),isPlaying:!1,message:"Thanks for trying out the lesson ".concat(null===(t=C.info.lesson)||void 0===t?void 0:t.title," with ").concat(null===(n=C.info.tutor)||void 0===n?void 0:n.name,"! Could you please give us some feedback in ").concat(null!==(r=E.name.split(" ")[0])&&void 0!==r?r:"your native language"+(E.flag||""),"? Did everything go smoothly? Did the conversation feel natural?")})}),C.feedback.map((e,t)=>(0,a.jsx)(x,{initialValue:e,viewMode:(e,t)=>(0,a.jsx)(v.ZP,{message:e,onTap:t}),editMode:(e,t,n,r)=>(0,a.jsxs)("div",{className:"mb-8 flex items-center gap-1",children:[(0,a.jsx)("button",{onClick:n,className:"mt-2 rounded-lg bg-blue-400 p-2 text-white",children:(0,a.jsx)(u.l_A,{})}),(0,a.jsx)("button",{onClick:r,className:"mt-2 rounded-lg bg-red-400 p-2 text-white",children:(0,a.jsx)(u._0w,{})}),(0,a.jsx)("input",{value:e,onChange:e=>t(e.target.value),className:"w-full rounded-lg border-2 border-black/10 p-2"})]}),onSave:e=>{C.sendAction({type:"UPDATE_FEEDBACK",index:t,value:e})}},t)),(0,a.jsx)("div",{id:"CHAT_BOTTOM",className:"self-center text-center text-black/30",children:"Simply speak into the microphone and exit whenever! We will only save the text transcription, not your voice recording!"})]})]}),(0,a.jsx)("pre",{className:"text-wrap break-all text-xs",children:y}),(0,a.jsx)("div",{className:"w-full justify-end gap-5 border-t-2 border-black/10 bg-white pb-10 pt-6 tracking-[-0.02em]",children:(0,a.jsx)(p.y,{onStartPress:()=>{k()},onEndPress:()=>{N()},onCancel:()=>{F()},onTap:()=>{}})})]})};function j(){return(0,a.jsx)(m,{children:(0,a.jsxs)("main",{className:"h-screen-safe flex flex-col justify-between bg-[#FAFBFF] pt-5 tracking-[-0.02em]",children:[(0,a.jsx)(y,{}),(0,a.jsx)(g.x,{position:"bottom-center",richColors:!0})]})})}},67140:function(e,t,n){"use strict";n.d(t,{Mj:function(){return i},mi:function(){return s}});var a=n(57437),r=n(2265),l=n(99376);let s=["en","en-GB","en-AU","de","ko","ja","fr","pt-PT"],i=[{name:"English (US)",flag:"\uD83C\uDDFA\uD83C\uDDF8",code:"en",path:"us United States of America usa.svg",uiflag_path:"us-United-States-of-America-3x2.svg",greeting:"Hello"},{name:"English (United Kingdom)",flag:"\uD83C\uDDEC\uD83C\uDDE7",code:"en-GB",path:"gb United Kingdom uk.svg",uiflag_path:"gb-United-Kingdom-3x2.svg",greeting:"Hello"},{name:"English (Australia)",flag:"\uD83C\uDDE6\uD83C\uDDFA",code:"en-AU",path:"au Australia.svg",uiflag_path:"au-Australia-3x2.svg",greeting:"G'day"},{name:"German (Germany)",flag:"\uD83C\uDDE9\uD83C\uDDEA",code:"de",path:"de Germany.svg",uiflag_path:"de-Germany-3x2.svg",greeting:"Hallo"},{name:"Spanish (Spain)",flag:"\uD83C\uDDEA\uD83C\uDDF8",code:"es",path:"es Spain.svg",uiflag_path:"es-Spain-3x2.svg",greeting:"Hola"},{name:"Korean",flag:"\uD83C\uDDF0\uD83C\uDDF7",code:"ko",path:"kr South Korea.svg",uiflag_path:"kr-South-Korea-3x2.svg",greeting:"안녕"},{name:"French (France)",flag:"\uD83C\uDDEB\uD83C\uDDF7",code:"fr",path:"fr France.svg",uiflag_path:"fr-France-3x2.svg",greeting:"Bonjour"},{name:"Japanese",flag:"\uD83C\uDDEF\uD83C\uDDF5",code:"ja",path:"jp Japan.svg",uiflag_path:"jp-Japan-3x2.svg",greeting:"こんにちは"},{name:"Chinese (China)",flag:"\uD83C\uDDE8\uD83C\uDDF3",code:"zh",path:"cn China.svg",uiflag_path:"cn-China-3x2.svg",greeting:"你好"},{name:"Chinese (Taiwan)",flag:"\uD83C\uDDF9\uD83C\uDDFC",code:"zh-TW",path:"tw Taiwan.svg",uiflag_path:"tw-Taiwan-3x2.svg",greeting:"你好"},{name:"Hindi",flag:"\uD83C\uDDEE\uD83C\uDDF3",code:"hi",path:"in India.svg",uiflag_path:"in-India-3x2.svg",greeting:"नमस्ते"},{name:"Portuguese (Brazil)",flag:"\uD83C\uDDE7\uD83C\uDDF7",code:"pt",path:"br Brazil.svg",uiflag_path:"br-Brazil-3x2.svg",greeting:"Ol\xe1"},{name:"Portuguese (Portugal)",flag:"\uD83C\uDDF5\uD83C\uDDF9",code:"pt-PT",path:"pt Portugal.svg",uiflag_path:"pt-Portugal-3x2.svg",greeting:"Ol\xe1"},{name:"Italian",flag:"\uD83C\uDDEE\uD83C\uDDF9",code:"it",path:"it Italy.svg",uiflag_path:"it-Italy-3x2.svg",greeting:"Ciao"},{name:"Indonesian",flag:"\uD83C\uDDEE\uD83C\uDDE9",code:"id",path:"id Indonesia.svg",uiflag_path:"id-Indonesia-3x2.svg",greeting:"Halo"},{name:"Dutch",flag:"\uD83C\uDDF3\uD83C\uDDF1",code:"nl",path:"nl Netherlands.svg",uiflag_path:"nl-Netherlands-3x2.svg",greeting:"Hallo"},{name:"Turkish",flag:"\uD83C\uDDF9\uD83C\uDDF7",code:"tr",path:"tr Turkey.svg",uiflag_path:"tr-Turkey-3x2.svg",greeting:"Merhaba"},{name:"Polish",flag:"\uD83C\uDDF5\uD83C\uDDF1",code:"pl",path:"pl Poland.svg",uiflag_path:"pl-Poland-3x2.svg",greeting:"Cześć"},{name:"Swedish",flag:"\uD83C\uDDF8\uD83C\uDDEA",code:"sv",path:"se Sweden.svg",uiflag_path:"se-Sweden-3x2.svg",greeting:"Hej"},{name:"Bulgarian",flag:"\uD83C\uDDE7\uD83C\uDDEC",code:"bg",path:"bg Bulgaria.svg",uiflag_path:"bg-Bulgaria-3x2.svg",greeting:"Здравейте"},{name:"Romanian",flag:"\uD83C\uDDF7\uD83C\uDDF4",code:"ro",path:"ro Romania.svg",uiflag_path:"ro-Romania-3x2.svg",greeting:"Bună"},{name:"Arabic (Saudi Arabia)",flag:"\uD83C\uDDF8\uD83C\uDDE6",code:"ar",path:"sa Saudi Arabia.svg",uiflag_path:"sa-Saudi-Arabia-3x2.svg",greeting:"مرحبا"},{name:"Czech",flag:"\uD83C\uDDE8\uD83C\uDDFF",code:"cs",path:"cz Czech Republic.svg",uiflag_path:"cz-Czech-Republic-3x2.svg",greeting:"Ahoj"},{name:"Greek",flag:"\uD83C\uDDEC\uD83C\uDDF7",code:"el",path:"gr Greece.svg",uiflag_path:"gr-Greece-3x2.svg",greeting:"Γειά σας"},{name:"Finnish",flag:"\uD83C\uDDEB\uD83C\uDDEE",code:"fi",path:"fi Finland.svg",uiflag_path:"fi-Finland-3x2.svg",greeting:"Hei"},{name:"Hungarian",flag:"\uD83C\uDDED\uD83C\uDDFA",code:"hu",path:"hu Hungary.svg",uiflag_path:"hu-Hungary-3x2.svg",greeting:"Hell\xf3"},{name:"Norwegian",flag:"\uD83C\uDDF3\uD83C\uDDF4",code:"no",path:"no Norway.svg",uiflag_path:"no-Norway-3x2.svg",greeting:"Hei"},{name:"Vietnamese",flag:"\uD83C\uDDFB\uD83C\uDDF3",code:"vi",path:"vn Vietnam.svg",uiflag_path:"vn-Vietnam-3x2.svg",greeting:"Xin ch\xe0o"},{name:"Slovak",flag:"\uD83C\uDDF8\uD83C\uDDF0",code:"sk",path:"sk Slovakia.svg",uiflag_path:"sk-Slovakia-3x2.svg",greeting:"Ahoj"},{name:"Russian",flag:"\uD83C\uDDF7\uD83C\uDDFA",code:"ru",path:"ru Russia.svg",uiflag_path:"ru-Russia-3x2.svg",greeting:"Здравствуйте"},{name:"Ukrainian",flag:"\uD83C\uDDFA\uD83C\uDDE6",code:"uk",path:"ua Ukraine.svg",uiflag_path:"ua-Ukraine-3x2.svg",greeting:"Привіт"},{name:"Malay",flag:"\uD83C\uDDF2\uD83C\uDDFE",code:"ms",path:"my Malaysia.svg",uiflag_path:"my-Malaysia-3x2.svg",greeting:"Halo"},{name:"Danish",flag:"\uD83C\uDDE9\uD83C\uDDF0",code:"da",path:"dk Denmark.svg",uiflag_path:"dk-Denmark-3x2.svg",greeting:"Hej"}];t.ZP=e=>{let{nextStep:t,previousStep:n,userData:u,setUserData:o}=e,c=(0,l.useSearchParams)().get("learn"),[d,g]=(0,r.useState)(c),f=e=>{g(e),o({...u,language:e})},m=(0,r.useRef)(null),[p,x]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{let e=m.current;if(!e)return;let t=()=>x(e.scrollTop>0);return e.addEventListener("scroll",t),()=>e.removeEventListener("scroll",t)},[]),(0,a.jsx)("main",{className:"flex min-h-0 grow flex-col items-center bg-[#FAFBFF] pb-10 pt-2",children:(0,a.jsxs)("div",{className:"flex min-h-0 w-full flex-grow flex-col items-start justify-start",children:[(0,a.jsx)("p",{className:"w-full px-7 pb-3 text-left text-xl font-semibold text-black ".concat(p?"border-b-[1px] border-black/10":""),children:"Which language do you want to learn?"}),(0,a.jsxs)("div",{className:"flex min-h-0 w-full flex-grow flex-col gap-3 overflow-y-auto px-7",ref:m,children:[i.map(e=>(0,a.jsxs)("button",{className:"flex w-full items-center gap-3 rounded-xl border-[1px] px-7 py-4 text-base ".concat(d===e.code?"border-[#2552F4] bg-[#2552F4]/5 text-[#2552F4]":"border-black/10 bg-white"," ").concat(!s.includes(e.code)&&"cursor-not-allowed opacity-50"),onClick:()=>f(e.code),children:[(0,a.jsx)("img",{src:"uiflags/".concat(e.uiflag_path),alt:"",className:"mr-3 h-5 rounded-md border-none border-[#DADADA] ".concat(s.includes(e.code)?"":"grayscale")}),e.name]},e.name)),(0,a.jsx)("p",{className:"text-black/30",children:"We are actively working on adding more languages. Stay tuned!"})]}),(0,a.jsx)("div",{className:"flex w-full flex-col items-center gap-3 border-t-[1px] border-black/10 px-7 pt-4",children:(0,a.jsx)("button",{className:"w-full rounded-full bg-[#2552F4] py-4 font-semibold text-white ".concat(d?"":"cursor-not-allowed opacity-50"),onClick:()=>{d&&t()},disabled:!d,children:"Next question"})})]})})}},19856:function(e,t,n){"use strict";n.d(t,{H4:function(){return s},Hy:function(){return c},I:function(){return v},It:function(){return d},Lp:function(){return r},Vz:function(){return p},_5:function(){return g},_G:function(){return f},c_:function(){return o},eU:function(){return l},kc:function(){return i},oY:function(){return x},pR:function(){return u},zW:function(){return m}});var a=n(75478);let r=(0,a.eI)((0,a._g)()),l=e=>{var t;return(null!==(t=null==e?void 0:e.client)&&void 0!==t?t:r).post({...e,...a.RL,headers:{"Content-Type":"application/x-www-form-urlencoded"},url:"/login"})},s=e=>{var t;return(null!==(t=null==e?void 0:e.client)&&void 0!==t?t:r).patch({...e,url:"/change_login"})},i=e=>{var t;return(null!==(t=null==e?void 0:e.client)&&void 0!==t?t:r).get({...e,url:"/oauth/google/login"})},u=e=>{var t;return(null!==(t=null==e?void 0:e.client)&&void 0!==t?t:r).get({...e,url:"/oauth/google/callback"})},o=e=>{var t;return(null!==(t=null==e?void 0:e.client)&&void 0!==t?t:r).post({...e,url:"/user/create_account_and_profile"})},c=e=>{var t;return(null!==(t=null==e?void 0:e.client)&&void 0!==t?t:r).post({...e,url:"/user/add_new_profile"})},d=e=>{var t;return(null!==(t=null==e?void 0:e.client)&&void 0!==t?t:r).get({...e,url:"/user/my_data"})},g=e=>{var t;return(null!==(t=null==e?void 0:e.client)&&void 0!==t?t:r).patch({...e,url:"/user/change_profile"})},f=e=>{var t;return(null!==(t=null==e?void 0:e.client)&&void 0!==t?t:r).post({...e,url:"/lesson/generate_user_roleplay"})},m=e=>{var t;return(null!==(t=null==e?void 0:e.client)&&void 0!==t?t:r).get({...e,url:"/tutoring/all"})},p=e=>{var t;return(null!==(t=null==e?void 0:e.client)&&void 0!==t?t:r).get({...e,url:"/tutoring/leaderboard"})},x=e=>{var t;return(null!==(t=null==e?void 0:e.client)&&void 0!==t?t:r).post({...e,url:"/call/start/{service}"})},v=e=>{var t;return(null!==(t=null==e?void 0:e.client)&&void 0!==t?t:r).post({...e,url:"/stats/premium"})}},68171:function(e,t,n){"use strict";n.d(t,{y:function(){return u}});var a=n(57437),r=n(2265),l=e=>{let{onStartPress:t,onEndPress:n,onCancel:l,onTap:s,cancelButtonRef:i,children:u}=e,[o,c]=(0,r.useState)(!1),d=(0,r.useRef)({x:0,y:0}),g=(0,r.useRef)(0),[f,m]=(0,r.useState)(!1);(0,r.useEffect)(()=>{if(console.log("useEffect isActive",o),o)g.current=Date.now();else{let e=Date.now()-g.current;console.log("duration ",e),e<200&&s()}},[o]),(0,r.useEffect)(()=>{let e=e=>{" "!==e.key&&"Spacebar"!==e.key&&32!==e.keyCode||(e.preventDefault(),o||(c(!0),t()))},a=e=>{(" "===e.key||"Spacebar"===e.key||32===e.keyCode)&&(e.preventDefault(),o&&(c(!1),n()))};return window.addEventListener("keydown",e),window.addEventListener("keyup",a),()=>{window.removeEventListener("keydown",e),window.removeEventListener("keyup",a)}},[o,t,n,s]);let p=e=>{if(i.current){let t=i.current.getBoundingClientRect();return e.x>=t.left&&e.x<=t.right&&e.y>=t.top&&e.y<=t.bottom}return!1};return(0,r.useEffect)(()=>{let e=e=>{var t,n;if(!o)return;let a=e.touches[0];p({x:a.clientX,y:a.clientY})?null===(t=i.current)||void 0===t||t.classList.add("scale-110","bg-red-300"):null===(n=i.current)||void 0===n||n.classList.remove("scale-110","bg-red-300")};return window.addEventListener("touchmove",e,{passive:!1}),()=>{window.removeEventListener("touchmove",e)}},[o,i]),(0,a.jsx)("button",{onTouchStart:e=>{m(!0),e.stopPropagation(),e.preventDefault(),c(!0),t();let n=e.touches[0];d.current={x:n.clientX,y:n.clientY}},onTouchEnd:e=>{e.stopPropagation(),e.preventDefault(),c(!1);let t=e.changedTouches[0];p({x:t.clientX,y:t.clientY})?l():n()},onMouseDown:e=>{f||(e.preventDefault(),c(!0),t(),d.current={x:e.clientX,y:e.clientY})},onMouseUp:e=>{f||(e.preventDefault(),c(!1),p({x:e.clientX,y:e.clientY})?l():n())},onContextMenu:e=>e.preventDefault(),className:"microphoneButton touch-none",children:u?u(o):"Press and Hold"})},s=n(61273),i=n(32859);let u=e=>{let{onStartPress:t,onEndPress:n,onCancel:u,onTap:o,leftToggle:c,rightToggle:d}=e,[g,f]=(0,r.useState)(!1),m=(0,r.useRef)(null);return(0,a.jsxs)("div",{className:"flex w-full items-center justify-center gap-6",children:[!g&&c,g&&(0,a.jsx)("button",{ref:m,className:"flex h-14 w-14 items-center justify-center rounded-full bg-red-200 text-2xl text-red-600 ring-2 ring-red-600/50 transition-transform duration-200 ease-in-out hover:scale-110",children:(0,a.jsx)(s._0w,{})}),(0,a.jsx)(l,{onStartPress:()=>{f(!0),t()},onEndPress:()=>{f(!1),n()},onTap:o,onCancel:()=>{f(!1),u()},cancelButtonRef:m,children:e=>(0,a.jsx)("div",{className:"".concat(e?"bg-[#0039FF]/20 text-[#2552F4] ring-2 ring-[#2552F4]/40":"bg-[#2552F4] text-white"," rounded-full px-12 py-6 text-3xl"),children:(0,a.jsx)(i.J,{icon:e?s.ZTc:s.uYL})})}),!g&&d,g&&(0,a.jsx)("div",{className:"w-12"})]})}},99376:function(e,t,n){"use strict";var a=n(35475);n.o(a,"usePathname")&&n.d(t,{usePathname:function(){return a.usePathname}}),n.o(a,"useRouter")&&n.d(t,{useRouter:function(){return a.useRouter}}),n.o(a,"useSearchParams")&&n.d(t,{useSearchParams:function(){return a.useSearchParams}})},32859:function(e,t,n){"use strict";n.d(t,{J:function(){return r}});var a=n(57437);n(2265);let r=e=>{let{icon:t,className:n,...r}=e;return(0,a.jsx)(t,{className:n,...r})}},80434:function(e,t,n){"use strict";n.d(t,{f:function(){return a}});let a=e=>e||"​"},51189:function(e){e.exports={style:{fontFamily:"'__M_PLUS_Rounded_1c_1ebfbf'",fontStyle:"normal"},className:"__className_1ebfbf"}},46231:function(e,t,n){"use strict";n.d(t,{w_:function(){return c}});var a=n(2265),r={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},l=a.createContext&&a.createContext(r),s=["attr","size","title"];function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){var a,r;a=t,r=n[t],(a=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(a))in e?Object.defineProperty(e,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[a]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function c(e){return t=>a.createElement(d,i({attr:o({},e.attr)},t),function e(t){return t&&t.map((t,n)=>a.createElement(t.tag,o({key:n},t.attr),e(t.child)))}(e.child))}function d(e){var t=t=>{var n,{attr:r,size:l,title:u}=e,c=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,s),d=l||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),a.createElement("svg",i({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,c,{className:n,style:o(o({color:e.color||t.color},t.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),u&&a.createElement("title",null,u),e.children)};return void 0!==l?a.createElement(l.Consumer,null,e=>t(e)):t(r)}}},function(e){e.O(0,[5058,7240,1015,6051,2278,3974,8802,9787,8351,4436,6650,2971,2117,1744],function(){return e(e.s=56672)}),_N_E=e.O()}]);
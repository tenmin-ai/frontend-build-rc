(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[461],{8234:function(e,a,t){Promise.resolve().then(t.bind(t,735))},5276:function(e,a,t){"use strict";t.d(a,{BackendProvider:function(){return d},h:function(){return m}});var l=t(7437),n=t(2265),s=t(3974),r=t(9856),i=t(946),u=t(9827),o=t(9376);r.Lp.setConfig({baseUrl:"https://backend-us-rc.tenmin.ai"}),r.Lp.interceptors.request.use((e,a)=>{let t=localStorage.getItem("token");return t&&e.headers.set("Authorization","Bearer "+JSON.parse(t)),e});let c=new i.S,g=(0,n.createContext)(void 0),d=e=>{let{children:a}=e,t=(0,s.useIsClient)(),i=(0,o.useRouter)(),d=(0,o.usePathname)(),[m,D]=(0,n.useState)(null);return((0,n.useEffect)(()=>{if(t){let e=localStorage.getItem("token");D(e),console.log(d),e||"/login"===d||i.push("/onboarding")}},[t,i]),t)?(0,l.jsx)(g.Provider,{value:{authedClient:r.Lp,isLoggedIn:!!localStorage.getItem("token"),saveToken:e=>{localStorage.setItem("token",JSON.stringify(e)),D(e)}},children:(0,l.jsx)(u.aH,{client:c,children:a})}):(0,l.jsx)("main",{className:"bg-[#0039FF] h-screen-safe w-screen flex justify-center items-center",children:(0,l.jsx)("img",{src:"tenmin_new_logo_white.svg",alt:"",className:"w-10"})})},m=()=>{let e=(0,n.useContext)(g);if(!e)throw Error("useAuthContext must be used within an AuthProvider");return e}},7140:function(e,a,t){"use strict";t.d(a,{M:function(){return i}});var l=t(7437),n=t(1273),s=t(2265),r=t(9376);let i=[{name:"English (US)",flag:"\uD83C\uDDFA\uD83C\uDDF8",code:"en",path:"us United States of America usa.svg",greeting:"Hello"},{name:"English (United Kingdom)",flag:"\uD83C\uDDEC\uD83C\uDDE7",code:"en-GB",path:"gb United Kingdom uk.svg",greeting:"Hello"},{name:"English (Australia)",flag:"\uD83C\uDDE6\uD83C\uDDFA",code:"en-AU",path:"au Australia.svg",greeting:"G'day"},{name:"German (Germany)",flag:"\uD83C\uDDE9\uD83C\uDDEA",code:"de",path:"de Germany.svg",greeting:"Hallo"},{name:"Spanish (Spain)",flag:"\uD83C\uDDEA\uD83C\uDDF8",code:"es",path:"es Spain.svg",greeting:"Hola"},{name:"Korean",flag:"\uD83C\uDDF0\uD83C\uDDF7",code:"ko",path:"kr South Korea.svg",greeting:"안녕"},{name:"French (France)",flag:"\uD83C\uDDEB\uD83C\uDDF7",code:"fr",path:"fr France.svg",greeting:"Bonjour"},{name:"Japanese",flag:"\uD83C\uDDEF\uD83C\uDDF5",code:"ja",path:"jp Japan.svg",greeting:"こんにちは"},{name:"Chinese (China)",flag:"\uD83C\uDDE8\uD83C\uDDF3",code:"zh",path:"cn China.svg",greeting:"你好"},{name:"Chinese (Taiwan)",flag:"\uD83C\uDDF9\uD83C\uDDFC",code:"zh-TW",path:"tw Taiwan.svg",greeting:"你好"},{name:"Hindi",flag:"\uD83C\uDDEE\uD83C\uDDF3",code:"hi",path:"in India.svg",greeting:"नमस्ते"},{name:"Portuguese (Brazil)",flag:"\uD83C\uDDE7\uD83C\uDDF7",code:"pt",path:"br Brazil.svg",greeting:"Ol\xe1"},{name:"Portuguese (Portugal)",flag:"\uD83C\uDDF5\uD83C\uDDF9",code:"pt-PT",path:"pt Portugal.svg",greeting:"Ol\xe1"},{name:"Italian",flag:"\uD83C\uDDEE\uD83C\uDDF9",code:"it",path:"it Italy.svg",greeting:"Ciao"},{name:"Indonesian",flag:"\uD83C\uDDEE\uD83C\uDDE9",code:"id",path:"id Indonesia.svg",greeting:"Halo"},{name:"Dutch",flag:"\uD83C\uDDF3\uD83C\uDDF1",code:"nl",path:"nl Netherlands.svg",greeting:"Hallo"},{name:"Turkish",flag:"\uD83C\uDDF9\uD83C\uDDF7",code:"tr",path:"tr Turkey.svg",greeting:"Merhaba"},{name:"Polish",flag:"\uD83C\uDDF5\uD83C\uDDF1",code:"pl",path:"pl Poland.svg",greeting:"Cześć"},{name:"Swedish",flag:"\uD83C\uDDF8\uD83C\uDDEA",code:"sv",path:"se Sweden.svg",greeting:"Hej"},{name:"Bulgarian",flag:"\uD83C\uDDE7\uD83C\uDDEC",code:"bg",path:"bg Bulgaria.svg",greeting:"Здравейте"},{name:"Romanian",flag:"\uD83C\uDDF7\uD83C\uDDF4",code:"ro",path:"ro Romania.svg",greeting:"Bună"},{name:"Arabic (Saudi Arabia)",flag:"\uD83C\uDDF8\uD83C\uDDE6",code:"ar",path:"sa Saudi Arabia.svg",greeting:"مرحبا"},{name:"Czech",flag:"\uD83C\uDDE8\uD83C\uDDFF",code:"cs",path:"cz Czech Republic.svg",greeting:"Ahoj"},{name:"Greek",flag:"\uD83C\uDDEC\uD83C\uDDF7",code:"el",path:"gr Greece.svg",greeting:"Γειά σας"},{name:"Finnish",flag:"\uD83C\uDDEB\uD83C\uDDEE",code:"fi",path:"fi Finland.svg",greeting:"Hei"},{name:"Hungarian",flag:"\uD83C\uDDED\uD83C\uDDFA",code:"hu",path:"hu Hungary.svg",greeting:"Hell\xf3"},{name:"Norwegian",flag:"\uD83C\uDDF3\uD83C\uDDF4",code:"no",path:"no Norway.svg",greeting:"Hei"},{name:"Vietnamese",flag:"\uD83C\uDDFB\uD83C\uDDF3",code:"vi",path:"vn Vietnam.svg",greeting:"Xin ch\xe0o"},{name:"Slovak",flag:"\uD83C\uDDF8\uD83C\uDDF0",code:"sk",path:"sk Slovakia.svg",greeting:"Ahoj"},{name:"Russian",flag:"\uD83C\uDDF7\uD83C\uDDFA",code:"ru",path:"ru Russia.svg",greeting:"Здравствуйте"},{name:"Ukrainian",flag:"\uD83C\uDDFA\uD83C\uDDE6",code:"uk",path:"ua Ukraine.svg",greeting:"Привіт"},{name:"Malay",flag:"\uD83C\uDDF2\uD83C\uDDFE",code:"ms",path:"my Malaysia.svg",greeting:"Halo"},{name:"Danish",flag:"\uD83C\uDDE9\uD83C\uDDF0",code:"da",path:"dk Denmark.svg",greeting:"Hej"}];a.Z=e=>{let{nextStep:a,previousStep:t,userData:u,setUserData:o}=e,c=(0,r.useSearchParams)().get("learn"),[g,d]=(0,s.useState)(c),m=e=>{d(e),o({...u,language:e})};return(0,l.jsxs)("main",{className:"bg-[#FAFBFF] h-screen-safe pb-10 pt-3 flex flex-col items-center px-7",children:[(0,l.jsx)("div",{className:"flex w-full justify-between items-center",children:(0,l.jsx)("button",{className:"text-black/60 font-medium text-sm self-start flex items-center bg-black bg-opacity-[10%] w-12 h-12 justify-center rounded-full",onClick:t,children:(0,l.jsx)(n.bUI,{})})}),(0,l.jsxs)("div",{className:"flex flex-col items-start flex-grow justify-start w-full min-h-0",children:[(0,l.jsx)("p",{className:"my-7 text-black text-xl text-left font-semibold w-full",children:"What would you like to learn?"}),(0,l.jsxs)("div",{className:"overflow-y-auto w-full flex-grow min-h-0 flex flex-col gap-3",children:[i.map(e=>(0,l.jsxs)("button",{className:"text-base border-[1px] py-4 px-7 rounded-lg w-full flex gap-3 items-center ".concat(g===e.code?"bg-[#0039FF]/5 border-[#0039FF] text-[#0039FF]":"bg-white border-black/10"),onClick:()=>m(e.code),children:[(0,l.jsx)("img",{src:"flags/".concat(e.path),alt:"",className:"h-5 border-[#DADADA] border-[1px] rounded-md mr-3"}),e.name]},e.name)),(0,l.jsx)("p",{className:"text-black/30",children:"We are actively working on adding more languages. Stay tuned!"})]}),(0,l.jsx)("div",{className:"flex flex-col items-center w-full gap-3 mt-4",children:(0,l.jsx)("button",{className:"bg-[#0039FF] text-white py-4 w-full rounded-full font-semibold ".concat(g?"":"opacity-50 cursor-not-allowed"),onClick:()=>{g&&a()},disabled:!g,children:"Next question"})})]})]})}},735:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return h}});var l=t(7437),n=t(2265),s=t(5276),r=e=>{let{nextStep:a,router:t}=e,{isLoggedIn:r}=(0,s.h)(),[i,u]=(0,n.useState)(!1);return((0,n.useEffect)(()=>{window.matchMedia("(display-mode: standalone)").matches?console.log("This is running as standalone."):(console.log("This is running in a browser."),u(!0))},[]),i)?(0,l.jsx)("main",{className:"flex flex-col bg-[#FAFBFF] h-screen-safe pt-5 pb-4 px-7  tracking-[-0.02em] justify-center items-center",children:(0,l.jsxs)("div",{className:"flex flex-col gap-10",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-center font-bold text-xl mb-4",children:"Get the Tenmin App"}),(0,l.jsx)("div",{className:"text-center",children:"The app works best when installed as a PWA/Bookmark on your smartphone. Please install it on your phone like this:"})]}),(0,l.jsx)("img",{src:"pwa_step1.png",alt:"",className:"w-[95%] max-w-[500px] border-4"}),(0,l.jsx)("img",{src:"pwa_step2.png",alt:"",className:"w-[95%] max-w-[500px] border-4"}),(0,l.jsx)("div",{className:"flex items-center gap-5",children:(0,l.jsx)("button",{onClick:()=>u(!1),className:"bg-[#0039FF] text-white py-3 px-3 w-full rounded-lg font-semibold",children:(0,l.jsx)("p",{children:"Skip"})})})]})}):(0,l.jsxs)("div",{className:"bg-[#FAFBFF] h-screen-safe pb-10 pt-7 flex flex-col items-center px-7",children:[(0,l.jsxs)("div",{className:"flex flex-col items-center flex-grow justify-center",children:[(0,l.jsx)("img",{src:"/tenmin_new.svg",alt:""}),(0,l.jsx)("p",{className:"mt-5 text-black/30",children:"Learn how to speak any language!"})]}),(0,l.jsx)("div",{className:"flex flex-col items-center w-full gap-3",children:(0,l.jsx)("button",{className:"bg-[#0039FF] text-white py-4 w-full rounded-full font-semibold",onClick:a,children:"Get started"})})]})},i=t(7140),u=t(1273),o=t(3974),c=t(8079),g=e=>{let{nextStep:a,previousStep:t,setUserData:r,userData:i,router:g}=e,[d,m]=(0,n.useState)(""),{isLoggedIn:D,saveToken:f}=(0,s.h)(),[h,x]=(0,n.useState)(!1),[p,b]=(0,n.useState)("RANDOM"),[C,F]=(0,n.useState)("RANDOM@RANDOM.COM"),[w,v]=(0,n.useState)("RANDOM"),[j,N]=(0,o.useLocalStorage)("language","en");return(0,l.jsxs)("main",{className:"bg-[#FAFBFF] h-screen-safe pb-10 pt-3 flex flex-col items-center px-7",children:[(0,l.jsx)("div",{className:"flex w-full justify-between items-center",children:(0,l.jsx)("button",{className:"text-black/60 font-medium text-sm self-start flex items-center bg-black bg-opacity-[10%] w-12 h-12 justify-center rounded-full",onClick:t,children:(0,l.jsx)(u.bUI,{})})}),(0,l.jsxs)("div",{className:"flex flex-col items-start flex-grow justify-start w-full min-h-0",children:[(0,l.jsx)("p",{className:"my-7 text-black text-xl text-left font-semibold w-full",children:"Last question! How should we call you?"}),(0,l.jsxs)("div",{className:"overflow-y-auto w-full flex-grow min-h-0 flex flex-col gap-3",children:[(0,l.jsx)("input",{type:"text",placeholder:"Your name (e.g. John)",className:"text-black border-[#DADADA] border-[1px] p-3 rounded-lg w-full",value:d,onChange:e=>{m(e.target.value),r({...i,profile:{...i.profile,nickname:e.target.value}})}}),(0,l.jsx)("p",{className:"text-black/30",children:"This is how our AI tutor will address you during the lessons."})]})]}),D?(0,l.jsx)("div",{className:"flex flex-col items-center w-full gap-3 mt-4",children:(0,l.jsxs)("button",{className:"".concat(h&&"bg-opacity-30"," bg-[#0039FF] text-white py-4 w-full rounded-full font-semibold flex gap-2 justify-center items-center"),onClick:()=>{x(!0);let{account:e,...a}=i;console.log(a),(0,c.Hy)({body:a}).then(e=>{N(i.language),e.data&&g.push("/")}).catch(e=>{var a;return alert(null===(a=e.body)||void 0===a?void 0:a.detail)})},children:[h&&(0,l.jsx)(u.fCD,{className:"animate-spin"}),"Continue"]})}):(0,l.jsx)("div",{className:"flex flex-col items-center w-full gap-3 mt-4",children:(0,l.jsxs)("button",{className:"".concat(h&&"bg-opacity-30"," bg-[#0039FF] text-white py-4 w-full rounded-full font-semibold flex gap-2 justify-center items-center"),onClick:()=>{if(x(!0),!C||!w){alert("Please enter your email and password");return}(0,c.c_)({body:{...i,account:{username:p,email:C,password:w}}}).then(e=>{N(i.language),e.data?(f(e.data.token.access_token),g.push("/")):(alert("No token in response, please login manually"),g.push("/login"))}).catch(e=>{var a;return alert(null===(a=e.body)||void 0===a?void 0:a.detail)})},children:[h&&(0,l.jsx)(u.fCD,{className:"animate-spin"}),"Get Started"]})})]})},d=t(5095),m=t(755),D=t(9376),f=e=>{let{nextStep:a,previousStep:t,userData:s,setUserData:r}=e,[o,c]=(0,n.useState)(null),g=e=>{c(e),r({...s,profile:{...s.profile,fallback_language:e}})};return(0,l.jsxs)("main",{className:"bg-[#FAFBFF] h-screen-safe pb-10 pt-3 flex flex-col items-center px-7",children:[(0,l.jsx)("div",{className:"flex w-full justify-between items-center",children:(0,l.jsx)("button",{className:"text-black/60 font-medium text-sm self-start flex items-center bg-black bg-opacity-[10%] w-12 h-12 justify-center rounded-full",onClick:t,children:(0,l.jsx)(u.bUI,{})})}),(0,l.jsxs)("div",{className:"flex flex-col items-start flex-grow justify-start w-full min-h-0",children:[(0,l.jsx)("p",{className:"mb-3 mt-7 text-black text-xl text-left font-semibold w-full",children:"What is your native language?"}),(0,l.jsx)("p",{className:"mb-5 font-normal text-sm text-black/30",children:"The language you select here will be used to translate and help you during the lesson!"}),(0,l.jsx)("div",{className:"overflow-y-auto w-full flex-grow min-h-0 flex flex-col gap-3",children:i.M.map(e=>{if(e.code!=s.language)return(0,l.jsxs)("button",{className:"text-base border-[1px] py-4 px-7 rounded-lg w-full flex gap-3 items-center ".concat(o===e.code?"bg-[#0039FF]/5 border-[#0039FF] text-[#0039FF]":"bg-white border-black/10"),onClick:()=>g(e.code),children:[(0,l.jsx)("img",{src:"flags/".concat(e.path),alt:"",className:"h-5 border-[#DADADA] border-[1px] rounded-md mr-3"}),e.name]},e.name)})})]}),(0,l.jsx)("div",{className:"flex flex-col items-center w-full gap-3 mt-4",children:(0,l.jsx)("button",{className:"bg-[#0039FF] text-white py-4 w-full rounded-full font-semibold ".concat(o?"":"opacity-50 cursor-not-allowed"),onClick:()=>{o&&a()},disabled:!o,children:"Next question"})})]})};function h(){let e=(0,D.useRouter)(),a=(0,D.useSearchParams)().get("learn"),[t,s]=(0,n.useState)(a?3:1),[u,o]=(0,n.useState)({account:{username:"",email:"",password:""},language:a||"en",profile:{nickname:"",level:"BEGINNER"}}),c={nextStep:()=>{console.log("nextStep"),s(e=>e+1)},previousStep:()=>{s(e=>e-1)},setUserData:o,userData:u};return(0,l.jsx)("div",{className:"bg-[#FAFBFF] h-screen-safe w-screen flex items-center justify-center",children:(0,l.jsx)(d.M,{mode:"wait",children:(0,l.jsx)(m.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"w-full h-full",children:(()=>{switch(t){case 1:default:return(0,l.jsx)(r,{...c,router:e});case 2:return(0,l.jsx)(i.Z,{...c});case 3:return(0,l.jsx)(f,{...c});case 4:return(0,l.jsx)(g,{...c,router:e})}})()},t)})})}}},function(e){e.O(0,[240,254,278,946,990,79,971,117,744],function(){return e(e.s=8234)}),_N_E=e.O()}]);
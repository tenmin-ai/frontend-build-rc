(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[461],{8234:function(e,t,l){Promise.resolve().then(l.bind(l,6416))},5276:function(e,t,l){"use strict";l.d(t,{BackendProvider:function(){return D},h:function(){return m}});var a=l(7437),n=l(2265),s=l(3974),u=l(9856),i=l(946),o=l(9827),c=l(9376);u.Lp.setConfig({baseUrl:"https://backend-us-rc.tenmin.ai"}),u.Lp.interceptors.request.use((e,t)=>{let l=localStorage.getItem("token");return l&&e.headers.set("Authorization","Bearer "+JSON.parse(l)),e});let r=new i.S,d=(0,n.createContext)(void 0),D=e=>{let{children:t}=e,l=(0,s.useIsClient)(),i=(0,c.useRouter)(),[D,m]=(0,n.useState)(null);return((0,n.useEffect)(()=>{if(l){let e=localStorage.getItem("token");m(e),e||i.push("/onboarding")}},[l,i]),l)?(0,a.jsx)(d.Provider,{value:{authedClient:u.Lp,isLoggedIn:!!localStorage.getItem("token"),saveToken:e=>{localStorage.setItem("token",JSON.stringify(e)),m(e)}},children:(0,a.jsx)(o.aH,{client:r,children:t})}):(0,a.jsx)("main",{className:"bg-[#0039FF] h-screen w-screen flex justify-center items-center",children:(0,a.jsx)("img",{src:"tenmin_new_logo_white.svg",alt:"",className:"w-10"})})},m=()=>{let e=(0,n.useContext)(d);if(!e)throw Error("useAuthContext must be used within an AuthProvider");return e}},6416:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return p}});var a=l(7437),n=l(2265),s=l(5276),u=e=>{let{nextStep:t,router:l}=e,{isLoggedIn:u}=(0,s.h)(),[i,o]=(0,n.useState)(!1);return((0,n.useEffect)(()=>{window.matchMedia("(display-mode: standalone)").matches?console.log("This is running as standalone."):(console.log("This is running in a browser."),o(!0))},[]),i)?(0,a.jsx)("main",{className:"flex flex-col bg-gradient-to-b from-[#F6F8FF] to-[#F7F8FD] h-screen pt-5 pb-4 px-7  tracking-[-0.02em] justify-center items-center",children:(0,a.jsxs)("div",{className:"flex flex-col gap-10",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-center font-bold text-xl mb-4",children:"Get the Tenmin App"}),(0,a.jsx)("div",{className:"text-center",children:"The app works best when installed as a PWA/Bookmark on your smartphone. Please install it on your phone like this:"})]}),(0,a.jsx)("img",{src:"pwa_step1.png",alt:"",className:"w-[95%] max-w-[500px] border-4"}),(0,a.jsx)("img",{src:"pwa_step2.png",alt:"",className:"w-[95%] max-w-[500px] border-4"}),(0,a.jsx)("div",{className:"flex items-center gap-5",children:(0,a.jsx)("button",{onClick:()=>o(!1),className:"bg-[#0039FF] text-white py-3 px-3 w-full rounded-lg font-semibold",children:(0,a.jsx)("p",{children:"Skip"})})})]})}):(0,a.jsxs)("main",{className:"bg-gradient-to-b from-[#F6F8FF] to-[#F7F8FD] h-screen pb-14 pt-7 flex flex-col items-center px-7",children:[(0,a.jsxs)("div",{className:"flex flex-col items-center flex-grow justify-center",children:[(0,a.jsx)("img",{src:"/tenmin_new.svg",alt:""}),(0,a.jsx)("p",{className:"mt-5 text-black/30",children:"Learn how to speak any language!"})]}),(0,a.jsx)("div",{className:"flex flex-col items-center w-full gap-3",children:(0,a.jsx)("button",{className:"bg-[#0039FF] text-white py-3 w-full rounded-lg font-semibold",onClick:t,children:"Get started"})})]})},i=l(5217),o=l(1268),c=l(9376);let r=[{name:"English (US)",flag:"\uD83C\uDDFA\uD83C\uDDF8",code:"en"},{name:"English (United Kingdom)",flag:"\uD83C\uDDEC\uD83C\uDDE7",code:"en-GB"},{name:"English (Australia)",flag:"\uD83C\uDDE6\uD83C\uDDFA",code:"en-AU"},{name:"German (Germany)",flag:"\uD83C\uDDE9\uD83C\uDDEA",code:"de"},{name:"Spanish (Spain)",flag:"\uD83C\uDDEA\uD83C\uDDF8",code:"es"},{name:"Korean",flag:"\uD83C\uDDF0\uD83C\uDDF7",code:"ko"},{name:"French (France)",flag:"\uD83C\uDDEB\uD83C\uDDF7",code:"fr"},{name:"Japanese",flag:"\uD83C\uDDEF\uD83C\uDDF5",code:"ja"},{name:"Chinese (China)",flag:"\uD83C\uDDE8\uD83C\uDDF3",code:"zh"},{name:"Chinese (Taiwan)",flag:"\uD83C\uDDF9\uD83C\uDDFC",code:"zh-TW"},{name:"Hindi",flag:"\uD83C\uDDEE\uD83C\uDDF3",code:"hi"},{name:"Portuguese (Brazil)",flag:"\uD83C\uDDE7\uD83C\uDDF7",code:"pt"},{name:"Portuguese (Portugal)",flag:"\uD83C\uDDF5\uD83C\uDDF9",code:"pt-PT"},{name:"Italian",flag:"\uD83C\uDDEE\uD83C\uDDF9",code:"it"},{name:"Indonesian",flag:"\uD83C\uDDEE\uD83C\uDDE9",code:"id"},{name:"Dutch",flag:"\uD83C\uDDF3\uD83C\uDDF1",code:"nl"},{name:"Turkish",flag:"\uD83C\uDDF9\uD83C\uDDF7",code:"tr"},{name:"Polish",flag:"\uD83C\uDDF5\uD83C\uDDF1",code:"pl"},{name:"Swedish",flag:"\uD83C\uDDF8\uD83C\uDDEA",code:"sv"},{name:"Bulgarian",flag:"\uD83C\uDDE7\uD83C\uDDEC",code:"bg"},{name:"Romanian",flag:"\uD83C\uDDF7\uD83C\uDDF4",code:"ro"},{name:"Arabic (Saudi Arabia)",flag:"\uD83C\uDDF8\uD83C\uDDE6",code:"ar"},{name:"Czech",flag:"\uD83C\uDDE8\uD83C\uDDFF",code:"cs"},{name:"Greek",flag:"\uD83C\uDDEC\uD83C\uDDF7",code:"el"},{name:"Finnish",flag:"\uD83C\uDDEB\uD83C\uDDEE",code:"fi"},{name:"Hungarian",flag:"\uD83C\uDDED\uD83C\uDDFA",code:"hu"},{name:"Norwegian",flag:"\uD83C\uDDF3\uD83C\uDDF4",code:"no"},{name:"Vietnamese",flag:"\uD83C\uDDFB\uD83C\uDDF3",code:"vi"},{name:"Slovak",flag:"\uD83C\uDDF8\uD83C\uDDF0",code:"sk"},{name:"Russian",flag:"\uD83C\uDDF7\uD83C\uDDFA",code:"ru"},{name:"Ukrainian",flag:"\uD83C\uDDFA\uD83C\uDDE6",code:"uk"},{name:"Malay",flag:"\uD83C\uDDF2\uD83C\uDDFE",code:"ms"},{name:"Danish",flag:"\uD83C\uDDE9\uD83C\uDDF0",code:"da"}];var d=e=>{let{nextStep:t,previousStep:l,userData:s,setUserData:u}=e,d=(0,c.useSearchParams)().get("learn"),[D,m]=(0,n.useState)(d),f=e=>{m(e),u({...s,language:e})};return(0,a.jsxs)("main",{className:"bg-gradient-to-b from-[#F6F8FF] to-[#F7F8FD] h-screen pb-14 pt-7 flex flex-col items-center px-7",children:[(0,a.jsx)("div",{className:"flex w-full justify-between items-center",children:(0,a.jsx)("button",{className:"text-black/60 font-medium text-sm self-start flex items-center bg-black bg-opacity-[10%] w-12 h-12 justify-center rounded-full",onClick:l,children:(0,a.jsx)(o.G,{icon:i.A35})})}),(0,a.jsxs)("div",{className:"flex flex-col items-start flex-grow justify-start w-full min-h-0",children:[(0,a.jsx)("p",{className:"my-7 text-black text-xl text-left font-semibold w-full",children:"What would you like to learn?"}),(0,a.jsxs)("div",{className:"overflow-y-auto w-full flex-grow min-h-0 flex flex-col gap-3",children:[r.map(e=>(0,a.jsxs)("button",{className:"text-base border-[1px] py-4 px-7 rounded-lg w-full flex gap-3 items-center ".concat(D===e.code?"bg-[#0039FF]/5 border-[#0039FF] text-[#0039FF]":"bg-white border-black/10"),onClick:()=>f(e.code),children:[(0,a.jsx)("p",{className:"text-2xl",children:e.flag}),e.name]},e.name)),(0,a.jsx)("p",{className:"text-black/30",children:"We are actively working on adding more languages. Stay tuned!"})]})]}),(0,a.jsx)("div",{className:"flex flex-col items-center w-full gap-3 mt-4",children:(0,a.jsx)("button",{className:"bg-[#0039FF] text-white py-3 w-full rounded-lg font-semibold ".concat(D?"":"opacity-50 cursor-not-allowed"),onClick:()=>{D&&t()},disabled:!D,children:"Next question"})})]})},D=l(3974),m=l(8079),f=e=>{let{nextStep:t,previousStep:l,setUserData:u,userData:c,router:r}=e,[d,f]=(0,n.useState)(""),{isLoggedIn:x,saveToken:g}=(0,s.h)(),[h,p]=(0,n.useState)(!1),[F,b]=(0,n.useState)("RANDOM"),[C,w]=(0,n.useState)("RANDOM@RANDOM.COM"),[j,N]=(0,n.useState)("RANDOM"),[y,k]=(0,D.useLocalStorage)("language","en");return(0,a.jsxs)("main",{className:"bg-gradient-to-b from-[#F6F8FF] to-[#F7F8FD] h-screen pb-14 pt-7 flex flex-col items-center px-7",children:[(0,a.jsx)("div",{className:"flex w-full justify-between items-center",children:(0,a.jsx)("button",{className:"text-black/60 font-medium text-sm self-start flex items-center bg-black bg-opacity-[10%] w-12 h-12 justify-center rounded-full",onClick:l,children:(0,a.jsx)(o.G,{icon:i.A35})})}),(0,a.jsxs)("div",{className:"flex flex-col items-start flex-grow justify-start w-full min-h-0",children:[(0,a.jsx)("p",{className:"my-7 text-black text-xl text-left font-semibold w-full",children:"Last question! How should we call you?"}),(0,a.jsxs)("div",{className:"overflow-y-auto w-full flex-grow min-h-0 flex flex-col gap-3",children:[(0,a.jsx)("input",{type:"text",placeholder:"Your name (e.g. John)",className:"text-black border-[#DADADA] border-[1px] p-3 rounded-lg w-full",value:d,onChange:e=>{f(e.target.value),u({...c,profile:{...c.profile,nickname:e.target.value}})}}),(0,a.jsx)("p",{className:"text-black/30",children:"This is how our AI tutor will address you during the lessons."})]})]}),x?(0,a.jsx)("div",{className:"flex flex-col items-center w-full gap-3 mt-4",children:(0,a.jsxs)("button",{className:"".concat(h&&"bg-opacity-30"," bg-[#0039FF] text-white py-3 w-full rounded-lg font-semibold flex gap-2 justify-center items-center"),onClick:()=>{p(!0);let{account:e,...t}=c;console.log(t),(0,m.Hy)({body:t}).then(e=>{k(c.language),e.data&&r.push("/")}).catch(e=>{var t;return alert(null===(t=e.body)||void 0===t?void 0:t.detail)})},children:[h&&(0,a.jsx)(o.G,{className:"animate-spin",icon:i.LM3}),"Continue"]})}):(0,a.jsx)("div",{className:"flex flex-col items-center w-full gap-3 mt-4",children:(0,a.jsxs)("button",{className:"".concat(h&&"bg-opacity-30"," bg-[#0039FF] text-white py-3 w-full rounded-lg font-semibold flex gap-2 justify-center items-center"),onClick:()=>{if(p(!0),!C||!j){alert("Please enter your email and password");return}(0,m.c_)({body:{...c,account:{username:F,email:C,password:j}}}).then(e=>{k(c.language),e.data?(g(e.data.token.access_token),r.push("/")):(alert("No token in response, please login manually"),r.push("/login"))}).catch(e=>{var t;return alert(null===(t=e.body)||void 0===t?void 0:t.detail)})},children:[h&&(0,a.jsx)(o.G,{className:"animate-spin",icon:i.LM3}),"Get Started"]})})]})},x=l(5095),g=l(755),h=e=>{let{nextStep:t,previousStep:l,userData:s,setUserData:u}=e,[c,d]=(0,n.useState)(null),D=e=>{d(e),u({...s,profile:{...s.profile,fallback_language:e}})};return(0,a.jsxs)("main",{className:"bg-gradient-to-b from-[#F6F8FF] to-[#F7F8FD] h-screen pb-14 pt-7 flex flex-col items-center px-7",children:[(0,a.jsx)("div",{className:"flex w-full justify-between items-center",children:(0,a.jsx)("button",{className:"text-black/60 font-medium text-sm self-start flex items-center bg-black bg-opacity-[10%] w-12 h-12 justify-center rounded-full",onClick:l,children:(0,a.jsx)(o.G,{icon:i.A35})})}),(0,a.jsxs)("div",{className:"flex flex-col items-start flex-grow justify-start w-full min-h-0",children:[(0,a.jsx)("p",{className:"my-3 text-black text-xl text-left font-semibold w-full",children:"What is your native language?"}),(0,a.jsx)("p",{className:"my-5 font-normal text-sm text-black/30",children:"The language you select here will be used to translate and help you during the lesson!"}),(0,a.jsx)("div",{className:"overflow-y-auto w-full flex-grow min-h-0 flex flex-col gap-3",children:r.map(e=>{if(e.code!=s.language)return(0,a.jsxs)("button",{className:"text-base border-[1px] py-4 px-7 rounded-lg w-full flex gap-3 items-center ".concat(c===e.code?"bg-[#0039FF]/5 border-[#0039FF] text-[#0039FF]":"bg-white border-black/10"),onClick:()=>D(e.code),children:[(0,a.jsx)("p",{className:"text-2xl",children:e.flag}),e.name]},e.name)})})]}),(0,a.jsx)("div",{className:"flex flex-col items-center w-full gap-3 mt-4",children:(0,a.jsx)("button",{className:"bg-[#0039FF] text-white py-3 w-full rounded-lg font-semibold ".concat(c?"":"opacity-50 cursor-not-allowed"),onClick:()=>{c&&t()},disabled:!c,children:"Next question"})})]})};function p(){let e=(0,c.useRouter)(),t=(0,c.useSearchParams)().get("learn"),[l,s]=(0,n.useState)(t?3:1),[i,o]=(0,n.useState)({account:{username:"",email:"",password:""},language:t||"en",profile:{nickname:"",level:"BEGINNER"}}),r={nextStep:()=>{console.log("nextStep"),s(e=>e+1)},previousStep:()=>{s(e=>e-1)},setUserData:o,userData:i};return(0,a.jsx)("div",{className:"bg-gradient-to-b from-[#F6F8FF] to-[#F7F8FD] h-screen w-screen flex items-center justify-center",children:(0,a.jsx)(x.M,{mode:"wait",children:(0,a.jsx)(g.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"w-full h-full",children:(()=>{switch(l){case 1:default:return(0,a.jsx)(u,{...r,router:e});case 2:return(0,a.jsx)(d,{...r});case 3:return(0,a.jsx)(h,{...r});case 4:return(0,a.jsx)(f,{...r,router:e})}})()},l)})})}}},function(e){e.O(0,[676,254,268,962,383,79,971,117,744],function(){return e(e.s=8234)}),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8461],{8234:function(e,t,l){Promise.resolve().then(l.bind(l,79582))},15276:function(e,t,l){"use strict";l.d(t,{BackendProvider:function(){return f},CSPostHogProvider:function(){return h},h:function(){return x}});var a=l(57437),n=l(2265),s=l(53974),r=l(19856),i=l(21623),o=l(29827),c=l(99376),u=l(46214),d=l(23664);r.Lp.setConfig({baseUrl:"https://backend-us-rc.tenmin.ai"}),r.Lp.interceptors.request.use((e,t)=>{var l;let a=JSON.parse(null!==(l=localStorage.getItem("token"))&&void 0!==l?l:"null");return a&&e.headers.set("Authorization","Bearer "+a),e});let g=new i.S,m=(0,n.createContext)(void 0),f=e=>{let{children:t}=e,l=(0,s.useIsClient)(),i=(0,c.useRouter)(),u=(0,c.usePathname)(),[d,f]=(0,n.useState)(null);return((0,n.useEffect)(()=>{if(l){let e=localStorage.getItem("token");f(e),console.log(u),e||"/login"===u||i.push("/onboarding")}},[l,i]),l)?(0,a.jsx)(m.Provider,{value:{authedClient:r.Lp,isLoggedIn:!!localStorage.getItem("token"),saveToken:e=>{null===e?localStorage.removeItem("token"):localStorage.setItem("token",JSON.stringify(e)),f(e)}},children:(0,a.jsx)(o.aH,{client:g,children:t})}):(0,a.jsx)("main",{className:"h-screen-safe flex w-screen items-center justify-center bg-[#FAFBFF]",children:(0,a.jsx)("img",{src:"tenmin_two_bubbles.svg",alt:"",className:"w-10"})})},x=()=>{let e=(0,n.useContext)(m);if(!e)throw Error("useAuthContext must be used within an AuthProvider");return e};function h(e){let{children:t}=e;return(0,a.jsx)(d.zf,{client:u.ZP,children:t})}u.ZP.init("phc_3RgWCdQuPIThVhLMxGlimaJQHP7ILbqZnxeR8GRkin6",{api_host:"https://us.i.posthog.com",person_profiles:"always"})},67140:function(e,t,l){"use strict";l.d(t,{M:function(){return i}});var a=l(57437),n=l(61273),s=l(2265),r=l(99376);let i=[{name:"English (US)",flag:"\uD83C\uDDFA\uD83C\uDDF8",code:"en",path:"us United States of America usa.svg",greeting:"Hello"},{name:"English (United Kingdom)",flag:"\uD83C\uDDEC\uD83C\uDDE7",code:"en-GB",path:"gb United Kingdom uk.svg",greeting:"Hello"},{name:"English (Australia)",flag:"\uD83C\uDDE6\uD83C\uDDFA",code:"en-AU",path:"au Australia.svg",greeting:"G'day"},{name:"German (Germany)",flag:"\uD83C\uDDE9\uD83C\uDDEA",code:"de",path:"de Germany.svg",greeting:"Hallo"},{name:"Spanish (Spain)",flag:"\uD83C\uDDEA\uD83C\uDDF8",code:"es",path:"es Spain.svg",greeting:"Hola"},{name:"Korean",flag:"\uD83C\uDDF0\uD83C\uDDF7",code:"ko",path:"kr South Korea.svg",greeting:"안녕"},{name:"French (France)",flag:"\uD83C\uDDEB\uD83C\uDDF7",code:"fr",path:"fr France.svg",greeting:"Bonjour"},{name:"Japanese",flag:"\uD83C\uDDEF\uD83C\uDDF5",code:"ja",path:"jp Japan.svg",greeting:"こんにちは"},{name:"Chinese (China)",flag:"\uD83C\uDDE8\uD83C\uDDF3",code:"zh",path:"cn China.svg",greeting:"你好"},{name:"Chinese (Taiwan)",flag:"\uD83C\uDDF9\uD83C\uDDFC",code:"zh-TW",path:"tw Taiwan.svg",greeting:"你好"},{name:"Hindi",flag:"\uD83C\uDDEE\uD83C\uDDF3",code:"hi",path:"in India.svg",greeting:"नमस्ते"},{name:"Portuguese (Brazil)",flag:"\uD83C\uDDE7\uD83C\uDDF7",code:"pt",path:"br Brazil.svg",greeting:"Ol\xe1"},{name:"Portuguese (Portugal)",flag:"\uD83C\uDDF5\uD83C\uDDF9",code:"pt-PT",path:"pt Portugal.svg",greeting:"Ol\xe1"},{name:"Italian",flag:"\uD83C\uDDEE\uD83C\uDDF9",code:"it",path:"it Italy.svg",greeting:"Ciao"},{name:"Indonesian",flag:"\uD83C\uDDEE\uD83C\uDDE9",code:"id",path:"id Indonesia.svg",greeting:"Halo"},{name:"Dutch",flag:"\uD83C\uDDF3\uD83C\uDDF1",code:"nl",path:"nl Netherlands.svg",greeting:"Hallo"},{name:"Turkish",flag:"\uD83C\uDDF9\uD83C\uDDF7",code:"tr",path:"tr Turkey.svg",greeting:"Merhaba"},{name:"Polish",flag:"\uD83C\uDDF5\uD83C\uDDF1",code:"pl",path:"pl Poland.svg",greeting:"Cześć"},{name:"Swedish",flag:"\uD83C\uDDF8\uD83C\uDDEA",code:"sv",path:"se Sweden.svg",greeting:"Hej"},{name:"Bulgarian",flag:"\uD83C\uDDE7\uD83C\uDDEC",code:"bg",path:"bg Bulgaria.svg",greeting:"Здравейте"},{name:"Romanian",flag:"\uD83C\uDDF7\uD83C\uDDF4",code:"ro",path:"ro Romania.svg",greeting:"Bună"},{name:"Arabic (Saudi Arabia)",flag:"\uD83C\uDDF8\uD83C\uDDE6",code:"ar",path:"sa Saudi Arabia.svg",greeting:"مرحبا"},{name:"Czech",flag:"\uD83C\uDDE8\uD83C\uDDFF",code:"cs",path:"cz Czech Republic.svg",greeting:"Ahoj"},{name:"Greek",flag:"\uD83C\uDDEC\uD83C\uDDF7",code:"el",path:"gr Greece.svg",greeting:"Γειά σας"},{name:"Finnish",flag:"\uD83C\uDDEB\uD83C\uDDEE",code:"fi",path:"fi Finland.svg",greeting:"Hei"},{name:"Hungarian",flag:"\uD83C\uDDED\uD83C\uDDFA",code:"hu",path:"hu Hungary.svg",greeting:"Hell\xf3"},{name:"Norwegian",flag:"\uD83C\uDDF3\uD83C\uDDF4",code:"no",path:"no Norway.svg",greeting:"Hei"},{name:"Vietnamese",flag:"\uD83C\uDDFB\uD83C\uDDF3",code:"vi",path:"vn Vietnam.svg",greeting:"Xin ch\xe0o"},{name:"Slovak",flag:"\uD83C\uDDF8\uD83C\uDDF0",code:"sk",path:"sk Slovakia.svg",greeting:"Ahoj"},{name:"Russian",flag:"\uD83C\uDDF7\uD83C\uDDFA",code:"ru",path:"ru Russia.svg",greeting:"Здравствуйте"},{name:"Ukrainian",flag:"\uD83C\uDDFA\uD83C\uDDE6",code:"uk",path:"ua Ukraine.svg",greeting:"Привіт"},{name:"Malay",flag:"\uD83C\uDDF2\uD83C\uDDFE",code:"ms",path:"my Malaysia.svg",greeting:"Halo"},{name:"Danish",flag:"\uD83C\uDDE9\uD83C\uDDF0",code:"da",path:"dk Denmark.svg",greeting:"Hej"}];t.Z=e=>{let{nextStep:t,previousStep:l,userData:o,setUserData:c}=e,u=(0,r.useSearchParams)().get("learn"),[d,g]=(0,s.useState)(u),m=e=>{g(e),c({...o,language:e})};return(0,a.jsxs)("main",{className:"h-screen-safe flex flex-col items-center bg-[#FAFBFF] px-7 pb-10 pt-3",children:[(0,a.jsx)("div",{className:"flex w-full items-center justify-between",children:(0,a.jsx)("button",{className:"flex h-12 w-12 items-center justify-center self-start rounded-full bg-black bg-opacity-[10%] text-sm font-medium text-black/60",onClick:l,children:(0,a.jsx)(n.bUI,{})})}),(0,a.jsxs)("div",{className:"flex min-h-0 w-full flex-grow flex-col items-start justify-start",children:[(0,a.jsx)("p",{className:"my-7 w-full text-left text-xl font-semibold text-black",children:"What would you like to learn?"}),(0,a.jsxs)("div",{className:"flex min-h-0 w-full flex-grow flex-col gap-3 overflow-y-auto",children:[i.map(e=>(0,a.jsxs)("button",{className:"flex w-full items-center gap-3 rounded-lg border-[1px] px-7 py-4 text-base ".concat(d===e.code?"border-[#2552F4] bg-[#2552F4]/5 text-[#2552F4]":"border-black/10 bg-white"),onClick:()=>m(e.code),children:[(0,a.jsx)("img",{src:"flags/".concat(e.path),alt:"",className:"mr-3 h-5 rounded-md border-[1px] border-[#DADADA]"}),e.name]},e.name)),(0,a.jsx)("p",{className:"text-black/30",children:"We are actively working on adding more languages. Stay tuned!"})]}),(0,a.jsx)("div",{className:"mt-4 flex w-full flex-col items-center gap-3",children:(0,a.jsx)("button",{className:"w-full rounded-full bg-[#2552F4] py-4 font-semibold text-white ".concat(d?"":"cursor-not-allowed opacity-50"),onClick:()=>{d&&t()},disabled:!d,children:"Next question"})})]})]})}},79582:function(e,t,l){"use strict";let a;l.r(t),l.d(t,{default:function(){return j}});var n=l(57437),s=l(2265),r=l(15276),i=e=>{let{nextStep:t,router:l}=e,{isLoggedIn:i}=(0,r.h)(),[o,c]=(0,s.useState)(!1),[u,d]=(0,s.useState)("");(0,s.useEffect)(()=>{window.matchMedia("(display-mode: standalone)").matches?console.log("This is running as standalone."):(console.log("This is running in a browser."),c(!0))},[]);let[g,m]=(0,s.useState)(!1);return((0,s.useEffect)(()=>{window.addEventListener("beforeinstallprompt",e=>{e.preventDefault(),a=e,m(!0)}),window.addEventListener("appinstalled",()=>{console.log("INSTALL: Success"),d("Installed! Please open the app from your home screen.")})},[]),o)?(0,n.jsx)("main",{className:"h-screen-safe flex flex-col items-center justify-center bg-[#FAFBFF] px-7 pb-4 pt-5 tracking-[-0.02em]",children:(0,n.jsxs)("div",{className:"flex flex-col gap-10",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"mb-4 text-center text-xl font-bold",children:"Get the Tenmin App"}),(0,n.jsxs)("div",{className:"text-center",children:["The app ",(0,n.jsx)("span",{className:"font-semibold",children:"only works"})," when installed as a PWA/Bookmark on your smartphone. Please install it on your phone like this:"]})]}),(0,n.jsx)("img",{src:"pwa_step1.png",alt:"",className:"w-[95%] max-w-[500px] border-4"}),(0,n.jsx)("img",{src:"pwa_step2.png",alt:"",className:"w-[95%] max-w-[500px] border-4"}),(0,n.jsx)("div",{className:"flex flex-col items-center gap-5",children:u?(0,n.jsx)("div",{className:"text-md text-center text-[#0039FF]",children:u}):g?(0,n.jsx)("button",{onClick:e=>{m(!1);try{a.prompt(),a.userChoice.then(e=>{"accepted"===e.outcome?console.log("User accepted the install prompt"):console.log("User dismissed the install prompt")})}catch(e){console.error("Error trying to install PWA",e)}},className:"w-full rounded-full bg-[#0039FF] px-3 py-4 font-semibold text-white",children:(0,n.jsx)("p",{children:"Install"})}):(0,n.jsx)("button",{onClick:()=>c(!1),className:"w-full rounded-full px-3 py-4 text-sm text-black",children:(0,n.jsx)("p",{children:"Skip"})})})]})}):(0,n.jsxs)("div",{className:"h-screen-safe flex flex-col items-center bg-[#FAFBFF] px-7 pb-10 pt-7",children:[(0,n.jsxs)("div",{className:"flex flex-grow flex-col items-center justify-center",children:[(0,n.jsx)("img",{src:"/tenmin_new.svg",alt:"",className:"h-10"}),(0,n.jsxs)("p",{className:"mt-3 text-center text-black/30",children:["Learn how to ",(0,n.jsx)("u",{className:"curved-underline",children:"speak"})," any language!"]})]}),(0,n.jsxs)("div",{className:"flex w-full flex-col items-center gap-3",children:[(0,n.jsx)("button",{className:"w-full rounded-full bg-[#2552F4] py-4 font-semibold text-white",onClick:t,children:"Get started"}),!i&&(0,n.jsx)("button",{className:"w-full rounded-full bg-black bg-opacity-[7%] py-3 font-semibold text-black",onClick:()=>{l.push("/login")},children:"I have an account"})]})]})},o=l(67140),c=l(61273),u=l(53974),d=l(18079),g=e=>{let{nextStep:t,previousStep:l,setUserData:a,userData:i,router:o}=e,[g,m]=(0,s.useState)(""),{isLoggedIn:f,saveToken:x}=(0,r.h)(),[h,D]=(0,s.useState)(!1),[p,b]=(0,s.useState)("RANDOM"),[C,j]=(0,s.useState)("RANDOM@RANDOM.COM"),[w,v]=(0,s.useState)("RANDOM"),[F,y]=(0,u.useLocalStorage)("language","en");return(0,n.jsxs)("main",{className:"h-screen-safe flex flex-col items-center bg-[#FAFBFF] px-7 pb-10 pt-3",children:[(0,n.jsx)("div",{className:"flex w-full items-center justify-between",children:(0,n.jsx)("button",{className:"flex h-12 w-12 items-center justify-center self-start rounded-full bg-black bg-opacity-[10%] text-sm font-medium text-black/60",onClick:l,children:(0,n.jsx)(c.bUI,{})})}),(0,n.jsxs)("div",{className:"flex min-h-0 w-full flex-grow flex-col items-start justify-start",children:[(0,n.jsx)("p",{className:"my-7 w-full text-left text-xl font-semibold text-black",children:"Last question! How should we call you?"}),(0,n.jsxs)("div",{className:"flex min-h-0 w-full flex-grow flex-col gap-3 overflow-y-auto",children:[(0,n.jsx)("input",{type:"text",placeholder:"Your name (e.g. John)",className:"w-full rounded-lg border-[1px] border-[#DADADA] p-3 text-black",value:g,onChange:e=>{m(e.target.value),a({...i,profile:{...i.profile,nickname:e.target.value}})}}),(0,n.jsx)("p",{className:"text-black/30",children:"This is how our AI tutor will address you during the lessons."})]})]}),f?(0,n.jsx)("div",{className:"mt-4 flex w-full flex-col items-center gap-3",children:(0,n.jsxs)("button",{className:"".concat(h&&"bg-opacity-30"," flex w-full items-center justify-center gap-2 rounded-full bg-[#2552F4] py-4 font-semibold text-white"),onClick:()=>{D(!0);let{account:e,...t}=i;console.log(t),(0,d.Hy)({body:t}).then(e=>{y(i.language),e.data&&o.push("/")}).catch(e=>{var t;return alert(null===(t=e.body)||void 0===t?void 0:t.detail)})},children:[h&&(0,n.jsx)(c.fCD,{className:"animate-spin"}),"Continue"]})}):(0,n.jsx)("div",{className:"mt-4 flex w-full flex-col items-center gap-3",children:(0,n.jsxs)("button",{className:"".concat(h&&"bg-opacity-30"," flex w-full items-center justify-center gap-2 rounded-full bg-[#2552F4] py-4 font-semibold text-white"),onClick:()=>{if(D(!0),!C||!w){alert("Please enter your email and password");return}(0,d.c_)({body:{...i,account:{username:p,email:C,password:w}}}).then(e=>{y(i.language),e.data?(x(e.data.token.access_token),o.push("/")):(alert("No token in response, please login manually"),o.push("/login"))}).catch(e=>{var t;return alert(null===(t=e.body)||void 0===t?void 0:t.detail)})},children:[h&&(0,n.jsx)(c.fCD,{className:"animate-spin"}),"Get Started"]})})]})},m=l(5095),f=l(60755),x=l(99376),h=e=>{let{nextStep:t,previousStep:l,userData:a,setUserData:r}=e,[i,u]=(0,s.useState)(null),d=e=>{u(e),r({...a,profile:{...a.profile,fallback_language:e}})};return(0,n.jsxs)("main",{className:"h-screen-safe flex flex-col items-center bg-[#FAFBFF] px-7 pb-10 pt-3",children:[(0,n.jsx)("div",{className:"flex w-full items-center justify-between",children:(0,n.jsx)("button",{className:"flex h-12 w-12 items-center justify-center self-start rounded-full bg-black bg-opacity-[10%] text-sm font-medium text-black/60",onClick:l,children:(0,n.jsx)(c.bUI,{})})}),(0,n.jsxs)("div",{className:"flex min-h-0 w-full flex-grow flex-col items-start justify-start",children:[(0,n.jsx)("p",{className:"mb-3 mt-7 w-full text-left text-xl font-semibold text-black",children:"What is your native language?"}),(0,n.jsx)("p",{className:"mb-5 text-sm font-normal text-black/30",children:"The language you select here will be used to translate and help you during the lesson!"}),(0,n.jsx)("div",{className:"flex min-h-0 w-full flex-grow flex-col gap-3 overflow-y-auto",children:o.M.map(e=>{if(e.code!=a.language)return(0,n.jsxs)("button",{className:"flex w-full items-center gap-3 rounded-lg border-[1px] px-7 py-4 text-base ".concat(i===e.code?"border-[#2552F4] bg-[#2552F4]/5 text-[#2552F4]":"border-black/10 bg-white"),onClick:()=>d(e.code),children:[(0,n.jsx)("img",{src:"flags/".concat(e.path),alt:"",className:"mr-3 h-5 rounded-md border-[1px] border-[#DADADA]"}),e.name]},e.name)})})]}),(0,n.jsx)("div",{className:"mt-4 flex w-full flex-col items-center gap-3",children:(0,n.jsx)("button",{className:"w-full rounded-full bg-[#2552F4] py-4 font-semibold text-white ".concat(i?"":"cursor-not-allowed opacity-50"),onClick:()=>{i&&t()},disabled:!i,children:"Next question"})})]})},D=l(85411),p=l(40384);let b=new(l.n(p)());var C=e=>{let{nextStep:t,previousStep:l,setUserData:a,userData:r,router:i}=e,[o,u]=(0,s.useState)(!1),[g,m]=(0,s.useState)(""),[f,x]=(0,s.useState)("");console.log(r);let[h,p]=(0,s.useState)(r.profile.nickname);return(0,n.jsxs)("main",{className:"h-screen-safe flex flex-col items-center bg-[#FAFBFF] px-7 pb-10 pt-3",children:[(0,n.jsx)("div",{className:"flex w-full items-center justify-between",children:(0,n.jsx)("button",{className:"flex h-12 w-12 items-center justify-center self-start rounded-full bg-black bg-opacity-[10%] text-sm font-medium text-black",onClick:l,children:(0,n.jsx)(c.bUI,{})})}),(0,n.jsx)("div",{className:"flex flex-grow flex-col items-center justify-center",children:(0,n.jsxs)("p",{className:"mt-5 text-center text-lg text-black/30",children:[(0,n.jsx)("p",{className:"mb-2 text-2xl font-semibold text-black",children:(0,n.jsx)(D.e,{splitter:e=>b.splitGraphemes(e),sequence:["Hallo ".concat(null!=h?h:"Friend"," \uD83C\uDF89"),2e3,"Hola ".concat(null!=h?h:"Friend"," \uD83C\uDF89"),2e3,"Bonjour ".concat(null!=h?h:"Friend"," \uD83C\uDF89"),2e3,"Ciao ".concat(null!=h?h:"Friend"," \uD83C\uDF89"),2e3,"Hello ".concat(null!=h?h:"Friend"," \uD83C\uDF89"),2e3,"こんにちは ".concat(null!=h?h:"Friend"," \uD83C\uDF89"),2e3,"안녕하세요 ".concat(null!=h?h:"Friend"," \uD83C\uDF89"),2e3,"你好 ".concat(null!=h?h:"Friend"," \uD83C\uDF89")],wrapper:"span",speed:50,style:{display:"inline-block"},cursor:!1,repeat:1/0})}),"Let's start your first lesson! Sign in and jump right in."]})}),o?(0,n.jsxs)("div",{className:"mt-4 flex w-full flex-col gap-2",children:[(0,n.jsx)("input",{type:"text",placeholder:"Email",className:"w-full rounded-lg border-[1px] border-[#DADADA] p-3 text-black",value:g,onChange:e=>m(e.target.value)}),(0,n.jsx)("input",{type:"password",placeholder:"Password",className:"w-full rounded-lg border-[1px] border-[#DADADA] p-3 text-black",value:f,onChange:e=>x(e.target.value)})]}):(0,n.jsxs)("div",{className:"mt-4 flex w-full flex-col items-center gap-3",children:[(0,n.jsxs)("button",{className:"flex w-full items-center justify-center gap-3 rounded-full border border-gray-300 bg-white py-4 font-semibold text-black",onClick:()=>{(0,d.kc)({query:{client_callback:"".concat(location.protocol,"//").concat(location.host,"/oauth/google")}}).then(e=>{var t;let l=null===(t=e.data)||void 0===t?void 0:t.redirect_uri;console.log(e),console.log(l),l&&window.open(l,"_blank")}).catch(e=>{console.log(e),alert(e)})},children:[(0,n.jsx)("img",{src:"/google_logo.svg",alt:"",className:"h-5"}),"Sign in with Google"]}),(0,n.jsx)("button",{className:"flex w-full items-center justify-center gap-3 rounded-full bg-gray-200 py-4 font-semibold text-black",onClick:()=>i.push("/"),children:"I'll sign in later"})]}),(0,n.jsx)("div",{className:"w-full",children:o&&(0,n.jsx)("button",{className:"mt-4 flex w-full items-center justify-center rounded-full bg-[#0039FF] py-4 text-white",onClick:()=>{},children:(0,n.jsx)("p",{className:"text-base font-semibold",children:"Create account"})})})]})};function j(){let e=(0,x.useRouter)(),t=(0,x.useSearchParams)().get("learn"),[l,a]=(0,s.useState)(t?3:1),[r,c]=(0,s.useState)({account:{username:"",email:"",password:""},language:t||"en",profile:{nickname:"",level:"BEGINNER"}}),u={nextStep:()=>{console.log("nextStep"),a(e=>e+1)},previousStep:()=>{a(e=>e-1)},setUserData:c,userData:r};return(0,n.jsx)("div",{className:"h-screen-safe flex w-screen items-center justify-center bg-[#FAFBFF]",children:(0,n.jsx)(m.M,{mode:"wait",children:(0,n.jsx)(f.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"h-full w-full",children:(()=>{switch(l){case 1:default:return(0,n.jsx)(i,{...u,router:e});case 2:return(0,n.jsx)(o.Z,{...u});case 3:return(0,n.jsx)(h,{...u});case 4:return(0,n.jsx)(g,{...u,router:e});case 5:return(0,n.jsx)(C,{...u,router:e})}})()},l)})})}}},function(e){e.O(0,[7240,5878,3260,1169,1811,4892,8079,2971,2117,1744],function(){return e(e.s=8234)}),_N_E=e.O()}]);
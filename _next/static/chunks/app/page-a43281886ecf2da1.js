(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1931],{58478:function(e){function t(e){return Promise.resolve().then(function(){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}t.keys=function(){return[]},t.resolve=t,t.id=58478,e.exports=t},3958:function(e,t,n){Promise.resolve().then(n.bind(n,50046))},15276:function(e,t,n){"use strict";n.d(t,{BackendProvider:function(){return h},CSPostHogProvider:function(){return f},h:function(){return m}});var a=n(57437),s=n(2265),l=n(53974),r=n(19856),i=n(21623),o=n(29827),c=n(99376),u=n(46214),d=n(23664);r.Lp.setConfig({baseUrl:"https://backend-us-rc.tenmin.ai"}),r.Lp.interceptors.request.use((e,t)=>{var n;let a=JSON.parse(null!==(n=localStorage.getItem("token"))&&void 0!==n?n:"null");return a&&e.headers.set("Authorization","Bearer "+a),e});let g=new i.S,x=(0,s.createContext)(void 0),h=e=>{let{children:t}=e,n=(0,l.useIsClient)(),i=(0,c.useRouter)(),u=(0,c.usePathname)(),[d,h]=(0,s.useState)(null);return((0,s.useEffect)(()=>{if(n){let e=localStorage.getItem("token");h(e),console.log(u),e||"/login"===u||i.replace("/onboarding")}},[n,i]),n)?(0,a.jsx)(x.Provider,{value:{authedClient:r.Lp,isLoggedIn:!!localStorage.getItem("token"),saveToken:e=>{null===e?localStorage.removeItem("token"):localStorage.setItem("token",JSON.stringify(e)),h(e)}},children:(0,a.jsx)(o.aH,{client:g,children:t})}):(0,a.jsx)("main",{className:"h-screen-safe flex w-screen items-center justify-center bg-[#FAFBFF]",children:(0,a.jsx)("img",{src:"tenmin_two_bubbles.svg",alt:"",className:"w-10"})})},m=()=>{let e=(0,s.useContext)(x);if(!e)throw Error("useAuthContext must be used within an AuthProvider");return e};function f(e){let{children:t}=e;return(0,a.jsx)(d.zf,{client:u.ZP,children:t})}u.ZP.init("phc_3RgWCdQuPIThVhLMxGlimaJQHP7ILbqZnxeR8GRkin6",{api_host:"https://us.i.posthog.com",person_profiles:"always"})},67140:function(e,t,n){"use strict";n.d(t,{Mj:function(){return i},mi:function(){return r}});var a=n(57437),s=n(2265),l=n(99376);let r=["en","en-GB","en-AU","de","ko","ja","fr","pt-PT"],i=[{name:"English (US)",flag:"\uD83C\uDDFA\uD83C\uDDF8",code:"en",path:"us United States of America usa.svg",uiflag_path:"us-United-States-of-America-3x2.svg",greeting:"Hello"},{name:"English (United Kingdom)",flag:"\uD83C\uDDEC\uD83C\uDDE7",code:"en-GB",path:"gb United Kingdom uk.svg",uiflag_path:"gb-United-Kingdom-3x2.svg",greeting:"Hello"},{name:"English (Australia)",flag:"\uD83C\uDDE6\uD83C\uDDFA",code:"en-AU",path:"au Australia.svg",uiflag_path:"au-Australia-3x2.svg",greeting:"G'day"},{name:"German (Germany)",flag:"\uD83C\uDDE9\uD83C\uDDEA",code:"de",path:"de Germany.svg",uiflag_path:"de-Germany-3x2.svg",greeting:"Hallo"},{name:"Spanish (Spain)",flag:"\uD83C\uDDEA\uD83C\uDDF8",code:"es",path:"es Spain.svg",uiflag_path:"es-Spain-3x2.svg",greeting:"Hola"},{name:"Korean",flag:"\uD83C\uDDF0\uD83C\uDDF7",code:"ko",path:"kr South Korea.svg",uiflag_path:"kr-South-Korea-3x2.svg",greeting:"안녕"},{name:"French (France)",flag:"\uD83C\uDDEB\uD83C\uDDF7",code:"fr",path:"fr France.svg",uiflag_path:"fr-France-3x2.svg",greeting:"Bonjour"},{name:"Japanese",flag:"\uD83C\uDDEF\uD83C\uDDF5",code:"ja",path:"jp Japan.svg",uiflag_path:"jp-Japan-3x2.svg",greeting:"こんにちは"},{name:"Chinese (China)",flag:"\uD83C\uDDE8\uD83C\uDDF3",code:"zh",path:"cn China.svg",uiflag_path:"cn-China-3x2.svg",greeting:"你好"},{name:"Chinese (Taiwan)",flag:"\uD83C\uDDF9\uD83C\uDDFC",code:"zh-TW",path:"tw Taiwan.svg",uiflag_path:"tw-Taiwan-3x2.svg",greeting:"你好"},{name:"Hindi",flag:"\uD83C\uDDEE\uD83C\uDDF3",code:"hi",path:"in India.svg",uiflag_path:"in-India-3x2.svg",greeting:"नमस्ते"},{name:"Portuguese (Brazil)",flag:"\uD83C\uDDE7\uD83C\uDDF7",code:"pt",path:"br Brazil.svg",uiflag_path:"br-Brazil-3x2.svg",greeting:"Ol\xe1"},{name:"Portuguese (Portugal)",flag:"\uD83C\uDDF5\uD83C\uDDF9",code:"pt-PT",path:"pt Portugal.svg",uiflag_path:"pt-Portugal-3x2.svg",greeting:"Ol\xe1"},{name:"Italian",flag:"\uD83C\uDDEE\uD83C\uDDF9",code:"it",path:"it Italy.svg",uiflag_path:"it-Italy-3x2.svg",greeting:"Ciao"},{name:"Indonesian",flag:"\uD83C\uDDEE\uD83C\uDDE9",code:"id",path:"id Indonesia.svg",uiflag_path:"id-Indonesia-3x2.svg",greeting:"Halo"},{name:"Dutch",flag:"\uD83C\uDDF3\uD83C\uDDF1",code:"nl",path:"nl Netherlands.svg",uiflag_path:"nl-Netherlands-3x2.svg",greeting:"Hallo"},{name:"Turkish",flag:"\uD83C\uDDF9\uD83C\uDDF7",code:"tr",path:"tr Turkey.svg",uiflag_path:"tr-Turkey-3x2.svg",greeting:"Merhaba"},{name:"Polish",flag:"\uD83C\uDDF5\uD83C\uDDF1",code:"pl",path:"pl Poland.svg",uiflag_path:"pl-Poland-3x2.svg",greeting:"Cześć"},{name:"Swedish",flag:"\uD83C\uDDF8\uD83C\uDDEA",code:"sv",path:"se Sweden.svg",uiflag_path:"se-Sweden-3x2.svg",greeting:"Hej"},{name:"Bulgarian",flag:"\uD83C\uDDE7\uD83C\uDDEC",code:"bg",path:"bg Bulgaria.svg",uiflag_path:"bg-Bulgaria-3x2.svg",greeting:"Здравейте"},{name:"Romanian",flag:"\uD83C\uDDF7\uD83C\uDDF4",code:"ro",path:"ro Romania.svg",uiflag_path:"ro-Romania-3x2.svg",greeting:"Bună"},{name:"Arabic (Saudi Arabia)",flag:"\uD83C\uDDF8\uD83C\uDDE6",code:"ar",path:"sa Saudi Arabia.svg",uiflag_path:"sa-Saudi-Arabia-3x2.svg",greeting:"مرحبا"},{name:"Czech",flag:"\uD83C\uDDE8\uD83C\uDDFF",code:"cs",path:"cz Czech Republic.svg",uiflag_path:"cz-Czech-Republic-3x2.svg",greeting:"Ahoj"},{name:"Greek",flag:"\uD83C\uDDEC\uD83C\uDDF7",code:"el",path:"gr Greece.svg",uiflag_path:"gr-Greece-3x2.svg",greeting:"Γειά σας"},{name:"Finnish",flag:"\uD83C\uDDEB\uD83C\uDDEE",code:"fi",path:"fi Finland.svg",uiflag_path:"fi-Finland-3x2.svg",greeting:"Hei"},{name:"Hungarian",flag:"\uD83C\uDDED\uD83C\uDDFA",code:"hu",path:"hu Hungary.svg",uiflag_path:"hu-Hungary-3x2.svg",greeting:"Hell\xf3"},{name:"Norwegian",flag:"\uD83C\uDDF3\uD83C\uDDF4",code:"no",path:"no Norway.svg",uiflag_path:"no-Norway-3x2.svg",greeting:"Hei"},{name:"Vietnamese",flag:"\uD83C\uDDFB\uD83C\uDDF3",code:"vi",path:"vn Vietnam.svg",uiflag_path:"vn-Vietnam-3x2.svg",greeting:"Xin ch\xe0o"},{name:"Slovak",flag:"\uD83C\uDDF8\uD83C\uDDF0",code:"sk",path:"sk Slovakia.svg",uiflag_path:"sk-Slovakia-3x2.svg",greeting:"Ahoj"},{name:"Russian",flag:"\uD83C\uDDF7\uD83C\uDDFA",code:"ru",path:"ru Russia.svg",uiflag_path:"ru-Russia-3x2.svg",greeting:"Здравствуйте"},{name:"Ukrainian",flag:"\uD83C\uDDFA\uD83C\uDDE6",code:"uk",path:"ua Ukraine.svg",uiflag_path:"ua-Ukraine-3x2.svg",greeting:"Привіт"},{name:"Malay",flag:"\uD83C\uDDF2\uD83C\uDDFE",code:"ms",path:"my Malaysia.svg",uiflag_path:"my-Malaysia-3x2.svg",greeting:"Halo"},{name:"Danish",flag:"\uD83C\uDDE9\uD83C\uDDF0",code:"da",path:"dk Denmark.svg",uiflag_path:"dk-Denmark-3x2.svg",greeting:"Hej"}];t.ZP=e=>{let{nextStep:t,previousStep:n,userData:o,setUserData:c}=e,u=(0,l.useSearchParams)().get("learn"),[d,g]=(0,s.useState)(u),x=e=>{g(e),c({...o,language:e})},h=(0,s.useRef)(null),[m,f]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{let e=h.current;if(!e)return;let t=()=>f(e.scrollTop>0);return e.addEventListener("scroll",t),()=>e.removeEventListener("scroll",t)},[]),(0,a.jsx)("main",{className:"flex min-h-0 grow flex-col items-center bg-[#FAFBFF] pb-10 pt-2",children:(0,a.jsxs)("div",{className:"flex min-h-0 w-full flex-grow flex-col items-start justify-start",children:[(0,a.jsx)("p",{className:"w-full px-7 pb-3 text-left text-xl font-semibold text-black ".concat(m?"border-b-[1px] border-black/10":""),children:"Which language do you want to learn?"}),(0,a.jsxs)("div",{className:"flex min-h-0 w-full flex-grow flex-col gap-3 overflow-y-auto px-7",ref:h,children:[i.map(e=>(0,a.jsxs)("button",{className:"flex w-full items-center gap-3 rounded-xl border-[1px] px-7 py-4 text-base ".concat(d===e.code?"border-[#2552F4] bg-[#2552F4]/5 text-[#2552F4]":"border-black/10 bg-white"," ").concat(!r.includes(e.code)&&"cursor-not-allowed opacity-50"),disabled:!r.includes(e.code),onClick:()=>x(e.code),children:[(0,a.jsx)("img",{src:"uiflags/".concat(e.uiflag_path),alt:"",className:"mr-3 h-5 rounded-md border-none border-[#DADADA] ".concat(r.includes(e.code)?"":"grayscale")}),e.name]},e.name)),(0,a.jsx)("p",{className:"text-black/30",children:"We are actively working on adding more languages. Stay tuned!"})]}),(0,a.jsx)("div",{className:"flex w-full flex-col items-center gap-3 border-t-[1px] border-black/10 px-7 pt-4",children:(0,a.jsx)("button",{className:"w-full rounded-full bg-[#2552F4] py-4 font-semibold text-white ".concat(d?"":"cursor-not-allowed opacity-50"),onClick:()=>{d&&t()},disabled:!d,children:"Next question"})})]})})}},50046:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return O}});var a=n(57437),s=n(2265),l=n(76417),r=n(61273),i=n(99376),o=n(15276),c=n(3069),u=n(18079),d=n(29827),g=n(16593),x=n(21770),h=n(33344),m=n(53974),f=n(40718),p=n.n(f);let v=e=>{let{color:t="currentColor",strokeColor:n="white",size:s=20}=e;return(0,a.jsxs)("svg",{width:s,height:s,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M19.2177 18.9323C19.2177 19.2155 19.1053 19.4871 18.905 19.6873C18.7048 19.8875 18.4332 20 18.1501 20H1.06765C0.784493 20 0.512932 19.8875 0.312708 19.6873C0.112485 19.4871 2.56995e-07 19.2155 2.56995e-07 18.9323V7.71132C-0.00011262 7.54863 0.0369591 7.38806 0.108384 7.24188C0.179808 7.0957 0.283697 6.96777 0.412114 6.86788L8.95333 0.224948C9.14075 0.0791549 9.37142 0 9.60887 0C9.84631 0 10.077 0.0791549 10.2644 0.224948L18.8056 6.86788C18.934 6.96777 19.0379 7.0957 19.1094 7.24188C19.1808 7.38806 19.2178 7.54863 19.2177 7.71132V18.9323Z",fill:t}),(0,a.jsx)("path",{d:"M14.5853 14.6666C14.1709 14.8873 13.4676 15.0761 12.5643 15.2091C11.661 15.3421 10.5982 15.4133 9.51045 15.4138C8.42265 15.4142 7.35868 15.3439 6.45306 15.2117C5.54744 15.0794 4.84087 14.8912 4.42267 14.6709",stroke:n,strokeWidth:"2",strokeLinecap:"round"})]})};v.propTypes={color:p().string,strokeColor:p().string,size:p().number};var b=n(67140),D=n(70836),j=e=>{let{isOpen:t,onClose:n,tutoringQueryKey:l,handleStartLesson:i}=e,[o,u]=(0,s.useState)(""),[g,m]=(0,s.useState)(null),f=(0,s.useRef)(null),p=(0,d.NL)(),v=(0,x.D)({...(0,h.bi)(),onSuccess(e){m(e),p.invalidateQueries({queryKey:l})}});return(0,a.jsxs)(c.y,{isOpen:t,onClose:()=>{n(),m(null)},detent:"full-height",tweenConfig:{ease:"easeInOut",duration:.3},disableScrollLocking:!0,children:[(0,a.jsxs)(c.y.Container,{style:{background:"#FAFBFF"},children:[(0,a.jsx)(c.y.Header,{}),(0,a.jsx)("p",{className:"px-8 py-5 text-lg font-semibold",children:g?"Your lesson is ready!":"Create your own scenario!"}),(0,a.jsx)(c.y.Content,{style:{backgroundColor:"#FAFBFF",paddingBottom:"25px"},children:g?(0,a.jsxs)("div",{className:"px-6 pb-10",children:[(0,a.jsxs)("div",{className:"flex min-w-32 flex-col items-end justify-between gap-1 rounded-xl border-[1px] border-[#DADADA] bg-white p-4",children:[(0,a.jsx)("div",{className:"w-full text-sm leading-snug",children:g.info.title}),(0,a.jsx)("div",{className:"text-3xl",children:g.info.emoji})]}),(0,a.jsx)("button",{className:"mt-4 flex w-full items-center justify-center rounded-full bg-[#0039FF] py-4 text-white",onClick:()=>{i(g.id)},children:(0,a.jsx)("p",{className:"text-base font-bold",children:"Try it out!"})})]}):(0,a.jsxs)("div",{className:"px-6 pb-10",children:[(0,a.jsx)("textarea",{ref:f,placeholder:"I am at a local bar ordering drinks, and the bartender looks cute...",className:"w-full rounded-lg border-[1px] border-[#DADADA] p-3 text-black",value:o,onChange:e=>u(e.target.value),rows:6}),(0,a.jsx)("button",{className:"".concat(v.isPending&&"bg-opacity-30"," mt-4 flex w-full items-center justify-center rounded-full bg-[#0039FF] py-4 text-white"),onClick:()=>{v.mutate({query:{user_description:o}})},disabled:v.isPending||0===o.length,children:v.isPending?(0,a.jsxs)("div",{className:"flex items-center justify-center",children:[(0,a.jsx)(r.fCD,{className:"mr-1.5 animate-spin"}),(0,a.jsx)("p",{className:"text-base font-bold",children:"Generating Lesson ..."})]}):(0,a.jsxs)("div",{className:"flex items-center justify-center",children:[(0,a.jsx)(r.vuX,{className:"mr-1.5 text-sm"}),(0,a.jsx)("p",{className:"text-base font-bold",children:"Generate"})]})})]})})]}),(0,a.jsx)(c.y.Backdrop,{onTap:()=>{m(null),n()}})]})},y=n(56870),C=n(32859),w=e=>(0,a.jsxs)("svg",{width:"18",height:"10",viewBox:"0 0 18 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,a.jsx)("rect",{width:"18",height:"2",rx:"1",fill:"black"}),(0,a.jsx)("rect",{y:"8",width:"12",height:"2",rx:"1",fill:"black"})]}),F=n(9601),N=n.n(F),k=n(89403);(0,D.bg)({});let A={en:["English (US)","us United States of America usa.svg"],"en-GB":["English (UK)","gb United Kingdom uk.svg"],"en-AU":["English (Australia)","au Australia.svg"],de:["German","de Germany.svg"],es:["Spanish (Spain)","es Spain.svg"],ko:["Korean","kr South Korea.svg"],fr:["French (France)","fr France.svg"],ja:["Japanese","jp Japan.svg"],zh:["Chinese (China)","cn China.svg"],"zh-TW":["Chinese (Taiwan)","tw Taiwan.svg"],hi:["Hindi","in India.svg"],pt:["Portuguese (Brazil)","br Brazil.svg"],"pt-PT":["Portuguese (Portugal)","pt Portugal.svg"],it:["Italian","it Italy.svg"],id:["Indonesian","id Indonesia.svg"],nl:["Dutch","nl Netherlands.svg"],tr:["Turkish","tr Turkey.svg"],pl:["Polish","pl Poland.svg"],sv:["Swedish","se Sweden.svg"],bg:["Bulgarian","bg Bulgaria.svg"],ro:["Romanian","ro Romania.svg"],ar:["Arabic (Saudi Arabia)","sa Saudi Arabia.svg"],cs:["Czech","cz Czech Republic.svg"],el:["Greek","gr Greece.svg"],fi:["Finnish","fi Finland.svg"],hu:["Hungarian","hu Hungary.svg"],no:["Norwegian","no Norway.svg"],vi:["Vietnamese","vn Vietnam.svg"],sk:["Slovak","sk Slovakia.svg"],ru:["Russian","ru Russia.svg"],uk:["Ukrainian","ua Ukraine.svg"],ms:["Malay","my Malaysia.svg"],da:["Danish","dk Denmark.svg"]};function S(e){var t,n,l,o;let{isOpen:f,onClose:p}=e,v=(0,i.useRouter)(),{saveToken:j}=(0,k.f)(),[y,C]=(0,D.j8)(),w=(0,d.NL)(),F=(0,x.D)({...(0,h.ax)(),onMutate:async()=>{await y({message:"Updating your profile..."})},onError:async e=>{console.log(e),await C(),await y({message:"Failed to update profile",icon:"close",duration:1e3})},onSuccess:async e=>{w.setQueryData(E.queryKey,e),await C(),await y({message:"Profile updated!",icon:"checkmark",duration:1e3})}}),[S]=(0,m.useLocalStorage)("language"),E=(0,h.GI)(),{data:_}=(0,g.a)({...E}),L=null==_?void 0:_.profiles[S],{data:B}=(0,g.a)({...(0,h.rs)({query:{language:S}})}),T=Object.entries(B||{}),P=Math.min((T.length>0&&(null===(t=T[0][1])||void 0===t?void 0:t.streak)?null===(n=T[0][1])||void 0===n?void 0:n.streak:0)||0,7),R=["Su","Mo","Tu","We","Th","Fr","Sa"],O=new Date().getDay(),M=Array.from({length:P},(e,t)=>(O-P+t+1+7)%7);[...M.map(e=>R[e]),...R.filter((e,t)=>!M.includes(t))];let{data:I}=(0,g.a)({...(0,h.PA)({query:{tutoring_id:0===T.length?"":T[0][0]}})}),H=e=>b.Mj.find(t=>t.code===e);return(0,a.jsxs)(c.y,{isOpen:f,onClose:p,detent:"content-height",tweenConfig:{ease:"easeInOut",duration:.3},disableDrag:!0,children:[(0,a.jsxs)(c.y.Container,{style:{backgroundColor:"#FFFFFF",borderTopLeftRadius:"16px",borderTopRightRadius:"16px"},children:[(0,a.jsx)(c.y.Header,{}),(0,a.jsx)(c.y.Content,{children:(0,a.jsx)(c.y.Scroller,{draggableAt:"top",children:(0,a.jsxs)("div",{className:"px-7 pb-8 pt-4",children:[(0,a.jsxs)("div",{className:"flex w-full items-center justify-start",children:[(0,a.jsx)("div",{className:"flex size-20 items-center justify-center rounded-full border border-[#DADADA] text-3xl font-normal text-black/70",children:null==_?void 0:null===(l=_.profiles[S])||void 0===l?void 0:l.nickname.charAt(0)}),(0,a.jsxs)("div",{className:"ml-4 flex flex-col items-start justify-start",children:[(0,a.jsx)("div",{className:"mb-1 text-xl font-medium",children:null==_?void 0:null===(o=_.profiles[S])||void 0===o?void 0:o.nickname}),(0,a.jsxs)("button",{onClick:()=>window.open("https://discord.gg/B9Syxz3mVA","_blank"),className:"flex items-center rounded-lg border border-[#0039FF]/20 bg-[#0039FF]/5 px-2 py-0.5 text-sm text-[#0039FF]",children:[(0,a.jsx)(r.j2d,{className:"mr-2"}),"Join our discord"]})]})]}),(0,a.jsx)("div",{className:"mt-6 text-lg font-medium leading-tight",children:"Save your progress by signing in!"}),_&&_.email.endsWith("@random.com")?(0,a.jsx)("div",{className:"mt-4 flex",children:(0,a.jsxs)("button",{className:"flex w-full items-center justify-center gap-3 rounded-lg border border-black/15 bg-white py-4 text-base font-medium text-black",onClick:()=>{(0,u.kc)({query:{client_callback:"".concat(location.protocol,"//").concat(location.host,"/oauth/google")}}).then(e=>{var t;let n=null===(t=e.data)||void 0===t?void 0:t.redirect_uri;n&&(window.location.href=n)})},children:[(0,a.jsx)("img",{src:"/google_logo.svg",alt:"",className:"h-5"}),"Sign in with Google"]})}):(0,a.jsx)("div",{className:"mt-4 flex",children:(0,a.jsxs)("button",{className:"flex w-full items-center justify-center gap-3 rounded-lg border border-black/15 bg-white py-4 text-base text-black/50",children:[(0,a.jsx)("img",{src:"/google_logo.svg",alt:"",className:"h-5"}),(0,a.jsx)("div",{className:"text-sm",children:(null==_?void 0:_.email)||"email not found"})]})}),(0,a.jsx)("div",{className:"mt-10 text-lg font-medium",children:"Leaderboard"}),(0,a.jsx)("div",{className:"mt-6 flex w-full flex-col items-center rounded-md border border-[#DADADA] bg-white text-base",children:(0,a.jsxs)("div",{className:"mt-1 grid w-full grid-cols-5 text-center text-black/30",children:[(0,a.jsx)("div",{className:"py-2",children:"Rank"}),(0,a.jsx)("div",{className:"py-2",children:"Lang"}),(0,a.jsx)("div",{className:"py-2",children:"Name"}),(0,a.jsx)("div",{className:"py-2",children:"Streak"}),(0,a.jsx)("div",{className:"py-2",children:"XP"}),(0,a.jsx)("div",{className:"col-span-5 w-full px-0",children:(0,a.jsx)("div",{className:"border-t border-[#DADADA]"})}),Array.isArray(I)&&I.map((e,t)=>{var n;return(0,a.jsxs)(s.Fragment,{children:[(0,a.jsx)("div",{className:"flex items-center justify-center py-3 ".concat(e.own?"bg-[#0039FF]/5":""),children:(0,a.jsx)("div",{className:"".concat(N().className," font-bold ").concat(e.rank<=3&&"flex h-6 w-6 items-center justify-center rounded-full border-2 "+(1===e.rank?"border-[#FF9600] bg-gradient-to-tr from-[#FEEA66] to-[#FFD900] text-[#FF9600]":2===e.rank?"border-[#849FB5] bg-gradient-to-tr from-[#D6E4EF] to-[#C2D1DD] text-[#849FB5]":3===e.rank?"border-[#CD7900] bg-gradient-to-tr from-[#F7BE8B] to-[#E5AE7C] text-[#CD7900]":"")),children:e.rank})}),(0,a.jsx)("div",{className:"flex items-center justify-center ".concat(e.own?"bg-[#0039FF]/5":""),children:(0,a.jsx)("img",{src:"flags/".concat(null===(n=H(e.language))||void 0===n?void 0:n.path),alt:"flag",className:"h-5 rounded-md border border-[#DADADA]"})}),(0,a.jsx)("div",{className:"flex items-center justify-center truncate ".concat(e.own?"bg-[#0039FF]/5":""),children:e.name}),(0,a.jsx)("div",{className:"flex items-center justify-center truncate ".concat(e.own?"bg-[#0039FF]/5":""),children:e.streak}),(0,a.jsx)("div",{className:"flex items-center justify-center truncate ".concat(e.own?"bg-[#0039FF]/5":""),children:e.xp})]},t)})]})}),(0,a.jsx)("div",{className:"mt-10 text-lg font-medium",children:"Set native language"}),(0,a.jsx)("div",{className:"text-md mt-2 flex flex-wrap items-center text-black",children:(0,a.jsx)(D.q_,{children:(0,a.jsx)(D.t9,{"aria-label":"Native Languages",interface:"popover",placeholder:"your native language",className:"rounded-lg border border-[#DADADA] px-2",value:F.isPending?F.variables.body.fallback_language:null==L?void 0:L.fallback_language,onIonChange:e=>{let t=e.detail.value;F.mutate({query:{language:S},body:{fallback_language:t}})},children:Object.entries(A).map(e=>{let[t,n]=e;return t!==S&&(0,a.jsx)(D.n0,{value:t,children:n[0]},t)})})})}),(0,a.jsx)("div",{className:"mt-10 flex",children:(0,a.jsx)("button",{className:"flex w-full items-center justify-center gap-3 rounded-lg border border-black/15 bg-white py-4 text-base font-medium text-black",onClick:()=>{j(null),v.replace("/onboarding")},children:"Logout"})})]})})})]}),(0,a.jsx)(c.y.Backdrop,{onTap:p})]})}function E(e){let{isOpen:t,onClose:n,handleStartLesson:l,tutoringQueryKey:r,tutoringList:i}=e,[o,u]=(0,s.useState)(""),[g,m]=(0,s.useState)(null);(0,s.useRef)(null);let f=(0,d.NL)();return(0,x.D)({...(0,h.bi)(),onSuccess(e){m(e),f.invalidateQueries({queryKey:r})}}),(0,a.jsxs)(c.y,{isOpen:t,onClose:n,detent:"content-height",tweenConfig:{ease:"easeInOut",duration:.3},children:[(0,a.jsxs)(c.y.Container,{style:{backgroundColor:"#FAFBFF",borderTopLeftRadius:"16px",borderTopRightRadius:"16px"},children:[(0,a.jsx)(c.y.Header,{}),(0,a.jsx)(c.y.Content,{children:(0,a.jsx)("div",{className:"pb-10",children:i.length>0&&i.map(e=>{let[t,n]=e;return(0,a.jsxs)("div",{className:"",children:[(0,a.jsx)("div",{className:"mb-1 px-5 text-lg font-medium",children:"Roleplay scenarios (legacy)"}),(0,a.jsx)("div",{className:"mb-5 px-5 text-sm leading-relaxed text-black/50",children:"These scenarios are still using our legacy models and are less powerful. Please use the blue button on the homepage for the best tutoring experience."}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-4 px-5",children:n.available_lessons.sort(()=>Math.random()-.5).filter(e=>"ONBOARDING"!==e.type).map((e,n)=>(0,a.jsxs)("div",{className:"flex flex-col items-end justify-between gap-1 rounded-xl border-[1px] ".concat(e.uses_memory?"border-[#2552F4]":"border-[#DADADA]"," bg-white p-4"),onClick:()=>l(t,e.id),children:[(0,a.jsx)("div",{className:"w-full text-sm leading-snug",children:e.info.title}),(0,a.jsx)("div",{className:"text-3xl",children:e.info.emoji})]},n))})]},t)})})})]}),(0,a.jsx)(c.y.Backdrop,{onTap:n})]})}var _=e=>{let{onClick:t,children:n,className:l}=e,[r,i]=(0,s.useState)(!1),[o,c]=(0,s.useState)(!0);return(0,a.jsx)("button",{className:"".concat(l," ").concat(r?"opacity-20":"opacity-100"," ease transition-opacity duration-300"),onTouchStart:()=>{i(!0),c(!0)},onTouchEnd:()=>{i(!1),o&&t()},onTouchMove:e=>{let t=e.touches[0],n=e.target.getBoundingClientRect();(t.clientX<n.left||t.clientX>n.right||t.clientY<n.top||t.clientY>n.bottom)&&(i(!1),c(!1))},onTouchCancel:()=>{i(!1),c(!1)},onClick:t,children:n})},L=e=>{let{variant:t="done",onTap:n}=e,[l,r]=(0,s.useState)(!1),[i,o]=(0,s.useState)(!0);return(0,a.jsx)("button",{type:"button",onTouchStart:e=>{e.preventDefault(),r(!0),o(!0)},onTouchEnd:e=>{e.preventDefault(),i&&n&&n(),r(!1)},onTouchMove:e=>{e.preventDefault();let t=e.touches[0],n=e.currentTarget.getBoundingClientRect();(t.clientX<n.left||t.clientX>n.right||t.clientY<n.top||t.clientY>n.bottom)&&(r(!1),o(!1))},onMouseDown:()=>{r(!0),o(!0)},onMouseUp:()=>{console.log("press end"),i&&n&&n(),r(!1)},style:{background:"none",border:"none",padding:0,cursor:"pointer",zIndex:1},children:"done"===t?(0,a.jsxs)("svg",{width:"70",height:"71",viewBox:"0 0 70 71",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M4 35.1719H70V37.0576C70 55.283 55.2254 70.0576 37 70.0576V70.0576C18.7746 70.0576 4 55.283 4 37.0576V35.1719Z",fill:"#334DA9"}),(0,a.jsxs)("g",{style:{transform:l?"translateY(4px)":"translateY(0px)"},children:[(0,a.jsx)("path",{d:"M67.5 34.2286C67.5 48.7138 54.1385 60.9571 37 60.9571C19.8615 60.9571 6.5 48.7138 6.5 34.2286C6.5 19.7433 19.8615 7.5 37 7.5C54.1385 7.5 67.5 19.7433 67.5 34.2286Z",fill:"#3F69FD",stroke:"#3258DE",strokeWidth:"5"}),(0,a.jsx)("path",{d:"M22.2149 10.3134C27.2957 4.61745 36.032 4.11881 41.7279 9.19962V9.19962L10.6293 44.0632V44.0632C4.93337 38.9824 4.43472 30.2461 9.51553 24.5502L22.2149 10.3134Z",fill:"#708DF2"}),(0,a.jsx)("rect",{x:"54.7959",y:"12",width:"14.478",height:"54.7098",transform:"rotate(41.7333 54.7959 12)",fill:"#708DF2"}),(0,a.jsx)("path",{d:"M67.5 34.2286C67.5 48.7138 54.1385 60.9571 37 60.9571C19.8615 60.9571 6.5 48.7138 6.5 34.2286C6.5 19.7433 19.8615 7.5 37 7.5C54.1385 7.5 67.5 19.7433 67.5 34.2286Z",stroke:"#3258DE",strokeWidth:"5"}),(0,a.jsx)("path",{d:"M38.0164 21.8837C37.742 21.3616 37.162 21.0293 36.5251 21.0293C35.8882 21.0293 35.3135 21.3616 35.0339 21.8837L31.7044 28.1633L24.2688 29.1695C23.6474 29.255 23.1296 29.6537 22.938 30.1995C22.7464 30.7454 22.9018 31.3482 23.3471 31.7516L28.7426 36.6453L27.4688 43.5609C27.3652 44.1305 27.6241 44.7095 28.1367 45.0465C28.6494 45.3836 29.3277 45.4263 29.8869 45.1557L36.5303 41.9044L43.1737 45.1557C43.7329 45.4263 44.4113 45.3883 44.9239 45.0465C45.4365 44.7048 45.6954 44.1305 45.5918 43.5609L44.3129 36.6453L49.7084 31.7516C50.1537 31.3482 50.3142 30.7454 50.1174 30.1995C49.9207 29.6537 49.408 29.255 48.7867 29.1695L41.3459 28.1633L38.0164 21.8837Z",fill:"white"})]})]}):"todo"===t?(0,a.jsxs)("svg",{width:"66",height:"66",viewBox:"0 0 66 66",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M0 30.1719H66V32.0576C66 50.283 51.2254 65.0576 33 65.0576V65.0576C14.7746 65.0576 0 50.283 0 32.0576V30.1719Z",fill:"#334DA9"}),(0,a.jsxs)("g",{style:{transform:l?"translateY(4px)":"translateY(0px)"},children:[(0,a.jsx)("ellipse",{cx:"33",cy:"29.2286",rx:"33",ry:"29.2286",fill:"#3F69FD"}),(0,a.jsx)("path",{d:"M34.0164 16.8837C33.742 16.3616 33.162 16.0293 32.5251 16.0293C31.8882 16.0293 31.3135 16.3616 31.0339 16.8837L27.7044 23.1633L20.2688 24.1695C19.6474 24.255 19.1296 24.6537 18.938 25.1995C18.7464 25.7454 18.9018 26.3482 19.3471 26.7516L24.7426 31.6453L23.4688 38.5609C23.3652 39.1305 23.6241 39.7095 24.1367 40.0465C24.6494 40.3836 25.3277 40.4263 25.8869 40.1557L32.5303 36.9044L39.1737 40.1557C39.7329 40.4263 40.4113 40.3883 40.9239 40.0465C41.4365 39.7048 41.6954 39.1305 41.5918 38.5609L40.3129 31.6453L45.7084 26.7516C46.1537 26.3482 46.3142 25.7454 46.1174 25.1995C45.9207 24.6537 45.408 24.255 44.7867 24.1695L37.3459 23.1633L34.0164 16.8837Z",fill:"white"})]})]}):"future"===t?(0,a.jsxs)("svg",{width:"66",height:"66",viewBox:"0 0 66 66",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M0 30.1719H66V32.0576C66 50.283 51.2254 65.0576 33 65.0576V65.0576C14.7746 65.0576 0 50.283 0 32.0576V30.1719Z",fill:"#BFBFBF"}),(0,a.jsxs)("g",{style:{transform:l?"translateY(4px)":"translateY(0px)"},children:[(0,a.jsx)("ellipse",{cx:"33",cy:"29.2286",rx:"33",ry:"29.2286",fill:"#E9E9E9"}),(0,a.jsx)("path",{d:"M34.0164 16.8837C33.742 16.3616 33.162 16.0293 32.5251 16.0293C31.8882 16.0293 31.3135 16.3616 31.0339 16.8837L27.7044 23.1633L20.2688 24.1695C19.6474 24.255 19.1296 24.6537 18.938 25.1995C18.7464 25.7454 18.9018 26.3482 19.3471 26.7516L24.7426 31.6453L23.4688 38.5609C23.3652 39.1305 23.6241 39.7095 24.1367 40.0465C24.6494 40.3836 25.3277 40.4263 25.8869 40.1557L32.5303 36.9044L39.1737 40.1557C39.7329 40.4263 40.4113 40.3883 40.9239 40.0465C41.4365 39.7048 41.6954 39.1305 41.5918 38.5609L40.3129 31.6453L45.7084 26.7516C46.1537 26.3482 46.3142 25.7454 46.1174 25.1995C45.9207 24.6537 45.408 24.255 44.7867 24.1695L37.3459 23.1633L34.0164 16.8837Z",fill:"#BFBFBF"})]})]}):null})},B=n(5095),T=n(60755),P=e=>{let{className:t=""}=e;return(0,a.jsxs)("svg",{width:"19",height:"19",viewBox:"0 0 19 19",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,children:[(0,a.jsx)("rect",{y:"5.77539",width:"2.88853",height:"7.22133",rx:"1.44427",fill:"currentColor"}),(0,a.jsx)("rect",{x:"5.05713",width:"2.88853",height:"18.0533",rx:"1.44427",fill:"currentColor"}),(0,a.jsx)("rect",{x:"10.1143",y:"3.60547",width:"2.88853",height:"11.5541",rx:"1.44427",fill:"currentColor"}),(0,a.jsx)("rect",{x:"15.1611",y:"5.77539",width:"2.88853",height:"6.4992",rx:"1.44427",fill:"currentColor"})]})},R=e=>{let{text:t,className:n="text-sm"}=e,l=(0,s.useRef)(null);return(0,s.useEffect)(()=>{l.current&&window.fluentemoji&&(l.current.classList.add("fluent-emoji-container"),window.fluentemoji.parse(".fluent-emoji-container"),l.current.classList.remove("fluent-emoji-container"))},[t]),(0,a.jsx)("div",{ref:l,className:n,children:t})};function O(){var e,t,n;let[f,p]=(0,s.useState)("Home"),[F,N]=(0,s.useState)(null),k=(0,s.useRef)([]),[A,O]=(0,s.useState)(null),M=(0,s.useRef)(!1),I=e=>{if(M.current)return;if(F===e){M.current=!0,N(null),setTimeout(()=>{M.current=!1},300);return}let t=k.current[e];if(t){let n=t.getBoundingClientRect();if(O(n),eu.current){let a=window.innerHeight-n.bottom-20;if(a<350){let n=()=>{t&&requestAnimationFrame(()=>{O(t.getBoundingClientRect())})};console.log("add scroll eventlistener"),eu.current.addEventListener("scroll",n),eu.current.scrollBy({top:350-a+55,behavior:"smooth"}),setTimeout(()=>{var e;null===(e=eu.current)||void 0===e||e.removeEventListener("scroll",n),t&&O(t.getBoundingClientRect())},310),N(e);return}N(e)}}},[H,z]=(0,s.useState)(!1),[G,U]=(0,s.useState)(!1),[q,K]=(0,m.useLocalStorage)("language","en"),[V,W]=(0,s.useState)(!1),[Y,X]=(0,s.useState)(!1),[Z,J]=(0,s.useState)(!1),[Q,$]=(0,s.useState)(!1),[ee,et]=(0,s.useState)(0),[en,ea]=(0,s.useState)(!1),[es,el]=(0,s.useState)(0),er=(0,s.useRef)(null),ei=(0,s.useRef)(0),eo=(0,s.useRef)(null),ec=en?Math.min(ee/es*.1,.1):Q?.1:0;(0,s.useEffect)(()=>{let e=()=>{el(.84*window.innerWidth)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let eu=(0,s.useRef)(null),ed=(0,s.useRef)(null);(0,s.useEffect)(()=>{!Q&&eu.current&&(console.log("focusing starbuttons"),eu.current.focus())},[Q]);let eg=(0,s.useRef)(null),ex=e=>{var t,n;let a=null===(t=ed.current)||void 0===t?void 0:t.contains(e.target),s=k.current.some(t=>null==t?void 0:t.contains(e.target));a||s||N(null),null===(n=eu.current)||void 0===n||n.focus(),console.log("handleTouchStart called");let l="touches"in e?e.touches[0]:{clientX:0,clientY:0},r=l.clientX,i=l.clientY;ea(!0),er.current=r,eg.current=i,ei.current=ee},[eh,em]=(0,s.useState)(0);(0,s.useEffect)(()=>{let e=()=>{console.log("updateMinDragDistance called"),em(.15*window.innerWidth)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let ef=e=>{var t;if((null===(t=ed.current)||void 0===t?void 0:t.contains(e.target))||N(null),null===er.current||null===eg.current)return;let n=e.touches[0],a=n.clientX,s=n.clientY,l=a-er.current;Math.abs(s-eg.current)>Math.abs(l)||et(Math.max(0,Math.min(ei.current+(Math.abs(l)>eh?l-(l>0?eh:-eh):0),es)))},ep=es/10,ev=e=>{ea(!1),null!==er.current&&(Q?ee<9*ep?($(!1),et(0)):et(es):ee>ep?($(!0),et(es)):et(0),er.current=null)};(0,s.useEffect)(()=>{let e=eo.current;if(e)return e.addEventListener("touchmove",ef,{passive:!0}),()=>{e.removeEventListener("touchmove",ef)}},[es,ee]),(0,s.useEffect)(()=>{let e=e=>{var t;null===(t=eu.current)||void 0===t||t.focus(),console.log("handleGlobalClick called"),!en&&ee>0&&e.clientX>es&&($(!1),et(0))},t=()=>{/Android|webOS|iPhone|iPad|iPod/i.test(navigator.userAgent)||N(null)},n=eu.current;return n&&!/Android|webOS|iPhone|iPad|iPod/i.test(navigator.userAgent)&&n.addEventListener("scroll",t),window.addEventListener("click",e),()=>{window.removeEventListener("click",e),n&&n.removeEventListener("scroll",t)}},[ee,en,es,F]);let eb=(0,s.useRef)(),eD=(0,i.useRouter)();"undefined"!=typeof navigator&&/android/i.test(navigator.userAgent);let[ej,ey]=(0,D.j8)(),[eC]=(0,D.od)(),{saveToken:ew}=(0,o.h)(),eF=(0,d.NL)(),eN=(0,y.Y)(),ek=(0,h.rs)({query:{language:q}}),{data:eA,isPending:eS,isError:eE}=(0,g.a)({...ek}),e_=Object.entries(eA||{}),eL=(0,h.GI)(),{data:eB}=(0,g.a)({...eL}),eT=null==eB?void 0:eB.profiles[q];(0,x.D)({...(0,h.ax)(),onMutate:async()=>{await ej({message:"Updating your profile..."})},onError:async e=>{console.log(e),await ey(),await ej({message:"Failed to update profile",icon:"close",duration:1e3})},onSuccess:async e=>{eF.setQueryData(eL.queryKey,e),await ey(),await ej({message:"Profile updated!",icon:"checkmark",duration:1e3})}}),e_.length>0&&(null===(e=e_[0][1])||void 0===e?void 0:e.streak)&&(null===(t=e_[0][1])||void 0===t||t.streak);let eP=e_.length>0&&(null===(n=e_[0][1])||void 0===n?void 0:n.last_lesson_date)?new Date(e_[0][1].last_lesson_date):null;eP&&(eP.getTime(),new Date().setHours(0,0,0,0));let eR=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Beginner";console.log("handleStartLesson called"),V||(W(!0),(0,u.oY)({path:{service:"ws"},query:{tutoring_id:e,lesson_id:t,mode:n},throwOnError:!0}).then(e=>{console.log("callStartLesson response",e),e.data?(eN.resume(),eD.replace("/call?session_id=".concat(e.data.session_id))):console.error("No data in response")}).catch(e=>{console.error(e)}))},[eO,eM]=(0,s.useState)({"The Essentials":!0});(0,s.useEffect)(()=>{});let eI=b.Mj.find(e=>e.code===q);return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{ref:eo,className:"fixed inset-0 z-0",style:{touchAction:"pan-y"},onTouchStart:e=>ex(e),onTouchEnd:e=>ev(e),children:[(0,a.jsx)("div",{style:{transform:"translateX(".concat(ee-es,"px)"),width:es},className:"safe-top absolute left-0 top-0 h-full bg-white ".concat(en?"":"transition-transform duration-300"),children:(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold",children:"Lesson Summaries"}),(0,a.jsx)("p",{className:"mt-4 font-medium text-[#2552F4]/50",children:"Coming soon!"})]})}),(0,a.jsxs)("div",{style:{transform:"translateX(".concat(ee,"px)"),touchAction:"pan-y"},className:"absolute inset-0 ".concat(en?"":"transition-transform duration-300"," "),children:[ee>0&&(0,a.jsx)("div",{className:"absolute inset-0 z-40 bg-black ".concat(en?"":"transition-opacity duration-300"),style:{opacity:ec}}),(0,a.jsx)("div",{className:"safe-top",children:(0,a.jsxs)("main",{className:"h-screen-safe flex flex-col justify-between bg-white pt-2 tracking-[-0.02em]",children:[(0,a.jsx)(S,{isOpen:Y,onClose:()=>X(!1)}),(0,a.jsx)(E,{isOpen:Z,onClose:()=>J(!1),handleStartLesson:eR,tutoringList:e_,tutoringQueryKey:ek.queryKey}),(0,a.jsxs)(c.y,{rootId:"root",ref:eb,isOpen:H,onClose:()=>z(!1),detent:"content-height",tweenConfig:{ease:"easeInOut",duration:.3},children:[(0,a.jsxs)(c.y.Container,{style:{background:"#FAFBFF",boxShadow:"none"},children:[(0,a.jsx)(c.y.Header,{}),(0,a.jsxs)(c.y.Content,{style:{backgroundColor:"#FAFBFF",paddingBottom:"25px"},children:[(0,a.jsx)("p",{className:"px-8 py-5 text-xl font-semibold",children:"What would you like to learn?"}),(0,a.jsx)("div",{className:"px-8 pb-16 text-black",children:(0,a.jsxs)("div",{className:"flex flex-col",children:[b.Mj.filter(e=>b.mi.includes(e.code)).map(e=>(0,a.jsxs)("button",{className:"mb-3 flex items-center rounded-lg border-[1px] border-black/10 bg-white p-4 text-base",onClick:()=>{K(e.code),z(!1)},children:[(0,a.jsx)("img",{src:"uiflags/".concat(e.uiflag_path),alt:e.name,className:"pointer-events-none mr-3 h-4 rounded-md border-none border-[#DADADA]"}),e.name]},e.code)),(0,a.jsx)("p",{className:"text-sm text-black/30",children:"We are actively working on adding more languages. Stay tuned!"})]})})]})]}),(0,a.jsx)(c.y.Backdrop,{onTap:()=>{z(!1)}})]}),(0,a.jsx)(j,{isOpen:G,onClose:()=>U(!1),tutoringQueryKey:ek.queryKey,handleStartLesson:e=>eR(e_[0][0],e)}),(0,a.jsxs)("div",{className:"mx-1 flex items-center justify-between px-5",children:[(0,a.jsx)(_,{className:"flex size-8 items-center justify-start pb-1",onClick:()=>{$(!0),et(es),console.log("sidebar open")},children:(0,a.jsx)(w,{className:""})}),(0,a.jsx)(_,{className:"flex items-center",onClick:()=>{z(!0)},children:(0,a.jsxs)("div",{className:"flex items-center gap-1 pl-2 text-base font-medium",children:[(0,a.jsx)("div",{children:null==eI?void 0:eI.name.split(" (")[0]}),(0,a.jsx)("img",{src:"uiflags/".concat(null==eI?void 0:eI.uiflag_path),alt:null==eI?void 0:eI.name,className:"pointer-events-none h-4 rounded-md border-none border-[#DADADA]"}),(0,a.jsx)(r.Dli,{className:"text-[0.6rem] text-black/50"})]})}),(0,a.jsx)(_,{className:"flex size-8 items-center justify-center rounded-full border border-[#DADADA] text-black/80",onClick:()=>{X(!0)},children:(null==eT?void 0:eT.nickname)?eT.nickname.charAt(0):"?"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-7 border-b-[1px] border-[#D9D9D9] px-9 pb-5 pt-5",children:[(0,a.jsxs)("div",{className:"grow",children:[(0,a.jsx)("div",{className:"font-medium",children:"Unit 1 - Daily Conversations"}),(0,a.jsx)("div",{className:"mt-2 h-1.5 w-full overflow-hidden rounded-full bg-gray-200",children:(0,a.jsx)("div",{style:{width:"".concat(25,"%")},className:"h-1.5 rounded-full bg-[#2552F4] transition-all duration-500 ease-out"})})]}),(0,a.jsx)(R,{text:"\uD83D\uDC4B",className:"size-8"})]}),(0,a.jsxs)(a.Fragment,{children:[0==e_.length&&(0,a.jsx)("div",{className:"grow"}),e_.length>0?e_.map(e=>{var t;let[n,s]=e;return(0,a.jsx)("div",{ref:eu,tabIndex:Q?void 0:0,className:"scrollbar-hide flex h-full flex-col items-center gap-5 overflow-auto overscroll-contain pb-64 pt-12 focus:outline-none",style:{WebkitOverflowScrolling:"touch"},children:null===(t=s.available_lessons)||void 0===t?void 0:t.filter(e=>"WHITEBOARD"===e.type).sort((e,t)=>e.info.title.localeCompare(t.info.title)).map((e,t)=>{var s;let l=-(.175*window.innerWidth)*Math.sin(2*Math.PI/8*t);return(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{ref:e=>{k.current[t]=e},style:{transform:"translateX(".concat(l,"px)")},className:"relative",children:(0,a.jsxs)("div",{className:"relative flex items-center justify-center ".concat(t%4==2||t%4==3?"mt-3":"mt-0"),children:[null,(0,a.jsx)(L,{variant:"done",onTap:()=>I(t)})]})}),(0,a.jsx)(B.M,{mode:"wait",children:F==t&&null!==F&&A&&(0,a.jsx)(T.E.div,{ref:ed,initial:{scale:0,opacity:0,transformOrigin:"".concat(A.left+A.width/2,"px 0")},animate:{scale:1,opacity:1},exit:{scale:0,opacity:-1,transformOrigin:"".concat(A.left+A.width/2,"px 0")},transition:{duration:.2,ease:"circOut"},style:{position:"absolute",top:A.bottom+20,left:0},className:"z-50 w-screen touch-pan-x bg-black/0 px-5",children:(0,a.jsxs)("div",{className:"relative w-full rounded-2xl border border-[#DADADA] bg-[#FAFAFA] px-5 py-6",children:[(0,a.jsx)("div",{className:"absolute -top-2 h-4 w-4 -translate-x-1/2 rotate-45 border-l border-t border-[#DADADA] bg-[#FAFAFA]",style:{left:"calc(".concat(A.left,"px - 1.25rem + ").concat(A.width/2,"px)")}}),(0,a.jsx)("p",{className:"text-sm text-[#959595]",children:e.topic}),(0,a.jsxs)("p",{className:"mt-1 flex items-center gap-1 text-lg font-medium",children:[e.info.title,(0,a.jsx)(R,{text:e.info.emoji,className:"size-6"})]}),(0,a.jsx)("p",{className:"mt-1 line-clamp-1 text-sm text-[#959595]",children:null===(s=e.info.new_contents)||void 0===s?void 0:s.join(" • ")}),(0,a.jsx)("button",{onClick:()=>{eR(n,e.id,"Smart")},className:"mt-5 flex w-full items-center justify-center rounded-full bg-[#2552F4] py-4 font-semibold text-white",children:"Start lesson"})]})},"popover")})]},t)})},n)}):eS?(0,a.jsx)("div",{className:"w-full text-center"}):eE?(0,a.jsx)("div",{className:"w-full text-center",children:"Error loading your lessons, please try again later."}):(0,a.jsx)("div",{className:"scrollbar-hide mt-8 flex flex-1 flex-col justify-center overflow-y-auto px-7 pb-20",children:(0,a.jsxs)("div",{className:"pointer-events-auto flex w-full flex-col items-center justify-center rounded-xl border-[1px] border-black/10 bg-white px-8 py-10 transition-all duration-500",children:[(0,a.jsx)(r.EQK,{className:"text-4xl text-[#0039FF]/30"}),(0,a.jsxs)("p",{className:"mt-7 text-center text-base font-light text-black",children:["You have not started learning"," ",null==eI?void 0:eI.name.split(" (")[0]," yet."]}),(0,a.jsx)("button",{className:"mt-4 w-full rounded-full bg-[#2552F4] py-3 font-semibold text-white",onClick:()=>eD.replace("/onboarding?learn=".concat(q)),children:(0,a.jsxs)("div",{className:"font-medium",children:["Start learning ",null==eI?void 0:eI.name.split(" (")[0]]})})]})})]}),(0,a.jsxs)("div",{className:"mt-0 flex w-full flex-col items-center justify-center border-black/10 bg-white px-5 pb-10",children:[e_.length>0&&e_.map(e=>{let[t,n]=e;return(0,a.jsxs)("button",{className:"mt-0 flex w-full items-center justify-between rounded-full border border-[#DADADA] bg-[#FAFAFA] px-5 py-[1.2rem] text-black/70",disabled:V,onClick:()=>{console.log("called handleStartLesson"),eR(t,"673289b281b336ee5f36d93c","Smart")},children:[(0,a.jsx)(l.VeK,{className:"text-lg"}),(0,a.jsxs)(a.Fragment,{children:[V&&(0,a.jsx)(C.J,{className:"animate-spin",icon:r.fCD}),(0,a.jsx)("p",{className:"text-base font-medium",children:"Ask anything"})]}),(0,a.jsx)(P,{className:""})]},t)}),(0,a.jsxs)("div",{className:"text-md flex w-full items-center justify-around bg-[#FAFBFF] pb-1 pt-7 backdrop-blur-xl",children:[(0,a.jsx)("button",{className:"flex flex-1 flex-col items-center ".concat("Home"===f?"text-[#0039FF]":"text-[#959595]"),onClick:()=>p("Home"),children:(0,a.jsx)(v,{})}),(0,a.jsx)("button",{className:"flex flex-1 flex-col items-center ".concat("Practice"===f?"text-[#0039FF]":"text-[#959595]"),onClick:()=>p("Practice"),children:(0,a.jsx)(r.nGB,{className:"text-2xl"})}),(0,a.jsx)("button",{className:"flex flex-1 flex-col items-center ".concat("Profile"===f?"text-[#0039FF]":"text-[#959595]"),onClick:()=>p("Profile"),children:(0,a.jsx)(r.Xws,{className:"text-xl"})})]})]})]})})]})]})})}(0,D.bg)({})},33344:function(e,t,n){"use strict";n.d(t,{GI:function(){return o},PA:function(){return h},ax:function(){return c},bi:function(){return u},iy:function(){return r},rs:function(){return g}});var a=n(52274),s=n(19856);let l=(e,t,n)=>{var a;let l={_id:e,baseUrl:(null!==(a=null==t?void 0:t.client)&&void 0!==a?a:s.Lp).getConfig().baseUrl};return n&&(l._infinite=n),(null==t?void 0:t.body)&&(l.body=t.body),(null==t?void 0:t.headers)&&(l.headers=t.headers),(null==t?void 0:t.path)&&(l.path=t.path),(null==t?void 0:t.query)&&(l.query=t.query),l},r=()=>({mutationFn:async e=>{let{data:t}=await (0,s.H4)({...e,throwOnError:!0});return t}}),i=e=>[l("userMyData",e)],o=e=>(0,a.C)({queryFn:async t=>{let{queryKey:n}=t,{data:a}=await (0,s.It)({...e,...n[0],throwOnError:!0});return a},queryKey:i(e)}),c=()=>({mutationFn:async e=>{let{data:t}=await (0,s._5)({...e,throwOnError:!0});return t}}),u=()=>({mutationFn:async e=>{let{data:t}=await (0,s._G)({...e,throwOnError:!0});return t}}),d=e=>[l("tutoringGetAll",e)],g=e=>(0,a.C)({queryFn:async t=>{let{queryKey:n}=t,{data:a}=await (0,s.zW)({...e,...n[0],throwOnError:!0});return a},queryKey:d(e)}),x=e=>[l("tutoringGetLeaderboard",e)],h=e=>(0,a.C)({queryFn:async t=>{let{queryKey:n}=t,{data:a}=await (0,s.Vz)({...e,...n[0],throwOnError:!0});return a},queryKey:x(e)})},56870:function(e,t,n){"use strict";n.d(t,{GlobalAudioContextProvider:function(){return r},Y:function(){return i}});var a=n(57437),s=n(2265);let l=(0,s.createContext)(null),r=e=>{let{children:t}=e,n=(0,s.useRef)(null);return n.current||(console.log("creating audio context"),n.current=new AudioContext,n.current.onstatechange=()=>{var e,t,a,s,l,r;if(console.log("onstagechange - AudioContext state changed: ",null===(e=n.current)||void 0===e?void 0:e.state),(null===(t=n.current)||void 0===t?void 0:t.state)==="suspended"&&(console.log("Attempting to resume AudioContext..."),null===(l=n.current)||void 0===l||l.resume().then(()=>{var e;console.log("AudioContext state: ",null===(e=n.current)||void 0===e?void 0:e.state)}).catch(e=>{console.error("Failed to resume AudioContext:",e)})),(null===(a=n.current)||void 0===a?void 0:a.state.toString())==="interrupted"&&console.log("Safari interrupted audiocontext, but won't resume for now..."),(null===(s=n.current)||void 0===s?void 0:s.state)==="running"){let e=null===(r=n.current)||void 0===r?void 0:r.currentTime;setTimeout(()=>{var t;(null===(t=n.current)||void 0===t?void 0:t.currentTime)===e&&console.warn("AudioContext currentTime is stuck, attempting to fix...")},100)}}),(0,a.jsx)(l.Provider,{value:n.current,children:t})},i=()=>{let e=(0,s.useContext)(l);if(!e)throw Error("useAudioContext must be used within a GlobalAudioContextProvider");return e}},89403:function(e,t,n){"use strict";n.d(t,{f:function(){return s}});var a=n(53974);let s=()=>{let[e,t]=(0,a.useLocalStorage)("token");return{token:e,saveToken:t}}},48049:function(e,t,n){"use strict";var a=n(14397);function s(){}function l(){}l.resetWarningCache=s,e.exports=function(){function e(e,t,n,s,l,r){if(r!==a){var i=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:l,resetWarningCache:s};return n.PropTypes=n,n}},40718:function(e,t,n){e.exports=n(48049)()},14397:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},32859:function(e,t,n){"use strict";n.d(t,{J:function(){return s}});var a=n(57437);n(2265);let s=e=>{let{icon:t,className:n,...s}=e;return(0,a.jsx)(t,{className:n,...s})}},9601:function(e){e.exports={style:{fontFamily:"'__M_PLUS_Rounded_1c_1ebfbf'",fontStyle:"normal"},className:"__className_1ebfbf"}}},function(e){e.O(0,[9071,7240,5878,3665,2278,3974,8802,1169,1811,2017,3069,8079,2971,2117,1744],function(){return e(e.s=3958)}),_N_E=e.O()}]);
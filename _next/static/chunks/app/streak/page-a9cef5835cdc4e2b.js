(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7173],{58478:function(e){function t(e){return Promise.resolve().then(function(){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}t.keys=function(){return[]},t.resolve=t,t.id=58478,e.exports=t},77286:function(e,t,a){Promise.resolve().then(a.bind(a,24945))},67140:function(e,t,a){"use strict";a.d(t,{M:function(){return o}});var s=a(57437),n=a(61273),i=a(2265),r=a(99376);let o=[{name:"English (US)",flag:"\uD83C\uDDFA\uD83C\uDDF8",code:"en",path:"us United States of America usa.svg",greeting:"Hello"},{name:"English (United Kingdom)",flag:"\uD83C\uDDEC\uD83C\uDDE7",code:"en-GB",path:"gb United Kingdom uk.svg",greeting:"Hello"},{name:"English (Australia)",flag:"\uD83C\uDDE6\uD83C\uDDFA",code:"en-AU",path:"au Australia.svg",greeting:"G'day"},{name:"German (Germany)",flag:"\uD83C\uDDE9\uD83C\uDDEA",code:"de",path:"de Germany.svg",greeting:"Hallo"},{name:"Spanish (Spain)",flag:"\uD83C\uDDEA\uD83C\uDDF8",code:"es",path:"es Spain.svg",greeting:"Hola"},{name:"Korean",flag:"\uD83C\uDDF0\uD83C\uDDF7",code:"ko",path:"kr South Korea.svg",greeting:"안녕"},{name:"French (France)",flag:"\uD83C\uDDEB\uD83C\uDDF7",code:"fr",path:"fr France.svg",greeting:"Bonjour"},{name:"Japanese",flag:"\uD83C\uDDEF\uD83C\uDDF5",code:"ja",path:"jp Japan.svg",greeting:"こんにちは"},{name:"Chinese (China)",flag:"\uD83C\uDDE8\uD83C\uDDF3",code:"zh",path:"cn China.svg",greeting:"你好"},{name:"Chinese (Taiwan)",flag:"\uD83C\uDDF9\uD83C\uDDFC",code:"zh-TW",path:"tw Taiwan.svg",greeting:"你好"},{name:"Hindi",flag:"\uD83C\uDDEE\uD83C\uDDF3",code:"hi",path:"in India.svg",greeting:"नमस्ते"},{name:"Portuguese (Brazil)",flag:"\uD83C\uDDE7\uD83C\uDDF7",code:"pt",path:"br Brazil.svg",greeting:"Ol\xe1"},{name:"Portuguese (Portugal)",flag:"\uD83C\uDDF5\uD83C\uDDF9",code:"pt-PT",path:"pt Portugal.svg",greeting:"Ol\xe1"},{name:"Italian",flag:"\uD83C\uDDEE\uD83C\uDDF9",code:"it",path:"it Italy.svg",greeting:"Ciao"},{name:"Indonesian",flag:"\uD83C\uDDEE\uD83C\uDDE9",code:"id",path:"id Indonesia.svg",greeting:"Halo"},{name:"Dutch",flag:"\uD83C\uDDF3\uD83C\uDDF1",code:"nl",path:"nl Netherlands.svg",greeting:"Hallo"},{name:"Turkish",flag:"\uD83C\uDDF9\uD83C\uDDF7",code:"tr",path:"tr Turkey.svg",greeting:"Merhaba"},{name:"Polish",flag:"\uD83C\uDDF5\uD83C\uDDF1",code:"pl",path:"pl Poland.svg",greeting:"Cześć"},{name:"Swedish",flag:"\uD83C\uDDF8\uD83C\uDDEA",code:"sv",path:"se Sweden.svg",greeting:"Hej"},{name:"Bulgarian",flag:"\uD83C\uDDE7\uD83C\uDDEC",code:"bg",path:"bg Bulgaria.svg",greeting:"Здравейте"},{name:"Romanian",flag:"\uD83C\uDDF7\uD83C\uDDF4",code:"ro",path:"ro Romania.svg",greeting:"Bună"},{name:"Arabic (Saudi Arabia)",flag:"\uD83C\uDDF8\uD83C\uDDE6",code:"ar",path:"sa Saudi Arabia.svg",greeting:"مرحبا"},{name:"Czech",flag:"\uD83C\uDDE8\uD83C\uDDFF",code:"cs",path:"cz Czech Republic.svg",greeting:"Ahoj"},{name:"Greek",flag:"\uD83C\uDDEC\uD83C\uDDF7",code:"el",path:"gr Greece.svg",greeting:"Γειά σας"},{name:"Finnish",flag:"\uD83C\uDDEB\uD83C\uDDEE",code:"fi",path:"fi Finland.svg",greeting:"Hei"},{name:"Hungarian",flag:"\uD83C\uDDED\uD83C\uDDFA",code:"hu",path:"hu Hungary.svg",greeting:"Hell\xf3"},{name:"Norwegian",flag:"\uD83C\uDDF3\uD83C\uDDF4",code:"no",path:"no Norway.svg",greeting:"Hei"},{name:"Vietnamese",flag:"\uD83C\uDDFB\uD83C\uDDF3",code:"vi",path:"vn Vietnam.svg",greeting:"Xin ch\xe0o"},{name:"Slovak",flag:"\uD83C\uDDF8\uD83C\uDDF0",code:"sk",path:"sk Slovakia.svg",greeting:"Ahoj"},{name:"Russian",flag:"\uD83C\uDDF7\uD83C\uDDFA",code:"ru",path:"ru Russia.svg",greeting:"Здравствуйте"},{name:"Ukrainian",flag:"\uD83C\uDDFA\uD83C\uDDE6",code:"uk",path:"ua Ukraine.svg",greeting:"Привіт"},{name:"Malay",flag:"\uD83C\uDDF2\uD83C\uDDFE",code:"ms",path:"my Malaysia.svg",greeting:"Halo"},{name:"Danish",flag:"\uD83C\uDDE9\uD83C\uDDF0",code:"da",path:"dk Denmark.svg",greeting:"Hej"}];t.Z=e=>{let{nextStep:t,previousStep:a,userData:l,setUserData:u}=e,c=(0,r.useSearchParams)().get("learn"),[d,g]=(0,i.useState)(c),h=e=>{g(e),u({...l,language:e})};return(0,s.jsxs)("main",{className:"h-screen-safe flex flex-col items-center bg-[#FAFBFF] px-7 pb-10 pt-3",children:[(0,s.jsx)("div",{className:"flex w-full items-center justify-between",children:(0,s.jsx)("button",{className:"flex h-12 w-12 items-center justify-center self-start rounded-full bg-black bg-opacity-[10%] text-sm font-medium text-black/60",onClick:a,children:(0,s.jsx)(n.bUI,{})})}),(0,s.jsxs)("div",{className:"flex min-h-0 w-full flex-grow flex-col items-start justify-start",children:[(0,s.jsx)("p",{className:"my-7 w-full text-left text-xl font-semibold text-black",children:"What would you like to learn?"}),(0,s.jsxs)("div",{className:"flex min-h-0 w-full flex-grow flex-col gap-3 overflow-y-auto",children:[o.map(e=>(0,s.jsxs)("button",{className:"flex w-full items-center gap-3 rounded-lg border-[1px] px-7 py-4 text-base ".concat(d===e.code?"border-[#0039FF] bg-[#0039FF]/5 text-[#0039FF]":"border-black/10 bg-white"),onClick:()=>h(e.code),children:[(0,s.jsx)("img",{src:"flags/".concat(e.path),alt:"",className:"mr-3 h-5 rounded-md border-[1px] border-[#DADADA]"}),e.name]},e.name)),(0,s.jsx)("p",{className:"text-black/30",children:"We are actively working on adding more languages. Stay tuned!"})]}),(0,s.jsx)("div",{className:"mt-4 flex w-full flex-col items-center gap-3",children:(0,s.jsx)("button",{className:"w-full rounded-full bg-[#0039FF] py-4 font-semibold text-white ".concat(d?"":"cursor-not-allowed opacity-50"),onClick:()=>{d&&t()},disabled:!d,children:"Next question"})})]})]})}},24945:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return v}});var s=a(57437),n=a(90340),i=a.n(n),r=a(99376),o=a(2265),l=a(61273),u=a(67140),c=a(33344),d=a(29827),g=a(21770),h=a(16593),D=a(53974),m=a(18079),f=a(70836);(0,f.bg)({});let p={en:["English (US)","us United States of America usa.svg"],"en-GB":["English (UK)","gb United Kingdom uk.svg"],"en-AU":["English (Australia)","au Australia.svg"],de:["German","de Germany.svg"],es:["Spanish (Spain)","es Spain.svg"],ko:["Korean","kr South Korea.svg"],fr:["French (France)","fr France.svg"],ja:["Japanese","jp Japan.svg"],zh:["Chinese (China)","cn China.svg"],"zh-TW":["Chinese (Taiwan)","tw Taiwan.svg"],hi:["Hindi","in India.svg"],pt:["Portuguese (Brazil)","br Brazil.svg"],"pt-PT":["Portuguese (Portugal)","pt Portugal.svg"],it:["Italian","it Italy.svg"],id:["Indonesian","id Indonesia.svg"],nl:["Dutch","nl Netherlands.svg"],tr:["Turkish","tr Turkey.svg"],pl:["Polish","pl Poland.svg"],sv:["Swedish","se Sweden.svg"],bg:["Bulgarian","bg Bulgaria.svg"],ro:["Romanian","ro Romania.svg"],ar:["Arabic (Saudi Arabia)","sa Saudi Arabia.svg"],cs:["Czech","cz Czech Republic.svg"],el:["Greek","gr Greece.svg"],fi:["Finnish","fi Finland.svg"],hu:["Hungarian","hu Hungary.svg"],no:["Norwegian","no Norway.svg"],vi:["Vietnamese","vn Vietnam.svg"],sk:["Slovak","sk Slovakia.svg"],ru:["Russian","ru Russia.svg"],uk:["Ukrainian","ua Ukraine.svg"],ms:["Malay","my Malaysia.svg"],da:["Danish","dk Denmark.svg"]};function v(){var e,t;let a=(0,r.useRouter)(),[n,v]=(0,f.j8)(),x=(0,d.NL)(),b=(0,g.D)({...(0,c.ax)(),onMutate:async()=>{await n({message:"Updating your profile..."})},onError:async e=>{console.log(e),await v(),await n({message:"Failed to update profile",icon:"close",duration:1e3})},onSuccess:async e=>{x.setQueryData(F.queryKey,e),await v(),await n({message:"Profile updated!",icon:"checkmark",duration:1e3})}}),[C]=(0,D.useLocalStorage)("language"),F=(0,c.GI)(),{data:y}=(0,h.a)({...F}),w=null==y?void 0:y.profiles[C],{data:j,isLoading:k}=(0,h.a)({...(0,c.rs)({query:{language:C}})}),N=Object.entries(j||{}),E=Math.min((N.length>0&&(null===(e=N[0][1])||void 0===e?void 0:e.streak)?null===(t=N[0][1])||void 0===t?void 0:t.streak:0)||0,7),A=["Su","Mo","Tu","We","Th","Fr","Sa"],S=new Date().getDay(),P=Array.from({length:E},(e,t)=>(S-E+t+1+7)%7);[...P.map(e=>A[e]),...A.filter((e,t)=>!P.includes(t))];let{data:_}=(0,h.a)({...(0,c.PA)({query:{tutoring_id:0==N.length?"":N[0][0]}})}),B=e=>u.M.find(t=>t.code===e);return(0,s.jsxs)("main",{className:"h-screen-safe scrollbar-hide flex flex-col overflow-y-auto bg-[#FAFBFF] pb-24 tracking-[-0.02em]",children:[(0,s.jsx)("div",{className:"absolute flex w-full flex-col items-center bg-[#FAFBFF] px-7 pb-2 pt-3",children:(0,s.jsxs)("div",{className:"flex w-full items-center justify-between px-1",children:[(0,s.jsx)("button",{className:"flex h-12 items-center justify-center self-start rounded-full text-black",onClick:()=>{a.push("/")},children:(0,s.jsx)(l._0w,{className:"text-xl"})}),(0,s.jsxs)("button",{onClick:()=>window.open("https://discord.gg/B9Syxz3mVA","_blank"),className:"mt-2 flex items-center rounded-lg border-[1px] border-[#0039FF]/20 bg-[#0039FF]/5 px-2 py-1 text-sm text-[#0039FF]",children:[(0,s.jsx)(l.j2d,{className:"mr-2"}),"Join our discord"]})]})}),(0,s.jsxs)("div",{className:"mt-24 px-8",children:[(0,s.jsx)("div",{className:"text-lg font-medium leading-tight",children:"Save your progress by signing in!"}),y&&y.email.endsWith("@random.com")?(0,s.jsx)("div",{className:"mt-4 flex",children:(0,s.jsxs)("button",{className:"flex w-full items-center justify-center gap-3 rounded-lg border border-black/15 bg-white py-4 text-base font-medium text-black",onClick:()=>{(0,m.kc)({query:{client_callback:"".concat(location.protocol,"//").concat(location.host,"/oauth/google")}}).then(e=>{var t;let a=null===(t=e.data)||void 0===t?void 0:t.redirect_uri;console.log(e),console.log(a),a&&(window.location.href=a)})},children:[(0,s.jsx)("img",{src:"/google_logo.svg",alt:"",className:"h-5"}),"Sign in with Google"]})}):(0,s.jsx)("div",{children:(0,s.jsx)("div",{children:(null==y?void 0:y.email)||"email not found"})}),(0,s.jsx)("div",{className:"mt-10 text-lg font-medium",children:"Leaderboard"}),(0,s.jsx)("div",{className:"mt-6 flex w-full flex-col items-center rounded-md border-[1px] border-[#DADADA] bg-white text-base",children:(0,s.jsxs)("div",{className:"mt-1 grid w-full grid-cols-5 text-center text-black/30",children:[(0,s.jsxs)(o.Fragment,{children:[(0,s.jsx)("div",{className:"py-2",children:"Rank"}),(0,s.jsx)("div",{className:"py-2",children:"Lang"}),(0,s.jsx)("div",{className:"py-2",children:"Name"}),(0,s.jsx)("div",{className:"py-2",children:"Streak"}),(0,s.jsx)("div",{className:"py-2",children:"XP"})]}),(0,s.jsx)("div",{className:"col-span-5 w-full px-0",children:(0,s.jsx)("div",{className:"border-t-[1px] border-[#DADADA]"})}),Array.isArray(_)&&_.map((e,t)=>(0,s.jsxs)(o.Fragment,{children:[(0,s.jsx)("div",{className:"flex items-center justify-center py-3 ".concat(e.own?"bg-[#0039FF]/5":""),children:(0,s.jsx)("div",{className:"flex items-center justify-center",children:(0,s.jsx)("div",{className:" ".concat(1==e.rank?"border-[#FF9600] bg-gradient-to-tr from-[#FEEA66] to-[#FFD900] text-[#FF9600]":2==e.rank?"border-[#849FB5] bg-gradient-to-tr from-[#D6E4EF] to-[#C2D1DD] text-[#849FB5]":3==e.rank?"border-[#CD7900] bg-gradient-to-tr from-[#F7BE8B] to-[#E5AE7C] text-[#CD7900]":""," ").concat(i().className," font-bold ").concat(e.rank<=3&&"flex h-6 w-6 items-center justify-center rounded-full border-2"," "),children:(e.rank,e.rank)})})}),(0,s.jsx)("div",{className:"flex items-center justify-center ".concat(e.own?"bg-[#0039FF]/5":""),children:(0,s.jsx)("img",{src:"flags/".concat(B(e.language).path),className:"h-5 rounded-md border-[1px] border-[#DADADA]"})}),(0,s.jsx)("div",{className:"flex flex-col items-center justify-center truncate ".concat(e.own?"bg-[#0039FF]/5":""),children:e.name}),(0,s.jsx)("div",{className:"flex flex-col items-center justify-center truncate ".concat(e.own?"bg-[#0039FF]/5":""),children:e.streak}),(0,s.jsx)("div",{className:"flex flex-col items-center justify-center truncate ".concat(e.own?"bg-[#0039FF]/5":""),children:e.xp})]},t))]})}),(0,s.jsx)("div",{className:"mt-10 text-lg font-medium",children:"Set native language"}),(0,s.jsxs)("div",{className:"text-md mt-2 flex flex-wrap items-center text-black",children:["Learning ",p[C][0]," via \xa0",(0,s.jsx)(f.q_,{children:(0,s.jsx)(f.t9,{"aria-label":"Native Languages",interface:"popover",placeholder:"your native language",className:"rounded-lg border-[1px] border-[#DADADA] px-2",value:b.isPending?b.variables.body.fallback_language:null==w?void 0:w.fallback_language,onIonChange:e=>{let t=e.detail.value;b.mutate({query:{language:C},body:{fallback_language:t}})},children:Object.entries(p).map(e=>{let[t,a]=e;return t!=C&&(0,s.jsx)(f.n0,{value:t,children:a[0]},t)})})})]})]})]})}},90340:function(e){e.exports={style:{fontFamily:"'__M_PLUS_Rounded_1c_1ebfbf'",fontStyle:"normal"},className:"__className_1ebfbf"}},2894:function(e,t,a){"use strict";a.d(t,{R:function(){return o},m:function(){return r}});var s=a(18238),n=a(7989),i=a(11255),r=class extends n.F{#e;#t;#a;constructor(e){super(),this.mutationId=e.mutationId,this.#t=e.mutationCache,this.#e=[],this.state=e.state||o(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#e.includes(e)||(this.#e.push(e),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#e=this.#e.filter(t=>t!==e),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#e.length||("pending"===this.state.status?this.scheduleGc():this.#t.remove(this))}continue(){return this.#a?.continue()??this.execute(this.state.variables)}async execute(e){this.#a=(0,i.Mz)({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(Error("No mutationFn found")),onFail:(e,t)=>{this.#s({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});let t="pending"===this.state.status,a=!this.#a.canStart();try{if(!t){this.#s({type:"pending",variables:e,isPaused:a}),await this.#t.config.onMutate?.(e,this);let t=await this.options.onMutate?.(e);t!==this.state.context&&this.#s({type:"pending",context:t,variables:e,isPaused:a})}let s=await this.#a.start();return await this.#t.config.onSuccess?.(s,e,this.state.context,this),await this.options.onSuccess?.(s,e,this.state.context),await this.#t.config.onSettled?.(s,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(s,null,e,this.state.context),this.#s({type:"success",data:s}),s}catch(t){try{throw await this.#t.config.onError?.(t,e,this.state.context,this),await this.options.onError?.(t,e,this.state.context),await this.#t.config.onSettled?.(void 0,t,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,t,e,this.state.context),t}finally{this.#s({type:"error",error:t})}}finally{this.#t.runNext(this)}}#s(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}})(this.state),s.V.batch(()=>{this.#e.forEach(t=>{t.onMutationUpdate(e)}),this.#t.notify({mutation:this,type:"updated",action:e})})}};function o(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}}},function(e){e.O(0,[5879,7240,6491,1649,2017,8079,3344,2971,2117,1744],function(){return e(e.s=77286)}),_N_E=e.O()}]);
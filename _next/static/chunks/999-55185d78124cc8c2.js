(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[999],{887:function(e){"use strict";var t,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,a={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(a,{Immer:()=>q,applyPatches:()=>en,castDraft:()=>ei,castImmutable:()=>ea,createDraft:()=>er,current:()=>Y,enableMapSet:()=>K,enablePatches:()=>X,finishDraft:()=>eo,freeze:()=>P,immerable:()=>u,isDraft:()=>d,isDraftable:()=>p,nothing:()=>l,original:()=>y,produce:()=>G,produceWithPatches:()=>Z,setAutoFreeze:()=>ee,setUseStrictShallowCopy:()=>et}),e.exports=((e,t,a,l)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let u of o(t))i.call(e,u)||u===a||n(e,u,{get:()=>t[u],enumerable:!(l=r(t,u))||l.enumerable});return e})(n({},"__esModule",{value:!0}),a);var l=Symbol.for("immer-nothing"),u=Symbol.for("immer-draftable"),s=Symbol.for("immer-state");function c(e,...t){throw Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var f=Object.getPrototypeOf;function d(e){return!!e&&!!e[s]}function p(e){return!!e&&(v(e)||Array.isArray(e)||!!e[u]||!!e.constructor?.[u]||O(e)||_(e))}var h=Object.prototype.constructor.toString();function v(e){if(!e||"object"!=typeof e)return!1;let t=f(e);if(null===t)return!0;let n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===h}function y(e){return d(e)||c(15,e),e[s].t}function m(e,t){0===g(e)?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function g(e){let t=e[s];return t?t.o:Array.isArray(e)?1:O(e)?2:_(e)?3:0}function b(e,t){return 2===g(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function w(e,t){return 2===g(e)?e.get(t):e[t]}function E(e,t,n){let r=g(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function O(e){return e instanceof Map}function _(e){return e instanceof Set}function A(e){return e.e||e.t}function S(e,t){if(O(e))return new Map(e);if(_(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);let n=v(e);if(!0!==t&&("class_only"!==t||n)){let t=f(e);return null!==t&&n?{...e}:Object.assign(Object.create(t),e)}{let t=Object.getOwnPropertyDescriptors(e);delete t[s];let n=Reflect.ownKeys(t);for(let r=0;r<n.length;r++){let o=n[r],i=t[o];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[o]})}return Object.create(f(e),t)}}function P(e,t=!1){return R(e)||d(e)||!p(e)||(g(e)>1&&(e.set=e.add=e.clear=e.delete=T),Object.freeze(e),t&&Object.entries(e).forEach(([e,t])=>P(t,!0))),e}function T(){c(2)}function R(e){return Object.isFrozen(e)}var C={};function D(e){let t=C[e];return t||c(0,e),t}function x(e,t){t&&(D("Patches"),e.f=[],e.h=[],e.b=t)}function N(e){j(e),e.a.forEach(M),e.a=null}function j(e){e===t&&(t=e.i)}function I(e){return t={a:[],i:t,p:e,P:!0,d:0}}function M(e){let t=e[s];0===t.o||1===t.o?t.x():t.m=!0}function k(e,t){t.d=t.a.length;let n=t.a[0];return void 0!==e&&e!==n?(n[s].s&&(N(t),c(4)),p(e)&&(e=L(t,e),t.i||H(t,e)),t.f&&D("Patches").T(n[s].t,e,t.f,t.h)):e=L(t,n,[]),N(t),t.f&&t.b(t.f,t.h),e!==l?e:void 0}function L(e,t,n){if(R(t))return t;let r=t[s];if(!r)return m(t,(o,i)=>U(e,r,t,o,i,n)),t;if(r.n!==e)return t;if(!r.s)return H(e,r.t,!0),r.t;if(!r.c){r.c=!0,r.n.d--;let t=r.e,o=t,i=!1;3===r.o&&(o=new Set(t),t.clear(),i=!0),m(o,(o,a)=>U(e,r,t,o,a,n,i)),H(e,t,!1),n&&e.f&&D("Patches").g(r,n,e.f,e.h)}return r.e}function U(e,t,n,r,o,i,a){if(d(o)){let a=L(e,o,i&&t&&3!==t.o&&!b(t.r,r)?i.concat(r):void 0);if(E(n,r,a),!d(a))return;e.P=!1}else a&&n.add(o);if(p(o)&&!R(o)){if(!e.p.y&&e.d<1)return;L(e,o),(!t||!t.n.i)&&"symbol"!=typeof r&&Object.prototype.propertyIsEnumerable.call(n,r)&&H(e,o)}}function H(e,t,n=!1){!e.i&&e.p.y&&e.P&&P(t,n)}var $={get(e,t){if(t===s)return e;let n=A(e);if(!b(n,t)){let r;return(r=F(n,t))?"value"in r?r.value:r.get?.call(e.u):void 0}let r=n[t];return e.c||!p(r)?r:r===B(e.t,t)?(z(e),e.e[t]=J(r,e)):r},has:(e,t)=>t in A(e),ownKeys:e=>Reflect.ownKeys(A(e)),set(e,t,n){let r=F(A(e),t);if(r?.set)return r.set.call(e.u,n),!0;if(!e.s){let r=B(A(e),t),o=r?.[s];if(o&&o.t===n)return e.e[t]=n,e.r[t]=!1,!0;if((n===r?0!==n||1/n==1/r:n!=n&&r!=r)&&(void 0!==n||b(e.t,t)))return!0;z(e),V(e)}return e.e[t]===n&&(void 0!==n||t in e.e)||Number.isNaN(n)&&Number.isNaN(e.e[t])||(e.e[t]=n,e.r[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==B(e.t,t)||t in e.t?(e.r[t]=!1,z(e),V(e)):delete e.r[t],e.e&&delete e.e[t],!0),getOwnPropertyDescriptor(e,t){let n=A(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:1!==e.o||"length"!==t,enumerable:r.enumerable,value:n[t]}},defineProperty(){c(11)},getPrototypeOf:e=>f(e.t),setPrototypeOf(){c(12)}},W={};function B(e,t){let n=e[s];return(n?A(n):e)[t]}function F(e,t){if(!(t in e))return;let n=f(e);for(;n;){let e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=f(n)}}function V(e){e.s||(e.s=!0,e.i&&V(e.i))}function z(e){e.e||(e.e=S(e.t,e.n.p.S))}m($,(e,t)=>{W[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),W.deleteProperty=function(e,t){return W.set.call(this,e,t,void 0)},W.set=function(e,t,n){return $.set.call(this,e[0],t,n,e[0])};var q=class{constructor(e){this.y=!0,this.S=!1,this.produce=(e,t,n)=>{let r;if("function"==typeof e&&"function"!=typeof t){let n=t;t=e;let r=this;return function(e=n,...o){return r.produce(e,e=>t.call(this,e,...o))}}if("function"!=typeof t&&c(6),void 0!==n&&"function"!=typeof n&&c(7),p(e)){let o=I(this),i=J(e,void 0),a=!0;try{r=t(i),a=!1}finally{a?N(o):j(o)}return x(o,n),k(r,o)}if(e&&"object"==typeof e)c(1,e);else{if(void 0===(r=t(e))&&(r=e),r===l&&(r=void 0),this.y&&P(r,!0),n){let t=[],o=[];D("Patches").T(e,r,t,o),n(t,o)}return r}},this.produceWithPatches=(e,t)=>{let n,r;return"function"==typeof e?(t,...n)=>this.produceWithPatches(t,t=>e(t,...n)):[this.produce(e,t,(e,t)=>{n=e,r=t}),n,r]},"boolean"==typeof e?.autoFreeze&&this.setAutoFreeze(e.autoFreeze),"boolean"==typeof e?.useStrictShallowCopy&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){p(e)||c(8),d(e)&&(e=Y(e));let t=I(this),n=J(e,void 0);return n[s].l=!0,j(t),n}finishDraft(e,t){let n=e&&e[s];n&&n.l||c(9);let{n:r}=n;return x(r,t),k(void 0,r)}setAutoFreeze(e){this.y=e}setUseStrictShallowCopy(e){this.S=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){let r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));let r=D("Patches").A;return d(e)?r(e,t):this.produce(e,e=>r(e,t))}};function J(e,n){let r=O(e)?D("MapSet").I(e,n):_(e)?D("MapSet").D(e,n):function(e,n){let r=Array.isArray(e),o={o:r?1:0,n:n?n.n:t,s:!1,c:!1,r:{},i:n,t:e,u:null,e:null,x:null,l:!1},i=o,a=$;r&&(i=[o],a=W);let{revoke:l,proxy:u}=Proxy.revocable(i,a);return o.u=u,o.x=l,u}(e,n);return(n?n.n:t).a.push(r),r}function Y(e){return d(e)||c(10,e),function e(t){if(!p(t)||R(t))return t;let n=t[s],r;if(n){if(!n.s)return n.t;n.c=!0,r=S(t,n.n.p.S)}else r=S(t,!0);return m(r,(t,n)=>{E(r,t,e(n))}),n&&(n.c=!1),r}(e)}function X(){var e,t;let n="replace",r="remove";function o(e){if(!p(e))return e;if(Array.isArray(e))return e.map(o);if(O(e))return new Map(Array.from(e.entries()).map(([e,t])=>[e,o(t)]));if(_(e))return new Set(Array.from(e).map(o));let t=Object.create(f(e));for(let n in e)t[n]=o(e[n]);return b(e,u)&&(t[u]=e[u]),t}function i(e){return d(e)?o(e):e}e="Patches",t={A:function(e,t){return t.forEach(t=>{let{path:i,op:a}=t,l=e;for(let e=0;e<i.length-1;e++){let t=g(l),n=i[e];"string"!=typeof n&&"number"!=typeof n&&(n=""+n),(0===t||1===t)&&("__proto__"===n||"constructor"===n)&&c(19),"function"==typeof l&&"prototype"===n&&c(19),"object"!=typeof(l=w(l,n))&&c(18,i.join("/"))}let u=g(l),s=o(t.value),f=i[i.length-1];switch(a){case n:switch(u){case 2:return l.set(f,s);case 3:c(16);default:return l[f]=s}case"add":switch(u){case 1:return"-"===f?l.push(s):l.splice(f,0,s);case 2:return l.set(f,s);case 3:return l.add(s);default:return l[f]=s}case r:switch(u){case 1:return l.splice(f,1);case 2:return l.delete(f);case 3:return l.delete(t.value);default:return delete l[f]}default:c(17,a)}}),e},g:function(e,t,o,a){switch(e.o){case 0:case 2:return function(e,t,o,a){let{t:l,e:u}=e;m(e.r,(e,s)=>{let c=w(l,e),f=w(u,e),d=s?b(l,e)?n:"add":r;if(c===f&&d===n)return;let p=t.concat(e);o.push(d===r?{op:d,path:p}:{op:d,path:p,value:f}),a.push("add"===d?{op:r,path:p}:d===r?{op:"add",path:p,value:i(c)}:{op:n,path:p,value:i(c)})})}(e,t,o,a);case 1:return function(e,t,o,a){let{t:l,r:u}=e,s=e.e;s.length<l.length&&([l,s]=[s,l],[o,a]=[a,o]);for(let e=0;e<l.length;e++)if(u[e]&&s[e]!==l[e]){let r=t.concat([e]);o.push({op:n,path:r,value:i(s[e])}),a.push({op:n,path:r,value:i(l[e])})}for(let e=l.length;e<s.length;e++){let n=t.concat([e]);o.push({op:"add",path:n,value:i(s[e])})}for(let e=s.length-1;l.length<=e;--e){let n=t.concat([e]);a.push({op:r,path:n})}}(e,t,o,a);case 3:return function(e,t,n,o){let{t:i,e:a}=e,l=0;i.forEach(e=>{if(!a.has(e)){let i=t.concat([l]);n.push({op:r,path:i,value:e}),o.unshift({op:"add",path:i,value:e})}l++}),l=0,a.forEach(e=>{if(!i.has(e)){let i=t.concat([l]);n.push({op:"add",path:i,value:e}),o.unshift({op:r,path:i,value:e})}l++})}(e,t,o,a)}},T:function(e,t,r,o){r.push({op:n,path:[],value:t===l?void 0:t}),o.push({op:n,path:[],value:e})}},C[e]||(C[e]=t)}function K(){var e,n;class r extends Map{constructor(e,n){super(),this[s]={o:2,i:n,n:n?n.n:t,s:!1,c:!1,e:void 0,r:void 0,t:e,u:this,l:!1,m:!1}}get size(){return A(this[s]).size}has(e){return A(this[s]).has(e)}set(e,t){let n=this[s];return l(n),A(n).has(e)&&A(n).get(e)===t||(o(n),V(n),n.r.set(e,!0),n.e.set(e,t),n.r.set(e,!0)),this}delete(e){if(!this.has(e))return!1;let t=this[s];return l(t),o(t),V(t),t.t.has(e)?t.r.set(e,!1):t.r.delete(e),t.e.delete(e),!0}clear(){let e=this[s];l(e),A(e).size&&(o(e),V(e),e.r=new Map,m(e.t,t=>{e.r.set(t,!1)}),e.e.clear())}forEach(e,t){A(this[s]).forEach((n,r,o)=>{e.call(t,this.get(r),r,this)})}get(e){let t=this[s];l(t);let n=A(t).get(e);if(t.c||!p(n)||n!==t.t.get(e))return n;let r=J(n,t);return o(t),t.e.set(e,r),r}keys(){return A(this[s]).keys()}values(){let e=this.keys();return{[Symbol.iterator]:()=>this.values(),next:()=>{let t=e.next();return t.done?t:{done:!1,value:this.get(t.value)}}}}entries(){let e=this.keys();return{[Symbol.iterator]:()=>this.entries(),next:()=>{let t=e.next();if(t.done)return t;let n=this.get(t.value);return{done:!1,value:[t.value,n]}}}}[Symbol.iterator](){return this.entries()}}function o(e){e.e||(e.r=new Map,e.e=new Map(e.t))}class i extends Set{constructor(e,n){super(),this[s]={o:3,i:n,n:n?n.n:t,s:!1,c:!1,e:void 0,t:e,u:this,a:new Map,m:!1,l:!1}}get size(){return A(this[s]).size}has(e){let t=this[s];return l(t),t.e?!!(t.e.has(e)||t.a.has(e)&&t.e.has(t.a.get(e))):t.t.has(e)}add(e){let t=this[s];return l(t),this.has(e)||(a(t),V(t),t.e.add(e)),this}delete(e){if(!this.has(e))return!1;let t=this[s];return l(t),a(t),V(t),t.e.delete(e)||!!t.a.has(e)&&t.e.delete(t.a.get(e))}clear(){let e=this[s];l(e),A(e).size&&(a(e),V(e),e.e.clear())}values(){let e=this[s];return l(e),a(e),e.e.values()}entries(){let e=this[s];return l(e),a(e),e.e.entries()}keys(){return this.values()}[Symbol.iterator](){return this.values()}forEach(e,t){let n=this.values(),r=n.next();for(;!r.done;)e.call(t,r.value,r.value,this),r=n.next()}}function a(e){e.e||(e.e=new Set,e.t.forEach(t=>{if(p(t)){let n=J(t,e);e.a.set(t,n),e.e.add(n)}else e.e.add(t)}))}function l(e){e.m&&c(3,JSON.stringify(A(e)))}e="MapSet",n={I:function(e,t){return new r(e,t)},D:function(e,t){return new i(e,t)}},C[e]||(C[e]=n)}var Q=new q,G=Q.produce,Z=Q.produceWithPatches.bind(Q),ee=Q.setAutoFreeze.bind(Q),et=Q.setUseStrictShallowCopy.bind(Q),en=Q.applyPatches.bind(Q),er=Q.createDraft.bind(Q),eo=Q.finishDraft.bind(Q);function ei(e){return e}function ea(e){return e}},108:function(e,t,n){"use strict";e.exports=n(887)},1086:function(e){e.exports=function(e,t,n,r){var o=new Blob(void 0!==r?[r,e]:[e],{type:n||"application/octet-stream"});if(void 0!==window.navigator.msSaveBlob)window.navigator.msSaveBlob(o,t);else{var i=window.URL&&window.URL.createObjectURL?window.URL.createObjectURL(o):window.webkitURL.createObjectURL(o),a=document.createElement("a");a.style.display="none",a.href=i,a.setAttribute("download",t),void 0===a.download&&a.setAttribute("target","_blank"),document.body.appendChild(a),a.click(),setTimeout(function(){document.body.removeChild(a),window.URL.revokeObjectURL(i)},200)}}},8049:function(e,t,n){"use strict";var r=n(4397);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var l=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},718:function(e,t,n){e.exports=n(8049)()},4397:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},3465:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NIL",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"v1",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"v3",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"v4",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"v5",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"validate",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return u.default}});var r=d(n(4264)),o=d(n(7505)),i=d(n(4697)),a=d(n(9182)),l=d(n(310)),u=d(n(330)),s=d(n(4997)),c=d(n(5627)),f=d(n(1284));function d(e){return e&&e.__esModule?e:{default:e}}},6143:function(e,t){"use strict";function n(e){return(e+64>>>9<<4)+14+1}function r(e,t){let n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function o(e,t,n,o,i,a){var l;return r((l=r(r(t,e),r(o,a)))<<i|l>>>32-i,n)}function i(e,t,n,r,i,a,l){return o(t&n|~t&r,e,t,i,a,l)}function a(e,t,n,r,i,a,l){return o(t&r|n&~r,e,t,i,a,l)}function l(e,t,n,r,i,a,l){return o(t^n^r,e,t,i,a,l)}function u(e,t,n,r,i,a,l){return o(n^(t|~r),e,t,i,a,l)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=function(e){if("string"==typeof e){let t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(let n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return function(e){let t=[],n=32*e.length,r="0123456789abcdef";for(let o=0;o<n;o+=8){let n=e[o>>5]>>>o%32&255,i=parseInt(r.charAt(n>>>4&15)+r.charAt(15&n),16);t.push(i)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[n(t)-1]=t;let o=1732584193,s=-271733879,c=-1732584194,f=271733878;for(let t=0;t<e.length;t+=16){let n=o,d=s,p=c,h=f;o=i(o,s,c,f,e[t],7,-680876936),f=i(f,o,s,c,e[t+1],12,-389564586),c=i(c,f,o,s,e[t+2],17,606105819),s=i(s,c,f,o,e[t+3],22,-1044525330),o=i(o,s,c,f,e[t+4],7,-176418897),f=i(f,o,s,c,e[t+5],12,1200080426),c=i(c,f,o,s,e[t+6],17,-1473231341),s=i(s,c,f,o,e[t+7],22,-45705983),o=i(o,s,c,f,e[t+8],7,1770035416),f=i(f,o,s,c,e[t+9],12,-1958414417),c=i(c,f,o,s,e[t+10],17,-42063),s=i(s,c,f,o,e[t+11],22,-1990404162),o=i(o,s,c,f,e[t+12],7,1804603682),f=i(f,o,s,c,e[t+13],12,-40341101),c=i(c,f,o,s,e[t+14],17,-1502002290),s=i(s,c,f,o,e[t+15],22,1236535329),o=a(o,s,c,f,e[t+1],5,-165796510),f=a(f,o,s,c,e[t+6],9,-1069501632),c=a(c,f,o,s,e[t+11],14,643717713),s=a(s,c,f,o,e[t],20,-373897302),o=a(o,s,c,f,e[t+5],5,-701558691),f=a(f,o,s,c,e[t+10],9,38016083),c=a(c,f,o,s,e[t+15],14,-660478335),s=a(s,c,f,o,e[t+4],20,-405537848),o=a(o,s,c,f,e[t+9],5,568446438),f=a(f,o,s,c,e[t+14],9,-1019803690),c=a(c,f,o,s,e[t+3],14,-187363961),s=a(s,c,f,o,e[t+8],20,1163531501),o=a(o,s,c,f,e[t+13],5,-1444681467),f=a(f,o,s,c,e[t+2],9,-51403784),c=a(c,f,o,s,e[t+7],14,1735328473),s=a(s,c,f,o,e[t+12],20,-1926607734),o=l(o,s,c,f,e[t+5],4,-378558),f=l(f,o,s,c,e[t+8],11,-2022574463),c=l(c,f,o,s,e[t+11],16,1839030562),s=l(s,c,f,o,e[t+14],23,-35309556),o=l(o,s,c,f,e[t+1],4,-1530992060),f=l(f,o,s,c,e[t+4],11,1272893353),c=l(c,f,o,s,e[t+7],16,-155497632),s=l(s,c,f,o,e[t+10],23,-1094730640),o=l(o,s,c,f,e[t+13],4,681279174),f=l(f,o,s,c,e[t],11,-358537222),c=l(c,f,o,s,e[t+3],16,-722521979),s=l(s,c,f,o,e[t+6],23,76029189),o=l(o,s,c,f,e[t+9],4,-640364487),f=l(f,o,s,c,e[t+12],11,-421815835),c=l(c,f,o,s,e[t+15],16,530742520),s=l(s,c,f,o,e[t+2],23,-995338651),o=u(o,s,c,f,e[t],6,-198630844),f=u(f,o,s,c,e[t+7],10,1126891415),c=u(c,f,o,s,e[t+14],15,-1416354905),s=u(s,c,f,o,e[t+5],21,-57434055),o=u(o,s,c,f,e[t+12],6,1700485571),f=u(f,o,s,c,e[t+3],10,-1894986606),c=u(c,f,o,s,e[t+10],15,-1051523),s=u(s,c,f,o,e[t+1],21,-2054922799),o=u(o,s,c,f,e[t+8],6,1873313359),f=u(f,o,s,c,e[t+15],10,-30611744),c=u(c,f,o,s,e[t+6],15,-1560198380),s=u(s,c,f,o,e[t+13],21,1309151649),o=u(o,s,c,f,e[t+4],6,-145523070),f=u(f,o,s,c,e[t+11],10,-1120210379),c=u(c,f,o,s,e[t+2],15,718787259),s=u(s,c,f,o,e[t+9],21,-343485551),o=r(o,n),s=r(s,d),c=r(c,p),f=r(f,h)}return[o,s,c,f]}(function(e){if(0===e.length)return[];let t=8*e.length,r=new Uint32Array(n(t));for(let n=0;n<t;n+=8)r[n>>5]|=(255&e[n/8])<<n%32;return r}(e),8*e.length))}},7174:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;let n="undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);t.default={randomUUID:n}},310:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default="00000000-0000-0000-0000-000000000000"},1284:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(4997))&&r.__esModule?r:{default:r};t.default=function(e){let t;if(!(0,o.default)(e))throw TypeError("Invalid UUID");let n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n}},2935:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},4994:function(e,t){"use strict";let n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if(!n&&!(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(r)};let r=new Uint8Array(16)},2066:function(e,t){"use strict";function n(e,t){return e<<t|e>>>32-t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=function(e){let t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){let t=unescape(encodeURIComponent(e));e=[];for(let n=0;n<t.length;++n)e.push(t.charCodeAt(n))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);let o=Math.ceil((e.length/4+2)/16),i=Array(o);for(let t=0;t<o;++t){let n=new Uint32Array(16);for(let r=0;r<16;++r)n[r]=e[64*t+4*r]<<24|e[64*t+4*r+1]<<16|e[64*t+4*r+2]<<8|e[64*t+4*r+3];i[t]=n}i[o-1][14]=(e.length-1)*8/4294967296,i[o-1][14]=Math.floor(i[o-1][14]),i[o-1][15]=(e.length-1)*8&4294967295;for(let e=0;e<o;++e){let o=new Uint32Array(80);for(let t=0;t<16;++t)o[t]=i[e][t];for(let e=16;e<80;++e)o[e]=n(o[e-3]^o[e-8]^o[e-14]^o[e-16],1);let a=r[0],l=r[1],u=r[2],s=r[3],c=r[4];for(let e=0;e<80;++e){let r=Math.floor(e/20),i=n(a,5)+function(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:case 3:return t^n^r;case 2:return t&n^t&r^n&r}}(r,l,u,s)+c+t[r]+o[e]>>>0;c=s,s=u,u=n(l,30)>>>0,l=a,a=i}r[0]=r[0]+a>>>0,r[1]=r[1]+l>>>0,r[2]=r[2]+u>>>0,r[3]=r[3]+s>>>0,r[4]=r[4]+c>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,255&r[0],r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,255&r[1],r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,255&r[2],r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,255&r[3],r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,255&r[4]]}},5627:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.unsafeStringify=a;var r,o=(r=n(4997))&&r.__esModule?r:{default:r};let i=[];for(let e=0;e<256;++e)i.push((e+256).toString(16).slice(1));function a(e,t=0){return i[e[t+0]]+i[e[t+1]]+i[e[t+2]]+i[e[t+3]]+"-"+i[e[t+4]]+i[e[t+5]]+"-"+i[e[t+6]]+i[e[t+7]]+"-"+i[e[t+8]]+i[e[t+9]]+"-"+i[e[t+10]]+i[e[t+11]]+i[e[t+12]]+i[e[t+13]]+i[e[t+14]]+i[e[t+15]]}t.default=function(e,t=0){let n=a(e,t);if(!(0,o.default)(n))throw TypeError("Stringified UUID is invalid");return n}},4264:function(e,t,n){"use strict";let r,o;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,a=(i=n(4994))&&i.__esModule?i:{default:i},l=n(5627);let u=0,s=0;t.default=function(e,t,n){let i=t&&n||0,c=t||Array(16),f=(e=e||{}).node||r,d=void 0!==e.clockseq?e.clockseq:o;if(null==f||null==d){let t=e.random||(e.rng||a.default)();null==f&&(f=r=[1|t[0],t[1],t[2],t[3],t[4],t[5]]),null==d&&(d=o=(t[6]<<8|t[7])&16383)}let p=void 0!==e.msecs?e.msecs:Date.now(),h=void 0!==e.nsecs?e.nsecs:s+1,v=p-u+(h-s)/1e4;if(v<0&&void 0===e.clockseq&&(d=d+1&16383),(v<0||p>u)&&void 0===e.nsecs&&(h=0),h>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");u=p,s=h,o=d;let y=((268435455&(p+=122192928e5))*1e4+h)%4294967296;c[i++]=y>>>24&255,c[i++]=y>>>16&255,c[i++]=y>>>8&255,c[i++]=255&y;let m=p/4294967296*1e4&268435455;c[i++]=m>>>8&255,c[i++]=255&m,c[i++]=m>>>24&15|16,c[i++]=m>>>16&255,c[i++]=d>>>8|128,c[i++]=255&d;for(let e=0;e<6;++e)c[i+e]=f[e];return t||(0,l.unsafeStringify)(c)}},7505:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(8626)),o=i(n(6143));function i(e){return e&&e.__esModule?e:{default:e}}let a=(0,r.default)("v3",48,o.default);t.default=a},8626:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.URL=t.DNS=void 0,t.default=function(e,t,n){function r(e,r,a,l){var u;if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));let t=[];for(let n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}(e)),"string"==typeof r&&(r=(0,i.default)(r)),(null===(u=r)||void 0===u?void 0:u.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let s=new Uint8Array(16+e.length);if(s.set(r),s.set(e,r.length),(s=n(s))[6]=15&s[6]|t,s[8]=63&s[8]|128,a){l=l||0;for(let e=0;e<16;++e)a[l+e]=s[e];return a}return(0,o.unsafeStringify)(s)}try{r.name=e}catch(e){}return r.DNS=a,r.URL=l,r};var r,o=n(5627),i=(r=n(1284))&&r.__esModule?r:{default:r};let a="6ba7b810-9dad-11d1-80b4-00c04fd430c8";t.DNS=a;let l="6ba7b811-9dad-11d1-80b4-00c04fd430c8";t.URL=l},4697:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(7174)),o=a(n(4994)),i=n(5627);function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t,n){if(r.default.randomUUID&&!t&&!e)return r.default.randomUUID();let a=(e=e||{}).random||(e.rng||o.default)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=a[e];return t}return(0,i.unsafeStringify)(a)}},9182:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(8626)),o=i(n(2066));function i(e){return e&&e.__esModule?e:{default:e}}let a=(0,r.default)("v5",80,o.default);t.default=a},4997:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(2935))&&r.__esModule?r:{default:r};t.default=function(e){return"string"==typeof e&&o.default.test(e)}},330:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(4997))&&r.__esModule?r:{default:r};t.default=function(e){if(!(0,o.default)(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}},4272:function(e,t,n){"use strict";t.tp=t.MV=t.Dm=t.eA=void 0;var r=n(1066);Object.defineProperty(t,"eA",{enumerable:!0,get:function(){return r.SessionProvider}}),Object.defineProperty(t,"Dm",{enumerable:!0,get:function(){return r.DefaultSessionContext}});var o=n(3415);Object.defineProperty(t,"MV",{enumerable:!0,get:function(){return o.useSynced}}),Object.defineProperty(t,"tp",{enumerable:!0,get:function(){return o.useSyncedReducer}}),n(9810)},9810:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useRemoteToast=void 0;let r=n(2265);t.useRemoteToast=(e,t,n="")=>{(0,r.useEffect)(()=>(null==e||e.registerEvent("_TOAST",({message:e,type:r})=>{switch(r){case"default":default:t(n+e);break;case"message":t.message(n+e);break;case"success":t.success(n+e);break;case"info":t.info(n+e);break;case"warning":t.warning(n+e);break;case"error":t.error(n+e)}}),()=>null==e?void 0:e.deregisterEvent("_TOAST")),[])}},1066:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Session=t.SessionProvider=t.DefaultSessionContext=void 0;let o=n(7437),i=n(3974),a=r(n(1086)),l=n(2265),u=n(3465);t.DefaultSessionContext=(0,l.createContext)(null),t.SessionProvider=({url:e,label:n,toast:r,children:a,context:c=t.DefaultSessionContext,autoconnect:f=!1,wsAuth:d=!1,binaryType:p="blob"})=>{let h=(0,l.useMemo)(()=>new s(e,n,r,p),[e]);if(d){let[t,n]=(0,i.useLocalStorage)("_USER_ID",null),[r,o]=(0,i.useSessionStorage)("_SESSION_ID",null);(0,l.useEffect)(()=>(null==h||h.registerEvent("_REQUEST_USER_SESSION",()=>{let e=t,i=r;null===t&&(n(e=(0,u.v4)()),console.log("generated new user id",e)),null===r&&(o(i=(0,u.v4)()),console.log("generated new session id",i)),h.send("_USER_SESSION",{user:e,session:i})}),()=>{null==h||h.deregisterEvent("_REQUEST_USER_SESSION")}),[e])}return f&&(0,l.useEffect)(()=>h.connect(),[e]),(0,o.jsx)(c.Provider,{value:h,children:a})};class s{constructor(e,t="Server",n=null,r="blob",o=250,i=1e4){this.ws=null,this.isConnected=!1,this.onConnectionChange=void 0,this.eventHandlers={},this.initHandlers={},this.binaryHandler=null,this.binData=null,this.retryTimeout=null,this.autoReconnect=!0,this.url=e,this.label=t,this.toast=n,this.binaryType=r,this.minRetryInterval=o,this.maxRetryInterval=i,this.retryInterval=o}registerEvent(e,t){if(e in this.eventHandlers)throw Error(`already subscribed to ${e}`);this.eventHandlers[e]=t}deregisterEvent(e){if(!(e in this.eventHandlers))throw Error(`not subscribed to ${e}`);delete this.eventHandlers[e]}registerInit(e,t){if(e in this.initHandlers)throw Error("already registered");this.initHandlers[e]=t}deregisterInit(e){if(!(e in this.initHandlers))throw Error("not registered");delete this.initHandlers[e]}registerBinary(e){if(null!==this.binaryHandler)throw Error("already registered");this.binaryHandler=e}deregisterBinary(){if(null===this.binaryHandler)throw Error("not registered");this.binaryHandler=null}send(e,t){var n,r,o;if((null===(n=this.ws)||void 0===n?void 0:n.readyState)!==WebSocket.OPEN){null===(r=this.toast)||void 0===r||r.error(`${this.label}: Sending while not connected!`);return}null===(o=this.ws)||void 0===o||o.send(JSON.stringify({type:e,data:t}))}sendBinary(e,t,n){var r,o,i,a;if((null===(r=this.ws)||void 0===r?void 0:r.readyState)!==WebSocket.OPEN){null===(o=this.toast)||void 0===o||o.error(`${this.label}: Sending while not connected!`);return}null===(i=this.ws)||void 0===i||i.send(JSON.stringify({type:"_BIN_META",data:{type:e,metadata:t}})),null===(a=this.ws)||void 0===a||a.send(n)}connect(){var e;return null===(e=this.toast)||void 0===e||e.info(`Connecting to ${this.label}...`),this.ws=new WebSocket(this.url),this.ws.binaryType=this.binaryType,this.autoReconnect=!0,this.ws.onopen=()=>{var e;null===(e=this.toast)||void 0===e||e.success(`Connected to ${this.label}!`),this.isConnected=!0,this.onConnectionChange&&this.onConnectionChange(this.isConnected),this.retryInterval=this.minRetryInterval},this.ws.onclose=()=>{var e,t;this.isConnected=!1,this.onConnectionChange&&this.onConnectionChange(this.isConnected),this.autoReconnect?(null===(e=this.toast)||void 0===e||e.warning(`Disconnected from ${this.label}: Retrying in ${this.retryInterval/1e3} seconds...`),this.retryTimeout=setTimeout(()=>{this!==null&&this.url&&!this.isConnected&&this.connect()},this.retryInterval),this.retryInterval=Math.min(2*this.retryInterval,this.maxRetryInterval)):null===(t=this.toast)||void 0===t||t.warning(`Disconnected from ${this.label}!`)},this.ws.onerror=e=>{var t,n;console.error("Socket encountered error: ",e,"Closing socket"),null===(t=this.toast)||void 0===t||t.error(`${this.label}: Socket Error: ${e}`),null===(n=this.ws)||void 0===n||n.close()},this.ws.onmessage=e=>{this.handleReceiveEvent(e)},()=>{this.disconnect()}}disconnect(){var e;this.autoReconnect=!1,null===(e=this.ws)||void 0===e||e.close(),this.onConnectionChange&&this.onConnectionChange(!1),null!==this.ws&&(this.ws.onopen=null,this.ws.onclose=null,this.ws.onmessage=null,this.ws.onerror=null,this.ws=null),null!==this.retryTimeout&&(clearTimeout(this.retryTimeout),this.retryTimeout=null)}handleReceiveEvent(e){var t;if("string"==typeof e.data){let n=JSON.parse(e.data);if("_DISCONNECT"==n.type){this.disconnect(),null===(t=this.toast)||void 0===t||t.loading(`${this.label}: ${n.data}`,{duration:1e7});return}if("_DOWNLOAD"==n.type){let{filename:e,data:t}=n.data;fetch(`data:application/octet-stream;base64,${t}`).then(e=>e.blob()).then(t=>(0,a.default)(t,e))}else"_BIN_META"==n.type?(null!==this.binData&&console.log("overwriting bytes metadata"),this.binData=n.data):n.type in this.eventHandlers?this.eventHandlers[n.type](n.data):console.log(`unhandled event: ${n.type}`)}else null!==this.binData?(this.binData.type in this.eventHandlers?this.eventHandlers[this.binData.type](Object.assign({data:e.data},this.binData.metadata)):console.log(`no handler for binary event: ${this.binData.type}`),this.binData=null):null!==this.binaryHandler?this.binaryHandler(e.data):console.log("unhandled binary message")}}t.Session=s},3415:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useSynced=t.useSyncedReducer=void 0;let r=n(2265),o=n(9978),i=n(1066),a=n(108);(0,a.enablePatches)();let l=e=>"_SET:"+e,u=e=>"_GET:"+e,s=e=>"_PATCH:"+e,c=e=>"_ACTION:"+e,f=e=>"_TASK_START:"+e,d=e=>"_TASK_CANCEL:"+e;function p(e,t,n,p=null,h=!1){let v=null!=p?p:(0,r.useContext)(i.DefaultSessionContext),y=(0,r.useCallback)(()=>{null==v||v.send(u(e),{})},[v,e]),m=(0,r.useCallback)(t=>{null==v||v.send(l(e),t)},[v,e]),g=(0,r.useCallback)(t=>{null==v||v.send(s(e),t)},[v,e]),b=(0,r.useCallback)(t=>{null==v||v.send(c(e),t)},[v,e]),w=(0,r.useCallback)(t=>{null==v||v.send(f(e),t)},[v,e]),E=(0,r.useCallback)(t=>{null==v||v.send(d(e),t)},[v,e]),O=(0,r.useCallback)((t,n)=>{null==v||v.sendBinary(c(e),t,n)},[v,e]),[[_,A],S]=(0,r.useReducer)(([n,r],i)=>{switch(i.type){case l(e):return[i.data,[]];case s(e):return[i.data.reduce(o.applyReducer,(0,o.deepClone)(n)),[]];default:{if(!t)return[n,[]];let e=[],[r,o,l]=(0,a.produceWithPatches)(t)((0,a.castImmutable)(n),i,()=>{e.push(e=>()=>{e.length>0&&(e.forEach(e=>{Array.isArray(e.path)&&(e.path=e.path.join("/")),e.path.startsWith("/")||(e.path="/"+e.path)}),g(e))})},t=>{e.push(e=>()=>{b(null!=t?t:i)})});return[r,e.map(e=>e(o))]}}},[n,[]]);(0,r.useEffect)(()=>{0!==A.length&&(A.forEach(e=>e()),A.splice(0,A.length))});let P=(0,r.useCallback)(t=>{S({type:l(e),data:t})},[e]),T=(0,r.useCallback)(t=>{S({type:s(e),data:t})},[e]),R=(0,r.useCallback)(e=>{S(e)},[]);(0,r.useEffect)(()=>(null==v||v.registerEvent(u(e),()=>m(_)),null==v||v.registerEvent(l(e),P),null==v||v.registerEvent(s(e),T),null==v||v.registerEvent(c(e),R),h&&(null==v||v.registerInit(e,()=>m(_))),()=>{null==v||v.deregisterEvent(u(e)),null==v||v.deregisterEvent(l(e)),null==v||v.deregisterEvent(s(e)),null==v||v.deregisterEvent(c(e)),h&&(null==v||v.deregisterInit(e))}),[v,e]);let C=(0,r.useMemo)(()=>Object.keys(n).reduce((e,t)=>{let n=t.charAt(0).toUpperCase()+t.slice(1);return e[`set${n}`]=e=>{T([{op:"replace",path:`/${t}`,value:e}])},e[`sync${n}`]=e=>{let n=[{op:"replace",path:`/${t}`,value:e}];T(n),g(n)},e},{}),[n,T,g]);return[(0,r.useMemo)(()=>Object.assign(Object.assign(Object.assign({},_),C),{fetchRemoteState:y,sendAction:b,startTask:w,cancelTask:E,sendBinary:O}),[_,C,y,b,w,E,O]),S]}t.useSyncedReducer=p,t.useSynced=function(e,t,n=null,r=!1){let[o,i]=p(e,void 0,t,n,r);return o}},9978:function(e,t,n){"use strict";n.r(t),n.d(t,{JsonPatchError:function(){return v},_areEquals:function(){return P},applyOperation:function(){return E},applyPatch:function(){return O},applyReducer:function(){return _},compare:function(){return I},deepClone:function(){return c},default:function(){return M},escapePathComponent:function(){return d},generate:function(){return N},getValueByPointer:function(){return w},observe:function(){return x},unescapePathComponent:function(){return p},unobserve:function(){return D},validate:function(){return S},validator:function(){return A}});var r,o={};n.r(o),n.d(o,{JsonPatchError:function(){return y},_areEquals:function(){return P},applyOperation:function(){return E},applyPatch:function(){return O},applyReducer:function(){return _},deepClone:function(){return m},getValueByPointer:function(){return w},validate:function(){return S},validator:function(){return A}});var i={};n.r(i),n.d(i,{compare:function(){return I},generate:function(){return N},observe:function(){return x},unobserve:function(){return D}});var a=(r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),l=Object.prototype.hasOwnProperty;function u(e,t){return l.call(e,t)}function s(e){if(Array.isArray(e)){for(var t=Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var r=[];for(var o in e)u(e,o)&&r.push(o);return r}function c(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function f(e){for(var t,n=0,r=e.length;n<r;){if((t=e.charCodeAt(n))>=48&&t<=57){n++;continue}return!1}return!0}function d(e){return -1===e.indexOf("/")&&-1===e.indexOf("~")?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function p(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function h(e,t){var n=[e];for(var r in t){var o="object"==typeof t[r]?JSON.stringify(t[r],null,2):t[r];void 0!==o&&n.push(r+": "+o)}return n.join("\n")}var v=function(e){function t(t,n,r,o,i){var a=this.constructor,l=e.call(this,h(t,{name:n,index:r,operation:o,tree:i}))||this;return l.name=n,l.index=r,l.operation=o,l.tree=i,Object.setPrototypeOf(l,a.prototype),l.message=h(t,{name:n,index:r,operation:o,tree:i}),l}return a(t,e),t}(Error),y=v,m=c,g={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var r=e[t];return delete e[t],{newDocument:n,removed:r}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:function(e,t,n){var r=w(n,this.path);r&&(r=c(r));var o=E(n,{op:"remove",path:this.from}).removed;return E(n,{op:"add",path:this.path,value:o}),{newDocument:n,removed:r}},copy:function(e,t,n){var r=w(n,this.from);return E(n,{op:"add",path:this.path,value:c(r)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:P(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},b={add:function(e,t,n){return f(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){return{newDocument:n,removed:e.splice(t,1)[0]}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:g.move,copy:g.copy,test:g.test,_get:g._get};function w(e,t){if(""==t)return e;var n={op:"_get",path:t};return E(e,n),n.value}function E(e,t,n,r,o,i){if(void 0===n&&(n=!1),void 0===r&&(r=!0),void 0===o&&(o=!0),void 0===i&&(i=0),n&&("function"==typeof n?n(t,0,e,t.path):A(t,0)),""===t.path){var a={newDocument:e};if("add"===t.op)return a.newDocument=t.value,a;if("replace"===t.op)return a.newDocument=t.value,a.removed=e,a;if("move"===t.op||"copy"===t.op)return a.newDocument=w(e,t.from),"move"===t.op&&(a.removed=e),a;if("test"===t.op){if(a.test=P(e,t.value),!1===a.test)throw new y("Test operation failed","TEST_OPERATION_FAILED",i,t,e);return a.newDocument=e,a}else{if("remove"===t.op)return a.removed=e,a.newDocument=null,a;if("_get"===t.op)return t.value=e,a;if(!n)return a;throw new y("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",i,t,e)}}r||(e=c(e));var l=(t.path||"").split("/"),u=e,s=1,d=l.length,h=void 0,v=void 0,m=void 0;for(m="function"==typeof n?n:A;;){if((v=l[s])&&-1!=v.indexOf("~")&&(v=p(v)),o&&("__proto__"==v||"prototype"==v&&s>0&&"constructor"==l[s-1]))throw TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&void 0===h&&(void 0===u[v]?h=l.slice(0,s).join("/"):s==d-1&&(h=t.path),void 0!==h&&m(t,0,e,h)),s++,Array.isArray(u)){if("-"===v)v=u.length;else{if(n&&!f(v))throw new y("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",i,t,e);f(v)&&(v=~~v)}if(s>=d){if(n&&"add"===t.op&&v>u.length)throw new y("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",i,t,e);var a=b[t.op].call(t,u,v,e);if(!1===a.test)throw new y("Test operation failed","TEST_OPERATION_FAILED",i,t,e);return a}}else if(s>=d){var a=g[t.op].call(t,u,v,e);if(!1===a.test)throw new y("Test operation failed","TEST_OPERATION_FAILED",i,t,e);return a}if(u=u[v],n&&s<d&&(!u||"object"!=typeof u))throw new y("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",i,t,e)}}function O(e,t,n,r,o){if(void 0===r&&(r=!0),void 0===o&&(o=!0),n&&!Array.isArray(t))throw new y("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=c(e));for(var i=Array(t.length),a=0,l=t.length;a<l;a++)i[a]=E(e,t[a],n,!0,o,a),e=i[a].newDocument;return i.newDocument=e,i}function _(e,t,n){var r=E(e,t);if(!1===r.test)throw new y("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return r.newDocument}function A(e,t,n,r){if("object"!=typeof e||null===e||Array.isArray(e))throw new y("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(g[e.op]){if("string"!=typeof e.path)throw new y("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(0!==e.path.indexOf("/")&&e.path.length>0)throw new y('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if(("move"===e.op||"copy"===e.op)&&"string"!=typeof e.from)throw new y("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);else if(("add"===e.op||"replace"===e.op||"test"===e.op)&&void 0===e.value)throw new y("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);else if(("add"===e.op||"replace"===e.op||"test"===e.op)&&function e(t){if(void 0===t)return!0;if(t){if(Array.isArray(t)){for(var n=0,r=t.length;n<r;n++)if(e(t[n]))return!0}else if("object"==typeof t){for(var o=s(t),i=o.length,a=0;a<i;a++)if(e(t[o[a]]))return!0}}return!1}(e.value))throw new y("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);else if(n){if("add"==e.op){var o=e.path.split("/").length,i=r.split("/").length;if(o!==i+1&&o!==i)throw new y("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if("replace"===e.op||"remove"===e.op||"_get"===e.op){if(e.path!==r)throw new y("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if("move"===e.op||"copy"===e.op){var a=S([{op:"_get",path:e.from,value:void 0}],n);if(a&&"OPERATION_PATH_UNRESOLVABLE"===a.name)throw new y("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}}else throw new y("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n)}function S(e,t,n){try{if(!Array.isArray(e))throw new y("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)O(c(t),c(e),n||!0);else{n=n||A;for(var r=0;r<e.length;r++)n(e[r],r,t,void 0)}}catch(e){if(e instanceof y)return e;throw e}}function P(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){var n,r,o,i=Array.isArray(e),a=Array.isArray(t);if(i&&a){if((r=e.length)!=t.length)return!1;for(n=r;0!=n--;)if(!P(e[n],t[n]))return!1;return!0}if(i!=a)return!1;var l=Object.keys(e);if((r=l.length)!==Object.keys(t).length)return!1;for(n=r;0!=n--;)if(!t.hasOwnProperty(l[n]))return!1;for(n=r;0!=n--;)if(!P(e[o=l[n]],t[o]))return!1;return!0}return e!=e&&t!=t}var T=new WeakMap,R=function(e){this.observers=new Map,this.obj=e},C=function(e,t){this.callback=e,this.observer=t};function D(e,t){t.unobserve()}function x(e,t){var n=T.get(e);if(n){var r,o=n.observers.get(t);r=o&&o.observer}else n=new R(e),T.set(e,n);if(r)return r;if(r={},n.value=c(e),t){r.callback=t,r.next=null;var i=function(){N(r)},a=function(){clearTimeout(r.next),r.next=setTimeout(i)};"undefined"!=typeof window&&(window.addEventListener("mouseup",a),window.addEventListener("keyup",a),window.addEventListener("mousedown",a),window.addEventListener("keydown",a),window.addEventListener("change",a))}return r.patches=[],r.object=e,r.unobserve=function(){N(r),clearTimeout(r.next),function(e,t){e.observers.delete(t.callback)}(n,r),"undefined"!=typeof window&&(window.removeEventListener("mouseup",a),window.removeEventListener("keyup",a),window.removeEventListener("mousedown",a),window.removeEventListener("keydown",a),window.removeEventListener("change",a))},n.observers.set(t,new C(t,r)),r}function N(e,t){void 0===t&&(t=!1);var n=T.get(e.object);j(n.value,e.object,e.patches,"",t),e.patches.length&&O(n.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function j(e,t,n,r,o){if(t!==e){"function"==typeof t.toJSON&&(t=t.toJSON());for(var i=s(t),a=s(e),l=!1,f=a.length-1;f>=0;f--){var p=a[f],h=e[p];if(u(t,p)&&!(void 0===t[p]&&void 0!==h&&!1===Array.isArray(t))){var v=t[p];"object"==typeof h&&null!=h&&"object"==typeof v&&null!=v&&Array.isArray(h)===Array.isArray(v)?j(h,v,n,r+"/"+d(p),o):h!==v&&(o&&n.push({op:"test",path:r+"/"+d(p),value:c(h)}),n.push({op:"replace",path:r+"/"+d(p),value:c(v)}))}else Array.isArray(e)===Array.isArray(t)?(o&&n.push({op:"test",path:r+"/"+d(p),value:c(h)}),n.push({op:"remove",path:r+"/"+d(p)}),l=!0):(o&&n.push({op:"test",path:r,value:e}),n.push({op:"replace",path:r,value:t}))}if(l||i.length!=a.length)for(var f=0;f<i.length;f++){var p=i[f];u(e,p)||void 0===t[p]||n.push({op:"add",path:r+"/"+d(p),value:c(t[p])})}}}function I(e,t,n){void 0===n&&(n=!1);var r=[];return j(e,t,r,"",n),r}var M=Object.assign({},o,i,{JsonPatchError:v,deepClone:c,escapePathComponent:d,unescapePathComponent:p})},3069:function(e,t,n){"use strict";n.d(t,{y:function(){return ek}});var r,o,i=n(2265),a=n(4887),l=n(3078),u=n(5750),s=n(3576);function c(e){let t=(0,s.h)(()=>(0,l.BX)(e)),{isStatic:n}=(0,i.useContext)(u._);if(n){let[,n]=(0,i.useState)(e);(0,i.useEffect)(()=>t.on("change",n),[])}return t}var f=n(5957),d=n(4004),p=n(8843);let h=e=>e&&"object"==typeof e&&e.mix,v=e=>h(e)?e.mix:void 0;var y=n(1534),m=n(5414);function g(e,t){let n=c(t()),r=()=>n.set(t());return r(),(0,y.L)(()=>{let t=()=>m.Wi.preRender(r,!1,!0),n=e.map(e=>e.on("change",t));return()=>{n.forEach(e=>e()),(0,m.Pn)(r)}}),n}function b(e,t,n,r){if("function"==typeof e)return function(e){l.S1.current=[],e();let t=g(l.S1.current,e);return l.S1.current=void 0,t}(e);let o="function"==typeof t?t:function(...e){let t=!Array.isArray(e[0]),n=t?0:-1,r=e[0+n],o=e[1+n],i=e[2+n],a=e[3+n],l=(0,p.s)(o,i,{mixer:v(i[0]),...a});return t?l(r):l}(t,n,r);return Array.isArray(e)?w(e,o):w([e],([e])=>o(e))}function w(e,t){let n=(0,s.h)(()=>[]);return g(e,()=>{n.length=0;let r=e.length;for(let t=0;t<r;t++)n[t]=e[t].get();return t(n)})}var E=n(3223);function O(e,t,n){var r;if("string"==typeof e){let o=document;t&&((0,E.k)(!!t.current,"Scope provided, but no element detected."),o=t.current),n?(null!==(r=n[e])&&void 0!==r||(n[e]=o.querySelectorAll(e)),e=n[e]):e=o.querySelectorAll(e)}else e instanceof Element&&(e=[e]);return Array.from(e||[])}var _=n(7003),A=n(3330),S=n(871),P=n(4239),T=n(3482),R=n(9282),C=n(3289),D=n(4962),x=n(431),N=n(6717),j=n(6261),I=n(8650),M=n(6376),k=n(3999);function L(e,t,n,r){var o;return"number"==typeof t?t:t.startsWith("-")||t.startsWith("+")?Math.max(0,e+parseFloat(t)):"<"===t?n:null!==(o=r.get(t))&&void 0!==o?o:e}let U=(e,t,n)=>{let r=t-e;return((n-e)%r+r)%r+e};var H=n(1477),$=n(9013),W=n(6781);function B(e,t){return e.at!==t.at?e.at-t.at:null===e.value?1:null===t.value?-1:0}function F(e,t){return t.has(e)||t.set(e,{}),t.get(e)}function V(e,t){return t[e]||(t[e]=[]),t[e]}let z=e=>"number"==typeof e,q=e=>e.every(z);function J(e,t,n,r){let o=O(e,r),i=o.length;(0,E.k)(!!i,"No valid element provided.");let a=[];for(let e=0;e<i;e++){let r=o[e];_.R.has(r)||function(e){let t={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},n=(0,P.v)(e)?new T.e(t):new R.W(t);n.mount(e),_.R.set(e,n)}(r);let l=_.R.get(r),u={...n};"function"==typeof u.delay&&(u.delay=u.delay(e,i)),a.push(...(0,S.w)(l,{...t,transition:u},{}))}return new A.s(a)}let Y=e=>Array.isArray(e)&&Array.isArray(e[0]),X=function(e,t,n){let o;return o=Y(e)?function(e,t,n){let r=[];return(function(e,{defaultTransition:t={},...n}={},r){let o=t.duration||.3,i=new Map,a=new Map,l={},u=new Map,s=0,c=0,f=0;for(let n=0;n<e.length;n++){let i=e[n];if("string"==typeof i){u.set(i,c);continue}if(!Array.isArray(i)){u.set(i.name,L(c,i.at,s,u));continue}let[d,p,h={}]=i;void 0!==h.at&&(c=L(c,h.at,s,u));let v=0,y=(e,n,r,i=0,a=0)=>{let l=Array.isArray(e)?e:[e],{delay:u=0,times:s=(0,j.Y)(l),type:d="keyframes",...p}=n,{ease:h=t.ease||"easeOut",duration:y}=n,m="function"==typeof u?u(i,a):u,g=l.length;if(g<=2&&"spring"===d){let e=100;2===g&&q(l)&&(e=Math.abs(l[1]-l[0]));let t={...p};void 0!==y&&(t.duration=(0,N.w)(y));let n=function(e,t=100){let n=(0,D.S)({keyframes:[0,t],...e}),r=Math.min((0,x.i)(n),x.E);return{type:"keyframes",ease:e=>n.next(r*e).value/t,duration:(0,N.X)(r)}}(t,e);h=n.ease,y=n.duration}null!=y||(y=o);let b=c+m,w=b+y;1===s.length&&0===s[0]&&(s[1]=1);let E=s.length-l.length;E>0&&(0,I.c)(s,E),1===l.length&&l.unshift(null),function(e,t,n,r,o,i){!function(e,t,n){for(let r=0;r<e.length;r++){let o=e[r];o.at>t&&o.at<n&&((0,$.cl)(e,o),r--)}}(e,o,i);for(let l=0;l<t.length;l++){var a;e.push({value:t[l],at:(0,W.t)(o,i,r[l]),easing:(a=l,(0,H.N)(n)?n[U(0,n.length,a)]:n)})}}(r,l,h,s,b,w),v=Math.max(m+y,v),f=Math.max(w,f)};if((0,k.i)(d))y(p,h,V("default",F(d,a)));else{let e=O(d,r,l),t=e.length;for(let n=0;n<t;n++){let r=F(e[n],a);for(let e in p)y(p[e],h[e]?{...h,...h[e]}:{...h},V(e,r),n,t)}}s=c,c+=v}return a.forEach((e,r)=>{for(let o in e){let a=e[o];a.sort(B);let l=[],u=[],s=[];for(let e=0;e<a.length;e++){let{at:t,value:n,easing:r}=a[e];l.push(n),u.push((0,M.Y)(0,f,t)),s.push(r||"easeOut")}0!==u[0]&&(u.unshift(0),l.unshift(l[0]),s.unshift("easeInOut")),1!==u[u.length-1]&&(u.push(1),l.push(null)),i.has(r)||i.set(r,{keyframes:{},transition:{}});let c=i.get(r);c.keyframes[o]=l,c.transition[o]={...t,duration:f,ease:s,times:u,...n}}}),i})(e,t,n).forEach(({keyframes:e,transition:t},n)=>{let o;o=(0,k.i)(n)?(0,C.D)(n,e.default,t.default):J(n,e,t),r.push(o)}),new A.s(r)}(e,t,r):"object"!=typeof t||Array.isArray(t)?(0,C.D)(e,t,n):J(e,t,n,r),r&&r.animations.push(o),o};var K=n(755),Q=n(5095);let G="undefined"!=typeof document?i.useLayoutEffect:()=>{};function Z(e){var t;return"undefined"!=typeof window&&null!=window.navigator&&e.test((null===(t=window.navigator.userAgentData)||void 0===t?void 0:t.platform)||window.navigator.platform)}function ee(...e){return(...t)=>{for(let n of e)"function"==typeof n&&n(...t)}}function et(e,t){let n=window.getComputedStyle(e),r=/(auto|scroll)/.test(n.overflow+n.overflowX+n.overflowY);return r&&t&&(r=e.scrollHeight!==e.clientHeight||e.scrollWidth!==e.clientWidth),r}function en(e,t){let n=e;for(et(n,t)&&(n=n.parentElement);n&&!et(n,t);)n=n.parentElement;return n||document.scrollingElement||document.documentElement}var er="calc(100% - env(safe-area-inset-top) - 34px)",eo="undefined"==typeof window,ei={ease:"easeOut",duration:.2},ea={ease:"linear",duration:.01};function el(e,t){let n=e[0],r=Math.abs(e[0]-t);for(let o=1;o<e.length;o++){let i=Math.abs(e[o]-t);i<r&&(n=e[o],r=i)}return n}function eu(e){let t=document.querySelector("body"),n=document.getElementById(e);n&&(n.style.removeProperty("border-top-right-radius"),n.style.removeProperty("border-top-left-radius"),n.style.removeProperty("transform"),n.addEventListener("transitionend",function e(){n.style.removeProperty("overflow"),n.style.removeProperty("will-change"),n.style.removeProperty("transition"),t.style.removeProperty("background-color"),n.removeEventListener("transitionend",e)}))}function es({snapTo:e,sheetHeight:t}){return e<0&&console.warn(`Snap point is out of bounds. Sheet height is ${t} but snap point is ${t+Math.abs(e)}.`),Math.max(Math.round(e),0)}function ec(e){return t=>{e.forEach(e=>{"function"==typeof e?e(t):e&&(e.current=t)})}}var ef=eo?i.useEffect:i.useLayoutEffect;function ed(e){let t=(0,i.useRef)();return(0,i.useEffect)(()=>{t.current=e}),t.current}function ep(e){let t=(0,i.useRef)();return ef(()=>{t.current=e}),(0,i.useCallback)((...e)=>{let n=t.current;return null==n?void 0:n(...e)},[])}var eh={bottom:0,top:0,left:0,right:0};function ev(){return{constraintsRef:(0,i.useRef)(null),onMeasureDragConstraints:(0,i.useCallback)(()=>eh,[])}}var ey=(0,i.createContext)(void 0),em=()=>{let e=(0,i.useContext)(ey);if(!e)throw Error("Sheet context error");return e},eg=(0,i.createContext)(void 0);function eb({children:e}){let t=em(),[n,r]=(0,i.useState)(!!t.disableDrag);return i.createElement(eg.Provider,{value:{disableDrag:n,setDragEnabled:function(){t.disableDrag||r(!1)},setDragDisabled:function(){n||r(!0)}}},e)}var ew=()=>{let e=(0,i.useContext)(eg);if(!e)throw Error("Sheet scroller context error");return e},eE="undefined"!=typeof window?window.visualViewport:void 0,eO=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]),e_=0;function eA(e,t,n){let r=e.style[t];return e.style[t]=n,()=>{e.style[t]=r}}function eS(e,t,n,r){return e.addEventListener(t,n,r),()=>{e.removeEventListener(t,n,r)}}function eP(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let t=en(e);if(t!==document.documentElement&&t!==document.body&&t!==e){let n=t.getBoundingClientRect().top,r=e.getBoundingClientRect().top;r>n+e.clientHeight&&(t.scrollTop+=r-n)}e=t.parentElement}}function eT(e){return e instanceof HTMLInputElement&&!eO.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}var eR={wrapper:{position:"fixed",top:0,bottom:0,left:0,right:0,overflow:"hidden",pointerEvents:"none"},backdrop:{zIndex:1,position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.2)",touchAction:"none",border:"none"},container:{zIndex:2,position:"absolute",left:0,bottom:0,width:"100%",backgroundColor:"#fff",borderTopRightRadius:"8px",borderTopLeftRadius:"8px",boxShadow:"0px -2px 16px rgba(0, 0, 0, 0.3)",display:"flex",flexDirection:"column",pointerEvents:"auto"},headerWrapper:{width:"100%"},header:{height:"40px",width:"100%",position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},indicator:{width:"18px",height:"4px",borderRadius:"99px",backgroundColor:"#ddd"},content:{flexGrow:1,display:"flex",flexDirection:"column",minHeight:"0px",position:"relative"},scroller:{height:"100%",overflowY:"auto"}},eC=(0,i.forwardRef)(({onOpenStart:e,onOpenEnd:t,onClose:n,onCloseStart:r,onCloseEnd:l,onSnap:u,children:s,disableScrollLocking:p=!1,isOpen:h,snapPoints:v,rootId:y,mountPoint:m,style:g,detent:w="full-height",initialSnap:E=0,disableDrag:O=!1,prefersReducedMotion:_=!1,tweenConfig:A=ei,...S},P)=>{let T=(0,i.useRef)(null),R=c(0),{height:C}=function(){let[e,t]=(0,i.useState)({height:0,width:0});return ef(()=>{function e(){t({height:window.innerHeight,width:window.innerWidth})}return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]),e}(),D=function(){d.O.current||(0,f.A)();let[e]=(0,i.useState)(d.n.current);return e}(),x=!!(_||D),N={type:"tween",...x?ea:A},j=c(0),I=b(j,e=>e+2>=C?-1:9999999),M=b(j,e=>e+2>=C?"hidden":"visible"),k=(0,i.useRef)({onOpenStart:e,onOpenEnd:t,onCloseStart:r,onCloseEnd:l});ef(()=>{k.current={onOpenStart:e,onOpenEnd:t,onCloseStart:r,onCloseEnd:l}}),v&&console.assert(function(e){for(let t=0;t<e.length;t++)if(e[t+1]>e[t])return!1;return!0}(v=v.map(e=>e>0&&e<=1?Math.round(e*C):e<0?C+e:e))||0===C,`Snap points need to be in descending order got: [${v.join(", ")}]`);let L=ep((e,{delta:t})=>{let n=j.getVelocity();n>0&&R.set(10),n<0&&R.set(-10),j.set(Math.max(j.get()+t.y,0))}),U=ep(()=>{let e=document.activeElement;e&&T.current&&("INPUT"===e.tagName||"TEXTAREA"===e.tagName)&&T.current.contains(e)&&e.blur()}),H=ep((e,{velocity:t})=>{if(t.y>500)n();else{let e=T.current.getBoundingClientRect().height,t=j.get(),r=0;if(v){let n=v.map(t=>e-Math.min(t,e));"content-height"!==w||n.includes(0)||n.unshift(0),r=el(n,t)}else t/e>.6&&(r=e);if(X(j,r=es({snapTo:r,sheetHeight:e}),N),v&&u){let e=Math.abs(Math.round(v[0]-r));u(v.indexOf(el(v,e)))}r+2>=Math.round(e)&&n()}R.set(0)});(0,i.useEffect)(()=>{v&&u&&u(h?E:v.length-1)},[h]),(0,i.useImperativeHandle)(P,()=>({y:j,snapTo:e=>{let t=T.current;if((null==v?void 0:v[e])!==void 0&&t){let r=t.getBoundingClientRect().height,o=es({snapTo:r-v[e],sheetHeight:r});X(j,o,N),u&&u(e),o>=r&&n()}}})),function(e,t){let n=ed(e);(0,i.useEffect)(()=>{t&&!n&&e?function(e){let t=document.querySelector("body"),n=document.querySelector(`#${e}`);if(n){let e=window.innerHeight;t.style.backgroundColor="#000",n.style.overflow="hidden",n.style.willChange="transform",n.style.transition="transform 200ms ease-in-out, border-radius 200ms linear",n.style.transform=`translateY(calc(env(safe-area-inset-top) + 12px)) scale(${(e-24)/e})`,n.style.borderTopRightRadius="10px",n.style.borderTopLeftRadius="10px"}}(t):t&&!e&&n&&eu(t)},[e,n]),(0,i.useEffect)(()=>()=>{t&&e&&eu(t)},[e])}(h,y),function(e={}){let{isDisabled:t}=e;G(()=>{if(!t)return 1==++e_&&(Z(/^iPhone/i)||Z(/^iPad/i)||Z(/^Mac/i)&&navigator.maxTouchPoints>1?o=function(){let e;let t=0,n=window.pageXOffset,r=window.pageYOffset,o=ee(eA(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`),eA(document.documentElement,"overflow","hidden"),eA(document.body,"marginTop",`-${r}px`));window.scrollTo(0,0);let i=ee(eS(document,"touchstart",n=>{((e=en(n.target))!==document.documentElement||e!==document.body)&&(t=n.changedTouches[0].pageY)},{passive:!1,capture:!0}),eS(document,"touchmove",n=>{if(void 0===e)return;if(e===document.documentElement||e===document.body){n.preventDefault();return}let r=n.changedTouches[0].pageY,o=e.scrollTop,i=e.scrollHeight-e.clientHeight;0!==i&&((o<=0&&r>t||o>=i&&r<t)&&n.preventDefault(),t=r)},{passive:!1,capture:!0}),eS(document,"touchend",e=>{let t=e.target;eT(t)&&t!==document.activeElement&&(e.preventDefault(),t.style.transform="translateY(-2000px)",t.focus(),requestAnimationFrame(()=>{t.style.transform=""}))},{passive:!1,capture:!0}),eS(document,"focus",e=>{let t=e.target;eT(t)&&(t.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{t.style.transform="",eE&&(eE.height<window.innerHeight?requestAnimationFrame(()=>{eP(t)}):eE.addEventListener("resize",()=>{eP(t)},{once:!0}))}))},!0),eS(window,"scroll",()=>{window.scrollTo(0,0)}));return()=>{o(),i(),window.scrollTo(n,r)}}():o=ee(eA(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`),eA(document.documentElement,"overflow","hidden"))),()=>{0==--e_&&o()}},[t])}({isDisabled:p||!h});let $=(0,i.useMemo)(()=>O?void 0:{drag:"y",dragElastic:0,dragMomentum:!1,dragPropagation:!1,onDrag:L,onDragStart:U,onDragEnd:H},[O,C]),W={y:j,sheetRef:T,isOpen:h,initialSnap:E,snapPoints:v,detent:w,indicatorRotation:R,callbacks:k,dragProps:$,windowHeight:C,animationOptions:N,reduceMotion:x,disableDrag:O},B=i.createElement(ey.Provider,{value:W},i.createElement(K.E.div,{...S,ref:P,style:{...eR.wrapper,zIndex:I,visibility:M,...g}},i.createElement(Q.M,null,h?i.createElement(eb,null,i.Children.map(s,(e,t)=>(0,i.cloneElement)(e,{key:`sheet-child-${t}`}))):null)));return eo?B:(0,a.createPortal)(B,m??document.body)});eC.displayName="Sheet";var eD=(0,i.forwardRef)(({children:e,style:t={},className:n="",...r},o)=>{let{y:a,isOpen:l,callbacks:u,snapPoints:s,initialSnap:c=0,sheetRef:f,windowHeight:d,detent:p,animationOptions:h,reduceMotion:v}=em(),{handleAnimationComplete:y}=function(e,t){let n=ed(e),r=(0,i.useRef)(!1),o=(0,i.useCallback)(()=>{var e,n,o,i;r.current?(null==(i=(o=t.current).onCloseEnd)||i.call(o),r.current=!1):(null==(n=(e=t.current).onOpenEnd)||n.call(e),r.current=!0)},[e,n]);return(0,i.useEffect)(()=>{var r,o,i,a;!n&&e?null==(o=(r=t.current).onOpenStart)||o.call(r):!e&&n&&(null==(a=(i=t.current).onCloseStart)||a.call(i))},[e,n]),{handleAnimationComplete:o}}(l,u),m=s?s[0]-s[c]:0,g=s?s[0]:null,b=null!==g?`min(${g}px, ${er})`:er;return i.createElement(K.E.div,{...r,ref:ec([f,o]),className:`react-modal-sheet-container ${n}`,style:{...eR.container,...t,..."full-height"===p&&{height:b},..."content-height"===p&&{maxHeight:b},y:a},initial:!v&&{y:d},animate:{y:m,transition:h},exit:{y:d,transition:h},onAnimationComplete:y},e)});eD.displayName="SheetContainer";var ex=(0,i.forwardRef)(({children:e,style:t,disableDrag:n,className:r="",...o},a)=>{let l=em(),u=ew(),{constraintsRef:s,onMeasureDragConstraints:c}=ev(),f=n||u.disableDrag?void 0:l.dragProps;return i.createElement(K.E.div,{...o,ref:ec([a,s]),className:`react-modal-sheet-content ${r}`,style:{...eR.content,...t},...f,dragConstraints:s,onMeasureDragConstraints:c},e)});ex.displayName="SheetContent";var eN=(0,i.forwardRef)(({children:e,style:t,disableDrag:n,...r},o)=>{let{indicatorRotation:a,dragProps:l}=em(),{constraintsRef:u,onMeasureDragConstraints:s}=ev(),c=b(a,e=>`translateX(2px) rotate(${e}deg)`),f=b(a,e=>`translateX(-2px) rotate(${-1*e}deg)`);return i.createElement(K.E.div,{...r,ref:ec([o,u]),style:{...eR.headerWrapper,...t},...n?void 0:l,dragConstraints:u,onMeasureDragConstraints:s},e||i.createElement("div",{className:"react-modal-sheet-header",style:eR.header},i.createElement(K.E.span,{className:"react-modal-sheet-drag-indicator",style:{...eR.indicator,transform:c}}),i.createElement(K.E.span,{className:"react-modal-sheet-drag-indicator",style:{...eR.indicator,transform:f}})))});eN.displayName="SheetHeader";var ej=e=>!!e.onClick||!!e.onTap,eI=(0,i.forwardRef)(({style:e={},className:t="",...n},r)=>{let o=ej(n)?K.E.button:K.E.div,a=ej(n)?"auto":"none";return i.createElement(o,{...n,ref:r,className:`react-modal-sheet-backdrop ${t}`,style:{...eR.backdrop,...e,pointerEvents:a},initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}})});eI.displayName="SheetBackdrop";var eM=(0,i.forwardRef)(({draggableAt:e="top",children:t,style:n,className:r="",...o},a)=>{let l=ew();function u(t){let{scrollTop:n,scrollHeight:r,clientHeight:o}=t;if(!(r>o))return;let i=n<=0,a=r-n===o;"top"===e&&i||"bottom"===e&&a||"both"===e&&(i||a)?l.setDragEnabled():l.setDragDisabled()}let s="undefined"!=typeof window&&("ontouchstart"in window||navigator.maxTouchPoints>0)?{onScroll:function(e){u(e.currentTarget)},onTouchStart:function(e){u(e.currentTarget)}}:void 0;return i.createElement("div",{...o,ref:a,className:`react-modal-sheet-scroller ${r}`,style:{...eR.scroller,...n},...s},t)});eM.displayName="SheetScroller",eC.Container=eD,eC.Header=eN,eC.Content=ex,eC.Backdrop=eI,eC.Scroller=eM;var ek=eC}}]);